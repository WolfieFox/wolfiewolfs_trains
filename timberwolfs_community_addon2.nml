grf {
  grfid:                  "WFY\18";
  name:                   string(STR_GRF_NAME);
  desc:                   string(STR_GRF_DESCRIPTION);
  version:                3738;
  min_compatible_version: 1;
  param 0 {
    param_concept_trains {
        name: string(STR_PARAM_CONCEPT_TRAINS);
        desc: string(STR_PARAM_CONCEPT_TRAINS_DESCRIPTION);
        type: bool;
        def_value: 1;
    }
}


}

cargotable { ACID, ALUM, AORE, BATT, BDMT, BEAN, BEER, BOOM, BRCK, BUBL, CASS, CBLK, CCPR, CERA, CERE, CHLO, CLAY, CMNT, COAL, COAT, COKE, COLA, COPR, CORE, CSTI, CTAR, CTCD, DIAM, DYES, ENSP, EOIL, FECR, FERT, FICR, FISH, FMSP, FOCA, FOOD, FRUT, FRVG, FZDR, GLAS, GOLD, GOOD, GRAI, GRVL, HWAR, IORE, IRON, JAVA, KAOL, LIME, LVST, LYE_, MAIL, MAIZ, METL, MILK, MNO2, MNSP, N7__, NH3_, NITR, NUKF, NUKW, NUTS, O2__, OIL_, OLSD, PAPR, PASS, PEAT, PETR, PHOS, PIPE, PLAS, PLST, PORE, POTA, POWR, PUMP, QLME, RBAR, RCYC, RFPR, RUBR, SALT, SAND, SASH, SCMT, SEAL, SGBT, SGCN, SLAG, SOAP, STAL, STBL, STBR, STCB, STEL, STIG, STPP, STSE, STSH, STSL, STST, STTB, STWR, SUGR, SULP, SWET, TOFF, TOUR, TOYS, TYCO, TYRE, URAN, VALU, VBOD, VEHI, VENG, VPTS, WATR, WDPR, WELD, WHEA, WOOD, WOOL, WSTE, YETI, YETY, ZINC}

if (grf_future_status("TWF\07") == 0) {
    error(FATAL, MUST_LOAD_AFTER, "Timberwolf's UK Trains");
}

param_build_costs = param["TWF\07",0];
param_running_costs = param["TWF\07",1];

param_max_mu_length = param["TWF\07",2];
param_run_cost_penalty = param["TWF\07",3];
param_graffiti = param["TWF\07",4];

param_slower_cargo_aging = param["TWF\07", 6];
//param_no_gameplay_units = param["TWF\07", 7];
template template_invisible() {
    [ 0, 0, 1, 1, 0, 0 ]
}

// Invisible sprites for articulated vehicles
spriteset (spriteset_invisible, "files/transparent.png" ) { 
    template_invisible() 
}

train_width_32_px=1;
traininfo_y_offset=4;


 disable_item(FEAT_TRAINS, 0, 115);

 railtypetable {
    //3RDR is generic 3rd rail, from old-school pb_trax.grf and friends
    //3RDC is 3rd rail with catenary, from same
    RAIL, ELRL, SAAE, SAAZ, SAA3, TDRL, "3RDR", "3RDC",
    PLATEWAY: [PTWY,RAIL], 
    THIRD_RAIL: [TDRL,SAA3,"3RDR","3RDC",ELRL],
    DUAL_POWER: [SAAZ,DUAL,SAA3,SAAE,TDRL,"3RDR","3RDC",ELRL],
    FOURTH_RAIL: [SAA4,MTRO,"3RDR",ELRL],
    NARROW_GAUGE: [NGRL,NAAN],
}

 basecost {
     PR_BUILD_VEHICLE_WAGON: param_build_costs + 1;
     PR_BUILD_VEHICLE_TRAIN: param_build_costs - 3;
     PR_RUNNING_TRAIN_STEAM: param_running_costs - 5;     // Wagon running costs
     PR_RUNNING_TRAIN_DIESEL: param_running_costs;    // Train running costs
 }

HAS_BRAKE_VAN = 1;
HAS_DANDY_WAGON = 2;
HAS_BUFFET_CAR = 3;

//const CC_PASSENGERS = 0;
//const CC_MAIL = 1;
//const CC_EXPRESS = 2;
//const CC_ARMOURED = 3;
const CC_OPEN_BULK = 4;
//const CC_PIECE_GOODS = 5;
const CC_LIQUID_BULK = 6;
//const CC_REFRIGERATED = 7;
const CC_GAS_BULK = 8;
const CC_COVERED_BULK = 9;
const CC_FLATBED = 10;
const CC_POWDER_BULK = 11;
const CC_WEIRD = 12;
//const CC_POTABLE = 13;
//const CC_NON_POTABLE = 14;
//const CC_SPECIAL = 15;
template template_auto_3_1x() {
  [ 0, 0, 7, 45, -2, -33 ]
  [ 76, 0, 36, 31, -14, -21 ]
  [ 234, 0, 62, 17, -17, -13 ]
  [ 418, 0, 36, 31, -8, -15 ]
  [ 523, 0, 7, 45, -2, -19 ]
  [ 599, 0, 36, 31, -28, -14 ]
  [ 757, 0, 62, 17, -45, -13 ]
  [ 941, 0, 36, 31, -22, -22 ]
}

template template_auto_turn_1_3_1x() {
  [ 15, 0, 18, 38, -8, -30 ]
  [ 120, 0, 45, 26, -18, -19 ]
  [ 304, 0, 53, 22, -12, -15 ]
  [ 462, 0, 27, 35, -3, -17 ]
  [ 538, 0, 18, 38, -8, -16 ]
  [ 643, 0, 45, 26, -32, -12 ]
  [ 827, 0, 53, 22, -40, -15 ]
  [ 985, 0, 27, 35, -17, -24 ]
}

template template_auto_turn_2_3_1x() {
  [ 1020, 0, 18, 38, -8, -30 ]
  [ 41, 0, 27, 35, -9, -23 ]
  [ 173, 0, 53, 22, -12, -15 ]
  [ 365, 0, 45, 26, -12, -13 ]
  [ 497, 0, 18, 38, -8, -16 ]
  [ 564, 0, 27, 35, -23, -16 ]
  [ 696, 0, 53, 22, -40, -15 ]
  [ 888, 0, 45, 26, -26, -20 ]
}

template template_auto_4_1x() {
  [ 0, 0, 7, 45, -2, -32 ]
  [ 76, 0, 36, 31, -15, -21 ]
  [ 234, 0, 62, 17, -19, -13 ]
  [ 418, 0, 36, 31, -9, -16 ]
  [ 523, 0, 7, 45, -2, -20 ]
  [ 599, 0, 36, 31, -27, -15 ]
  [ 757, 0, 62, 17, -43, -13 ]
  [ 941, 0, 36, 31, -21, -22 ]
}

template template_auto_turn_1_4_1x() {
  [ 15, 0, 18, 38, -8, -29 ]
  [ 120, 0, 45, 26, -19, -18 ]
  [ 304, 0, 53, 22, -14, -15 ]
  [ 462, 0, 27, 35, -4, -18 ]
  [ 538, 0, 18, 38, -8, -17 ]
  [ 643, 0, 45, 26, -31, -12 ]
  [ 827, 0, 53, 22, -38, -15 ]
  [ 985, 0, 27, 35, -16, -24 ]
}

template template_auto_turn_2_4_1x() {
  [ 1020, 0, 18, 38, -8, -29 ]
  [ 41, 0, 27, 35, -10, -23 ]
  [ 173, 0, 53, 22, -14, -15 ]
  [ 365, 0, 45, 26, -13, -13 ]
  [ 497, 0, 18, 38, -8, -17 ]
  [ 564, 0, 27, 35, -22, -17 ]
  [ 696, 0, 53, 22, -38, -15 ]
  [ 888, 0, 45, 26, -25, -19 ]
}

template template_auto_5_1x() {
  [ 0, 0, 7, 45, -2, -33 ]
  [ 76, 0, 36, 31, -14, -21 ]
  [ 234, 0, 62, 17, -17, -13 ]
  [ 418, 0, 36, 31, -8, -15 ]
  [ 523, 0, 7, 45, -2, -19 ]
  [ 599, 0, 36, 31, -28, -14 ]
  [ 757, 0, 62, 17, -45, -13 ]
  [ 941, 0, 36, 31, -22, -22 ]
}

template template_auto_turn_1_5_1x() {
  [ 15, 0, 18, 38, -8, -30 ]
  [ 120, 0, 45, 26, -18, -19 ]
  [ 304, 0, 53, 22, -12, -15 ]
  [ 462, 0, 27, 35, -3, -17 ]
  [ 538, 0, 18, 38, -8, -16 ]
  [ 643, 0, 45, 26, -32, -12 ]
  [ 827, 0, 53, 22, -40, -15 ]
  [ 985, 0, 27, 35, -17, -24 ]
}

template template_auto_turn_2_5_1x() {
  [ 1020, 0, 18, 38, -8, -30 ]
  [ 41, 0, 27, 35, -9, -23 ]
  [ 173, 0, 53, 22, -12, -15 ]
  [ 365, 0, 45, 26, -12, -13 ]
  [ 497, 0, 18, 38, -8, -16 ]
  [ 564, 0, 27, 35, -23, -16 ]
  [ 696, 0, 53, 22, -40, -15 ]
  [ 888, 0, 45, 26, -26, -20 ]
}

template template_auto_6_1x() {
  [ 0, 0, 7, 45, -2, -32 ]
  [ 76, 0, 36, 31, -15, -21 ]
  [ 234, 0, 62, 17, -19, -13 ]
  [ 418, 0, 36, 31, -9, -16 ]
  [ 523, 0, 7, 45, -2, -20 ]
  [ 599, 0, 36, 31, -27, -15 ]
  [ 757, 0, 62, 17, -43, -13 ]
  [ 941, 0, 36, 31, -21, -22 ]
}

template template_auto_turn_1_6_1x() {
  [ 15, 0, 18, 38, -8, -29 ]
  [ 120, 0, 45, 26, -19, -18 ]
  [ 304, 0, 53, 22, -14, -15 ]
  [ 462, 0, 27, 35, -4, -18 ]
  [ 538, 0, 18, 38, -8, -17 ]
  [ 643, 0, 45, 26, -31, -12 ]
  [ 827, 0, 53, 22, -38, -15 ]
  [ 985, 0, 27, 35, -16, -24 ]
}

template template_auto_turn_2_6_1x() {
  [ 1020, 0, 18, 38, -8, -29 ]
  [ 41, 0, 27, 35, -10, -23 ]
  [ 173, 0, 53, 22, -14, -15 ]
  [ 365, 0, 45, 26, -13, -13 ]
  [ 497, 0, 18, 38, -8, -17 ]
  [ 564, 0, 27, 35, -22, -17 ]
  [ 696, 0, 53, 22, -38, -15 ]
  [ 888, 0, 45, 26, -25, -19 ]
}

template template_auto_7_1x() {
  [ 0, 0, 7, 45, -2, -31 ]
  [ 76, 0, 36, 31, -16, -20 ]
  [ 234, 0, 62, 17, -21, -13 ]
  [ 418, 0, 36, 31, -10, -16 ]
  [ 523, 0, 7, 45, -2, -21 ]
  [ 599, 0, 36, 31, -26, -15 ]
  [ 757, 0, 62, 17, -41, -13 ]
  [ 941, 0, 36, 31, -20, -21 ]
}

template template_auto_turn_1_7_1x() {
  [ 15, 0, 18, 38, -8, -28 ]
  [ 120, 0, 45, 26, -20, -18 ]
  [ 304, 0, 53, 22, -16, -15 ]
  [ 462, 0, 27, 35, -5, -18 ]
  [ 538, 0, 18, 38, -8, -18 ]
  [ 643, 0, 45, 26, -30, -13 ]
  [ 827, 0, 53, 22, -36, -15 ]
  [ 985, 0, 27, 35, -15, -23 ]
}

template template_auto_turn_2_7_1x() {
  [ 1020, 0, 18, 38, -8, -28 ]
  [ 41, 0, 27, 35, -11, -22 ]
  [ 173, 0, 53, 22, -16, -15 ]
  [ 365, 0, 45, 26, -14, -14 ]
  [ 497, 0, 18, 38, -8, -18 ]
  [ 564, 0, 27, 35, -21, -17 ]
  [ 696, 0, 53, 22, -36, -15 ]
  [ 888, 0, 45, 26, -24, -19 ]
}

template template_auto_8_1x() {
  [ 0, 0, 7, 45, -2, -30 ]
  [ 76, 0, 36, 31, -17, -20 ]
  [ 234, 0, 62, 17, -23, -13 ]
  [ 418, 0, 36, 31, -11, -17 ]
  [ 523, 0, 7, 45, -2, -22 ]
  [ 599, 0, 36, 31, -25, -16 ]
  [ 757, 0, 62, 17, -39, -13 ]
  [ 941, 0, 36, 31, -19, -21 ]
}

template template_auto_turn_1_8_1x() {
  [ 15, 0, 18, 38, -8, -27 ]
  [ 120, 0, 45, 26, -21, -17 ]
  [ 304, 0, 53, 22, -18, -15 ]
  [ 462, 0, 27, 35, -6, -19 ]
  [ 538, 0, 18, 38, -8, -19 ]
  [ 643, 0, 45, 26, -29, -13 ]
  [ 827, 0, 53, 22, -34, -15 ]
  [ 985, 0, 27, 35, -14, -23 ]
}

template template_auto_turn_2_8_1x() {
  [ 1020, 0, 18, 38, -8, -27 ]
  [ 41, 0, 27, 35, -12, -22 ]
  [ 173, 0, 53, 22, -18, -15 ]
  [ 365, 0, 45, 26, -15, -14 ]
  [ 497, 0, 18, 38, -8, -19 ]
  [ 564, 0, 27, 35, -20, -18 ]
  [ 696, 0, 53, 22, -34, -15 ]
  [ 888, 0, 45, 26, -23, -18 ]
}

template template_auto_9_1x() {
  [ 0, 0, 7, 45, -2, -29 ]
  [ 76, 0, 36, 31, -18, -19 ]
  [ 234, 0, 62, 17, -25, -13 ]
  [ 418, 0, 36, 31, -12, -17 ]
  [ 523, 0, 7, 45, -2, -23 ]
  [ 599, 0, 36, 31, -24, -16 ]
  [ 757, 0, 62, 17, -37, -13 ]
  [ 941, 0, 36, 31, -18, -20 ]
}

template template_auto_turn_1_9_1x() {
  [ 15, 0, 18, 38, -8, -26 ]
  [ 120, 0, 45, 26, -22, -17 ]
  [ 304, 0, 53, 22, -20, -15 ]
  [ 462, 0, 27, 35, -7, -19 ]
  [ 538, 0, 18, 38, -8, -20 ]
  [ 643, 0, 45, 26, -28, -14 ]
  [ 827, 0, 53, 22, -32, -15 ]
  [ 985, 0, 27, 35, -13, -22 ]
}

template template_auto_turn_2_9_1x() {
  [ 1020, 0, 18, 38, -8, -26 ]
  [ 41, 0, 27, 35, -13, -21 ]
  [ 173, 0, 53, 22, -20, -15 ]
  [ 365, 0, 45, 26, -16, -15 ]
  [ 497, 0, 18, 38, -8, -20 ]
  [ 564, 0, 27, 35, -19, -18 ]
  [ 696, 0, 53, 22, -32, -15 ]
  [ 888, 0, 45, 26, -22, -18 ]
}

template template_auto_10_1x() {
  [ 0, 0, 7, 45, -2, -32 ]
  [ 76, 0, 36, 31, -15, -21 ]
  [ 234, 0, 62, 17, -19, -13 ]
  [ 418, 0, 36, 31, -9, -16 ]
  [ 523, 0, 7, 45, -2, -20 ]
  [ 599, 0, 36, 31, -27, -15 ]
  [ 757, 0, 62, 17, -43, -13 ]
  [ 941, 0, 36, 31, -21, -22 ]
}

template template_auto_turn_1_10_1x() {
  [ 15, 0, 18, 38, -8, -29 ]
  [ 120, 0, 45, 26, -19, -18 ]
  [ 304, 0, 53, 22, -14, -15 ]
  [ 462, 0, 27, 35, -4, -18 ]
  [ 538, 0, 18, 38, -8, -17 ]
  [ 643, 0, 45, 26, -31, -12 ]
  [ 827, 0, 53, 22, -38, -15 ]
  [ 985, 0, 27, 35, -16, -24 ]
}

template template_auto_turn_2_10_1x() {
  [ 1020, 0, 18, 38, -8, -29 ]
  [ 41, 0, 27, 35, -10, -23 ]
  [ 173, 0, 53, 22, -14, -15 ]
  [ 365, 0, 45, 26, -13, -13 ]
  [ 497, 0, 18, 38, -8, -17 ]
  [ 564, 0, 27, 35, -22, -17 ]
  [ 696, 0, 53, 22, -38, -15 ]
  [ 888, 0, 45, 26, -25, -19 ]
}

template template_auto_11_1x() {
  [ 0, 0, 7, 45, -2, -31 ]
  [ 76, 0, 36, 31, -16, -20 ]
  [ 234, 0, 62, 17, -21, -13 ]
  [ 418, 0, 36, 31, -10, -16 ]
  [ 523, 0, 7, 45, -2, -21 ]
  [ 599, 0, 36, 31, -26, -15 ]
  [ 757, 0, 62, 17, -41, -13 ]
  [ 941, 0, 36, 31, -20, -21 ]
}

template template_auto_turn_1_11_1x() {
  [ 15, 0, 18, 38, -8, -28 ]
  [ 120, 0, 45, 26, -20, -18 ]
  [ 304, 0, 53, 22, -16, -15 ]
  [ 462, 0, 27, 35, -5, -18 ]
  [ 538, 0, 18, 38, -8, -18 ]
  [ 643, 0, 45, 26, -30, -13 ]
  [ 827, 0, 53, 22, -36, -15 ]
  [ 985, 0, 27, 35, -15, -23 ]
}

template template_auto_turn_2_11_1x() {
  [ 1020, 0, 18, 38, -8, -28 ]
  [ 41, 0, 27, 35, -11, -22 ]
  [ 173, 0, 53, 22, -16, -15 ]
  [ 365, 0, 45, 26, -14, -14 ]
  [ 497, 0, 18, 38, -8, -18 ]
  [ 564, 0, 27, 35, -21, -17 ]
  [ 696, 0, 53, 22, -36, -15 ]
  [ 888, 0, 45, 26, -24, -19 ]
}

template template_auto_12_1x() {
  [ 0, 0, 7, 45, -2, -30 ]
  [ 76, 0, 36, 31, -17, -20 ]
  [ 234, 0, 62, 17, -23, -13 ]
  [ 418, 0, 36, 31, -11, -17 ]
  [ 523, 0, 7, 45, -2, -22 ]
  [ 599, 0, 36, 31, -25, -16 ]
  [ 757, 0, 62, 17, -39, -13 ]
  [ 941, 0, 36, 31, -19, -21 ]
}

template template_auto_turn_1_12_1x() {
  [ 15, 0, 18, 38, -8, -27 ]
  [ 120, 0, 45, 26, -21, -17 ]
  [ 304, 0, 53, 22, -18, -15 ]
  [ 462, 0, 27, 35, -6, -19 ]
  [ 538, 0, 18, 38, -8, -19 ]
  [ 643, 0, 45, 26, -29, -13 ]
  [ 827, 0, 53, 22, -34, -15 ]
  [ 985, 0, 27, 35, -14, -23 ]
}

template template_auto_turn_2_12_1x() {
  [ 1020, 0, 18, 38, -8, -27 ]
  [ 41, 0, 27, 35, -12, -22 ]
  [ 173, 0, 53, 22, -18, -15 ]
  [ 365, 0, 45, 26, -15, -14 ]
  [ 497, 0, 18, 38, -8, -19 ]
  [ 564, 0, 27, 35, -20, -18 ]
  [ 696, 0, 53, 22, -34, -15 ]
  [ 888, 0, 45, 26, -23, -18 ]
}

template template_auto_13_1x() {
  [ 0, 0, 7, 45, -2, -29 ]
  [ 76, 0, 36, 31, -18, -19 ]
  [ 234, 0, 62, 17, -25, -13 ]
  [ 418, 0, 36, 31, -12, -17 ]
  [ 523, 0, 7, 45, -2, -23 ]
  [ 599, 0, 36, 31, -24, -16 ]
  [ 757, 0, 62, 17, -37, -13 ]
  [ 941, 0, 36, 31, -18, -20 ]
}

template template_auto_turn_1_13_1x() {
  [ 15, 0, 18, 38, -8, -26 ]
  [ 120, 0, 45, 26, -22, -17 ]
  [ 304, 0, 53, 22, -20, -15 ]
  [ 462, 0, 27, 35, -7, -19 ]
  [ 538, 0, 18, 38, -8, -20 ]
  [ 643, 0, 45, 26, -28, -14 ]
  [ 827, 0, 53, 22, -32, -15 ]
  [ 985, 0, 27, 35, -13, -22 ]
}

template template_auto_turn_2_13_1x() {
  [ 1020, 0, 18, 38, -8, -26 ]
  [ 41, 0, 27, 35, -13, -21 ]
  [ 173, 0, 53, 22, -20, -15 ]
  [ 365, 0, 45, 26, -16, -15 ]
  [ 497, 0, 18, 38, -8, -20 ]
  [ 564, 0, 27, 35, -19, -18 ]
  [ 696, 0, 53, 22, -32, -15 ]
  [ 888, 0, 45, 26, -22, -18 ]
}

template template_auto_14_1x() {
  [ 0, 0, 7, 45, -2, -28 ]
  [ 76, 0, 36, 31, -19, -19 ]
  [ 234, 0, 62, 17, -27, -13 ]
  [ 418, 0, 36, 31, -13, -18 ]
  [ 523, 0, 7, 45, -2, -24 ]
  [ 599, 0, 36, 31, -23, -17 ]
  [ 757, 0, 62, 17, -35, -13 ]
  [ 941, 0, 36, 31, -17, -20 ]
}

template template_auto_turn_1_14_1x() {
  [ 15, 0, 18, 38, -8, -25 ]
  [ 120, 0, 45, 26, -23, -16 ]
  [ 304, 0, 53, 22, -22, -15 ]
  [ 462, 0, 27, 35, -8, -20 ]
  [ 538, 0, 18, 38, -8, -21 ]
  [ 643, 0, 45, 26, -27, -14 ]
  [ 827, 0, 53, 22, -30, -15 ]
  [ 985, 0, 27, 35, -12, -22 ]
}

template template_auto_turn_2_14_1x() {
  [ 1020, 0, 18, 38, -8, -25 ]
  [ 41, 0, 27, 35, -14, -21 ]
  [ 173, 0, 53, 22, -22, -15 ]
  [ 365, 0, 45, 26, -17, -15 ]
  [ 497, 0, 18, 38, -8, -21 ]
  [ 564, 0, 27, 35, -18, -19 ]
  [ 696, 0, 53, 22, -30, -15 ]
  [ 888, 0, 45, 26, -21, -17 ]
}

template template_auto_15_1x() {
  [ 0, 0, 7, 45, -2, -27 ]
  [ 76, 0, 36, 31, -20, -18 ]
  [ 234, 0, 62, 17, -29, -13 ]
  [ 418, 0, 36, 31, -14, -18 ]
  [ 523, 0, 7, 45, -2, -25 ]
  [ 599, 0, 36, 31, -22, -17 ]
  [ 757, 0, 62, 17, -33, -13 ]
  [ 941, 0, 36, 31, -16, -19 ]
}

template template_auto_turn_1_15_1x() {
  [ 15, 0, 18, 38, -8, -24 ]
  [ 120, 0, 45, 26, -24, -16 ]
  [ 304, 0, 53, 22, -24, -15 ]
  [ 462, 0, 27, 35, -9, -20 ]
  [ 538, 0, 18, 38, -8, -22 ]
  [ 643, 0, 45, 26, -26, -15 ]
  [ 827, 0, 53, 22, -28, -15 ]
  [ 985, 0, 27, 35, -11, -21 ]
}

template template_auto_turn_2_15_1x() {
  [ 1020, 0, 18, 38, -8, -24 ]
  [ 41, 0, 27, 35, -15, -20 ]
  [ 173, 0, 53, 22, -24, -15 ]
  [ 365, 0, 45, 26, -18, -16 ]
  [ 497, 0, 18, 38, -8, -22 ]
  [ 564, 0, 27, 35, -17, -19 ]
  [ 696, 0, 53, 22, -28, -15 ]
  [ 888, 0, 45, 26, -20, -17 ]
}

template template_auto_16_1x() {
  [ 0, 0, 7, 45, -2, -26 ]
  [ 76, 0, 36, 31, -21, -18 ]
  [ 234, 0, 62, 17, -31, -13 ]
  [ 418, 0, 36, 31, -15, -19 ]
  [ 523, 0, 7, 45, -2, -26 ]
  [ 599, 0, 36, 31, -21, -18 ]
  [ 757, 0, 62, 17, -31, -13 ]
  [ 941, 0, 36, 31, -15, -19 ]
}

template template_auto_turn_1_16_1x() {
  [ 15, 0, 18, 38, -8, -23 ]
  [ 120, 0, 45, 26, -25, -15 ]
  [ 304, 0, 53, 22, -26, -15 ]
  [ 462, 0, 27, 35, -10, -21 ]
  [ 538, 0, 18, 38, -8, -23 ]
  [ 643, 0, 45, 26, -25, -15 ]
  [ 827, 0, 53, 22, -26, -15 ]
  [ 985, 0, 27, 35, -10, -21 ]
}

template template_auto_turn_2_16_1x() {
  [ 1020, 0, 18, 38, -8, -23 ]
  [ 41, 0, 27, 35, -16, -20 ]
  [ 173, 0, 53, 22, -26, -15 ]
  [ 365, 0, 45, 26, -19, -16 ]
  [ 497, 0, 18, 38, -8, -23 ]
  [ 564, 0, 27, 35, -16, -20 ]
  [ 696, 0, 53, 22, -26, -15 ]
  [ 888, 0, 45, 26, -19, -16 ]
}

template template_auto_3_2x() {
  [ 0, 0, 14, 90, -5, -67 ]
  [ 152, 0, 72, 62, -28, -43 ]
  [ 468, 0, 124, 34, -34, -26 ]
  [ 836, 0, 72, 62, -16, -31 ]
  [ 1046, 0, 14, 90, -5, -39 ]
  [ 1198, 0, 72, 62, -56, -29 ]
  [ 1514, 0, 124, 34, -90, -26 ]
  [ 1882, 0, 72, 62, -44, -45 ]
}

template template_auto_turn_1_3_2x() {
  [ 30, 0, 36, 76, -16, -60 ]
  [ 240, 0, 90, 52, -37, -38 ]
  [ 608, 0, 106, 44, -25, -31 ]
  [ 924, 0, 54, 70, -7, -35 ]
  [ 1076, 0, 36, 76, -16, -32 ]
  [ 1286, 0, 90, 52, -65, -24 ]
  [ 1654, 0, 106, 44, -81, -31 ]
  [ 1970, 0, 54, 70, -35, -49 ]
}

template template_auto_turn_2_3_2x() {
  [ 2040, 0, 36, 76, -16, -60 ]
  [ 82, 0, 54, 70, -19, -47 ]
  [ 346, 0, 106, 44, -25, -31 ]
  [ 730, 0, 90, 52, -25, -26 ]
  [ 994, 0, 36, 76, -16, -32 ]
  [ 1128, 0, 54, 70, -47, -33 ]
  [ 1392, 0, 106, 44, -81, -31 ]
  [ 1776, 0, 90, 52, -53, -40 ]
}

template template_auto_4_2x() {
  [ 0, 0, 14, 90, -5, -65 ]
  [ 152, 0, 72, 62, -30, -42 ]
  [ 468, 0, 124, 34, -38, -26 ]
  [ 836, 0, 72, 62, -18, -32 ]
  [ 1046, 0, 14, 90, -5, -41 ]
  [ 1198, 0, 72, 62, -54, -30 ]
  [ 1514, 0, 124, 34, -86, -26 ]
  [ 1882, 0, 72, 62, -42, -44 ]
}

template template_auto_turn_1_4_2x() {
  [ 30, 0, 36, 76, -16, -58 ]
  [ 240, 0, 90, 52, -39, -37 ]
  [ 608, 0, 106, 44, -29, -31 ]
  [ 924, 0, 54, 70, -9, -36 ]
  [ 1076, 0, 36, 76, -16, -34 ]
  [ 1286, 0, 90, 52, -63, -25 ]
  [ 1654, 0, 106, 44, -77, -31 ]
  [ 1970, 0, 54, 70, -33, -48 ]
}

template template_auto_turn_2_4_2x() {
  [ 2040, 0, 36, 76, -16, -58 ]
  [ 82, 0, 54, 70, -21, -46 ]
  [ 346, 0, 106, 44, -29, -31 ]
  [ 730, 0, 90, 52, -27, -27 ]
  [ 994, 0, 36, 76, -16, -34 ]
  [ 1128, 0, 54, 70, -45, -34 ]
  [ 1392, 0, 106, 44, -77, -31 ]
  [ 1776, 0, 90, 52, -51, -39 ]
}

template template_auto_5_2x() {
  [ 0, 0, 14, 90, -5, -67 ]
  [ 152, 0, 72, 62, -28, -43 ]
  [ 468, 0, 124, 34, -34, -26 ]
  [ 836, 0, 72, 62, -16, -31 ]
  [ 1046, 0, 14, 90, -5, -39 ]
  [ 1198, 0, 72, 62, -56, -29 ]
  [ 1514, 0, 124, 34, -90, -26 ]
  [ 1882, 0, 72, 62, -44, -45 ]
}

template template_auto_turn_1_5_2x() {
  [ 30, 0, 36, 76, -16, -60 ]
  [ 240, 0, 90, 52, -37, -38 ]
  [ 608, 0, 106, 44, -25, -31 ]
  [ 924, 0, 54, 70, -7, -35 ]
  [ 1076, 0, 36, 76, -16, -32 ]
  [ 1286, 0, 90, 52, -65, -24 ]
  [ 1654, 0, 106, 44, -81, -31 ]
  [ 1970, 0, 54, 70, -35, -49 ]
}

template template_auto_turn_2_5_2x() {
  [ 2040, 0, 36, 76, -16, -60 ]
  [ 82, 0, 54, 70, -19, -47 ]
  [ 346, 0, 106, 44, -25, -31 ]
  [ 730, 0, 90, 52, -25, -26 ]
  [ 994, 0, 36, 76, -16, -32 ]
  [ 1128, 0, 54, 70, -47, -33 ]
  [ 1392, 0, 106, 44, -81, -31 ]
  [ 1776, 0, 90, 52, -53, -40 ]
}

template template_auto_6_2x() {
  [ 0, 0, 14, 90, -5, -65 ]
  [ 152, 0, 72, 62, -30, -42 ]
  [ 468, 0, 124, 34, -38, -26 ]
  [ 836, 0, 72, 62, -18, -32 ]
  [ 1046, 0, 14, 90, -5, -41 ]
  [ 1198, 0, 72, 62, -54, -30 ]
  [ 1514, 0, 124, 34, -86, -26 ]
  [ 1882, 0, 72, 62, -42, -44 ]
}

template template_auto_turn_1_6_2x() {
  [ 30, 0, 36, 76, -16, -58 ]
  [ 240, 0, 90, 52, -39, -37 ]
  [ 608, 0, 106, 44, -29, -31 ]
  [ 924, 0, 54, 70, -9, -36 ]
  [ 1076, 0, 36, 76, -16, -34 ]
  [ 1286, 0, 90, 52, -63, -25 ]
  [ 1654, 0, 106, 44, -77, -31 ]
  [ 1970, 0, 54, 70, -33, -48 ]
}

template template_auto_turn_2_6_2x() {
  [ 2040, 0, 36, 76, -16, -58 ]
  [ 82, 0, 54, 70, -21, -46 ]
  [ 346, 0, 106, 44, -29, -31 ]
  [ 730, 0, 90, 52, -27, -27 ]
  [ 994, 0, 36, 76, -16, -34 ]
  [ 1128, 0, 54, 70, -45, -34 ]
  [ 1392, 0, 106, 44, -77, -31 ]
  [ 1776, 0, 90, 52, -51, -39 ]
}

template template_auto_7_2x() {
  [ 0, 0, 14, 90, -5, -63 ]
  [ 152, 0, 72, 62, -32, -41 ]
  [ 468, 0, 124, 34, -42, -26 ]
  [ 836, 0, 72, 62, -20, -33 ]
  [ 1046, 0, 14, 90, -5, -43 ]
  [ 1198, 0, 72, 62, -52, -31 ]
  [ 1514, 0, 124, 34, -82, -26 ]
  [ 1882, 0, 72, 62, -40, -43 ]
}

template template_auto_turn_1_7_2x() {
  [ 30, 0, 36, 76, -16, -56 ]
  [ 240, 0, 90, 52, -41, -36 ]
  [ 608, 0, 106, 44, -33, -31 ]
  [ 924, 0, 54, 70, -11, -37 ]
  [ 1076, 0, 36, 76, -16, -36 ]
  [ 1286, 0, 90, 52, -61, -26 ]
  [ 1654, 0, 106, 44, -73, -31 ]
  [ 1970, 0, 54, 70, -31, -47 ]
}

template template_auto_turn_2_7_2x() {
  [ 2040, 0, 36, 76, -16, -56 ]
  [ 82, 0, 54, 70, -23, -45 ]
  [ 346, 0, 106, 44, -33, -31 ]
  [ 730, 0, 90, 52, -29, -28 ]
  [ 994, 0, 36, 76, -16, -36 ]
  [ 1128, 0, 54, 70, -43, -35 ]
  [ 1392, 0, 106, 44, -73, -31 ]
  [ 1776, 0, 90, 52, -49, -38 ]
}

template template_auto_8_2x() {
  [ 0, 0, 14, 90, -5, -61 ]
  [ 152, 0, 72, 62, -34, -40 ]
  [ 468, 0, 124, 34, -46, -26 ]
  [ 836, 0, 72, 62, -22, -34 ]
  [ 1046, 0, 14, 90, -5, -45 ]
  [ 1198, 0, 72, 62, -50, -32 ]
  [ 1514, 0, 124, 34, -78, -26 ]
  [ 1882, 0, 72, 62, -38, -42 ]
}

template template_auto_turn_1_8_2x() {
  [ 30, 0, 36, 76, -16, -54 ]
  [ 240, 0, 90, 52, -43, -35 ]
  [ 608, 0, 106, 44, -37, -31 ]
  [ 924, 0, 54, 70, -13, -38 ]
  [ 1076, 0, 36, 76, -16, -38 ]
  [ 1286, 0, 90, 52, -59, -27 ]
  [ 1654, 0, 106, 44, -69, -31 ]
  [ 1970, 0, 54, 70, -29, -46 ]
}

template template_auto_turn_2_8_2x() {
  [ 2040, 0, 36, 76, -16, -54 ]
  [ 82, 0, 54, 70, -25, -44 ]
  [ 346, 0, 106, 44, -37, -31 ]
  [ 730, 0, 90, 52, -31, -29 ]
  [ 994, 0, 36, 76, -16, -38 ]
  [ 1128, 0, 54, 70, -41, -36 ]
  [ 1392, 0, 106, 44, -69, -31 ]
  [ 1776, 0, 90, 52, -47, -37 ]
}

template template_auto_9_2x() {
  [ 0, 0, 14, 90, -5, -59 ]
  [ 152, 0, 72, 62, -36, -39 ]
  [ 468, 0, 124, 34, -50, -26 ]
  [ 836, 0, 72, 62, -24, -35 ]
  [ 1046, 0, 14, 90, -5, -47 ]
  [ 1198, 0, 72, 62, -48, -33 ]
  [ 1514, 0, 124, 34, -74, -26 ]
  [ 1882, 0, 72, 62, -36, -41 ]
}

template template_auto_turn_1_9_2x() {
  [ 30, 0, 36, 76, -16, -52 ]
  [ 240, 0, 90, 52, -45, -34 ]
  [ 608, 0, 106, 44, -41, -31 ]
  [ 924, 0, 54, 70, -15, -39 ]
  [ 1076, 0, 36, 76, -16, -40 ]
  [ 1286, 0, 90, 52, -57, -28 ]
  [ 1654, 0, 106, 44, -65, -31 ]
  [ 1970, 0, 54, 70, -27, -45 ]
}

template template_auto_turn_2_9_2x() {
  [ 2040, 0, 36, 76, -16, -52 ]
  [ 82, 0, 54, 70, -27, -43 ]
  [ 346, 0, 106, 44, -41, -31 ]
  [ 730, 0, 90, 52, -33, -30 ]
  [ 994, 0, 36, 76, -16, -40 ]
  [ 1128, 0, 54, 70, -39, -37 ]
  [ 1392, 0, 106, 44, -65, -31 ]
  [ 1776, 0, 90, 52, -45, -36 ]
}

template template_auto_10_2x() {
  [ 0, 0, 14, 90, -5, -65 ]
  [ 152, 0, 72, 62, -30, -42 ]
  [ 468, 0, 124, 34, -38, -26 ]
  [ 836, 0, 72, 62, -18, -32 ]
  [ 1046, 0, 14, 90, -5, -41 ]
  [ 1198, 0, 72, 62, -54, -30 ]
  [ 1514, 0, 124, 34, -86, -26 ]
  [ 1882, 0, 72, 62, -42, -44 ]
}

template template_auto_turn_1_10_2x() {
  [ 30, 0, 36, 76, -16, -58 ]
  [ 240, 0, 90, 52, -39, -37 ]
  [ 608, 0, 106, 44, -29, -31 ]
  [ 924, 0, 54, 70, -9, -36 ]
  [ 1076, 0, 36, 76, -16, -34 ]
  [ 1286, 0, 90, 52, -63, -25 ]
  [ 1654, 0, 106, 44, -77, -31 ]
  [ 1970, 0, 54, 70, -33, -48 ]
}

template template_auto_turn_2_10_2x() {
  [ 2040, 0, 36, 76, -16, -58 ]
  [ 82, 0, 54, 70, -21, -46 ]
  [ 346, 0, 106, 44, -29, -31 ]
  [ 730, 0, 90, 52, -27, -27 ]
  [ 994, 0, 36, 76, -16, -34 ]
  [ 1128, 0, 54, 70, -45, -34 ]
  [ 1392, 0, 106, 44, -77, -31 ]
  [ 1776, 0, 90, 52, -51, -39 ]
}

template template_auto_11_2x() {
  [ 0, 0, 14, 90, -5, -63 ]
  [ 152, 0, 72, 62, -32, -41 ]
  [ 468, 0, 124, 34, -42, -26 ]
  [ 836, 0, 72, 62, -20, -33 ]
  [ 1046, 0, 14, 90, -5, -43 ]
  [ 1198, 0, 72, 62, -52, -31 ]
  [ 1514, 0, 124, 34, -82, -26 ]
  [ 1882, 0, 72, 62, -40, -43 ]
}

template template_auto_turn_1_11_2x() {
  [ 30, 0, 36, 76, -16, -56 ]
  [ 240, 0, 90, 52, -41, -36 ]
  [ 608, 0, 106, 44, -33, -31 ]
  [ 924, 0, 54, 70, -11, -37 ]
  [ 1076, 0, 36, 76, -16, -36 ]
  [ 1286, 0, 90, 52, -61, -26 ]
  [ 1654, 0, 106, 44, -73, -31 ]
  [ 1970, 0, 54, 70, -31, -47 ]
}

template template_auto_turn_2_11_2x() {
  [ 2040, 0, 36, 76, -16, -56 ]
  [ 82, 0, 54, 70, -23, -45 ]
  [ 346, 0, 106, 44, -33, -31 ]
  [ 730, 0, 90, 52, -29, -28 ]
  [ 994, 0, 36, 76, -16, -36 ]
  [ 1128, 0, 54, 70, -43, -35 ]
  [ 1392, 0, 106, 44, -73, -31 ]
  [ 1776, 0, 90, 52, -49, -38 ]
}

template template_auto_12_2x() {
  [ 0, 0, 14, 90, -5, -61 ]
  [ 152, 0, 72, 62, -34, -40 ]
  [ 468, 0, 124, 34, -46, -26 ]
  [ 836, 0, 72, 62, -22, -34 ]
  [ 1046, 0, 14, 90, -5, -45 ]
  [ 1198, 0, 72, 62, -50, -32 ]
  [ 1514, 0, 124, 34, -78, -26 ]
  [ 1882, 0, 72, 62, -38, -42 ]
}

template template_auto_turn_1_12_2x() {
  [ 30, 0, 36, 76, -16, -54 ]
  [ 240, 0, 90, 52, -43, -35 ]
  [ 608, 0, 106, 44, -37, -31 ]
  [ 924, 0, 54, 70, -13, -38 ]
  [ 1076, 0, 36, 76, -16, -38 ]
  [ 1286, 0, 90, 52, -59, -27 ]
  [ 1654, 0, 106, 44, -69, -31 ]
  [ 1970, 0, 54, 70, -29, -46 ]
}

template template_auto_turn_2_12_2x() {
  [ 2040, 0, 36, 76, -16, -54 ]
  [ 82, 0, 54, 70, -25, -44 ]
  [ 346, 0, 106, 44, -37, -31 ]
  [ 730, 0, 90, 52, -31, -29 ]
  [ 994, 0, 36, 76, -16, -38 ]
  [ 1128, 0, 54, 70, -41, -36 ]
  [ 1392, 0, 106, 44, -69, -31 ]
  [ 1776, 0, 90, 52, -47, -37 ]
}

template template_auto_13_2x() {
  [ 0, 0, 14, 90, -5, -59 ]
  [ 152, 0, 72, 62, -36, -39 ]
  [ 468, 0, 124, 34, -50, -26 ]
  [ 836, 0, 72, 62, -24, -35 ]
  [ 1046, 0, 14, 90, -5, -47 ]
  [ 1198, 0, 72, 62, -48, -33 ]
  [ 1514, 0, 124, 34, -74, -26 ]
  [ 1882, 0, 72, 62, -36, -41 ]
}

template template_auto_turn_1_13_2x() {
  [ 30, 0, 36, 76, -16, -52 ]
  [ 240, 0, 90, 52, -45, -34 ]
  [ 608, 0, 106, 44, -41, -31 ]
  [ 924, 0, 54, 70, -15, -39 ]
  [ 1076, 0, 36, 76, -16, -40 ]
  [ 1286, 0, 90, 52, -57, -28 ]
  [ 1654, 0, 106, 44, -65, -31 ]
  [ 1970, 0, 54, 70, -27, -45 ]
}

template template_auto_turn_2_13_2x() {
  [ 2040, 0, 36, 76, -16, -52 ]
  [ 82, 0, 54, 70, -27, -43 ]
  [ 346, 0, 106, 44, -41, -31 ]
  [ 730, 0, 90, 52, -33, -30 ]
  [ 994, 0, 36, 76, -16, -40 ]
  [ 1128, 0, 54, 70, -39, -37 ]
  [ 1392, 0, 106, 44, -65, -31 ]
  [ 1776, 0, 90, 52, -45, -36 ]
}

template template_auto_14_2x() {
  [ 0, 0, 14, 90, -5, -57 ]
  [ 152, 0, 72, 62, -38, -38 ]
  [ 468, 0, 124, 34, -54, -26 ]
  [ 836, 0, 72, 62, -26, -36 ]
  [ 1046, 0, 14, 90, -5, -49 ]
  [ 1198, 0, 72, 62, -46, -34 ]
  [ 1514, 0, 124, 34, -70, -26 ]
  [ 1882, 0, 72, 62, -34, -40 ]
}

template template_auto_turn_1_14_2x() {
  [ 30, 0, 36, 76, -16, -50 ]
  [ 240, 0, 90, 52, -47, -33 ]
  [ 608, 0, 106, 44, -45, -31 ]
  [ 924, 0, 54, 70, -17, -40 ]
  [ 1076, 0, 36, 76, -16, -42 ]
  [ 1286, 0, 90, 52, -55, -29 ]
  [ 1654, 0, 106, 44, -61, -31 ]
  [ 1970, 0, 54, 70, -25, -44 ]
}

template template_auto_turn_2_14_2x() {
  [ 2040, 0, 36, 76, -16, -50 ]
  [ 82, 0, 54, 70, -29, -42 ]
  [ 346, 0, 106, 44, -45, -31 ]
  [ 730, 0, 90, 52, -35, -31 ]
  [ 994, 0, 36, 76, -16, -42 ]
  [ 1128, 0, 54, 70, -37, -38 ]
  [ 1392, 0, 106, 44, -61, -31 ]
  [ 1776, 0, 90, 52, -43, -35 ]
}

template template_auto_15_2x() {
  [ 0, 0, 14, 90, -5, -55 ]
  [ 152, 0, 72, 62, -40, -37 ]
  [ 468, 0, 124, 34, -58, -26 ]
  [ 836, 0, 72, 62, -28, -37 ]
  [ 1046, 0, 14, 90, -5, -51 ]
  [ 1198, 0, 72, 62, -44, -35 ]
  [ 1514, 0, 124, 34, -66, -26 ]
  [ 1882, 0, 72, 62, -32, -39 ]
}

template template_auto_turn_1_15_2x() {
  [ 30, 0, 36, 76, -16, -48 ]
  [ 240, 0, 90, 52, -49, -32 ]
  [ 608, 0, 106, 44, -49, -31 ]
  [ 924, 0, 54, 70, -19, -41 ]
  [ 1076, 0, 36, 76, -16, -44 ]
  [ 1286, 0, 90, 52, -53, -30 ]
  [ 1654, 0, 106, 44, -57, -31 ]
  [ 1970, 0, 54, 70, -23, -43 ]
}

template template_auto_turn_2_15_2x() {
  [ 2040, 0, 36, 76, -16, -48 ]
  [ 82, 0, 54, 70, -31, -41 ]
  [ 346, 0, 106, 44, -49, -31 ]
  [ 730, 0, 90, 52, -37, -32 ]
  [ 994, 0, 36, 76, -16, -44 ]
  [ 1128, 0, 54, 70, -35, -39 ]
  [ 1392, 0, 106, 44, -57, -31 ]
  [ 1776, 0, 90, 52, -41, -34 ]
}

template template_auto_16_2x() {
  [ 0, 0, 14, 90, -5, -53 ]
  [ 152, 0, 72, 62, -42, -36 ]
  [ 468, 0, 124, 34, -62, -26 ]
  [ 836, 0, 72, 62, -30, -38 ]
  [ 1046, 0, 14, 90, -5, -53 ]
  [ 1198, 0, 72, 62, -42, -36 ]
  [ 1514, 0, 124, 34, -62, -26 ]
  [ 1882, 0, 72, 62, -30, -38 ]
}

template template_auto_turn_1_16_2x() {
  [ 30, 0, 36, 76, -16, -46 ]
  [ 240, 0, 90, 52, -51, -31 ]
  [ 608, 0, 106, 44, -53, -31 ]
  [ 924, 0, 54, 70, -21, -42 ]
  [ 1076, 0, 36, 76, -16, -46 ]
  [ 1286, 0, 90, 52, -51, -31 ]
  [ 1654, 0, 106, 44, -53, -31 ]
  [ 1970, 0, 54, 70, -21, -42 ]
}

template template_auto_turn_2_16_2x() {
  [ 2040, 0, 36, 76, -16, -46 ]
  [ 82, 0, 54, 70, -33, -40 ]
  [ 346, 0, 106, 44, -53, -31 ]
  [ 730, 0, 90, 52, -39, -33 ]
  [ 994, 0, 36, 76, -16, -46 ]
  [ 1128, 0, 54, 70, -33, -40 ]
  [ 1392, 0, 106, 44, -53, -31 ]
  [ 1776, 0, 90, 52, -39, -33 ]
}

template template_auto_front_9_1x() {
  [ 0, 0, 7, 45, -2, -25 ]
  [ 15, 0, 36, 31, -22, -17 ]
  [ 59, 0, 62, 17, -33, -13 ]
  [ 129, 0, 36, 31, -16, -19 ]
  [ 173, 0, 7, 45, -2, -27 ]
  [ 188, 0, 36, 31, -20, -18 ]
  [ 232, 0, 62, 17, -29, -13 ]
  [ 302, 0, 36, 31, -14, -18 ]
}

template template_auto_mid_9_1x() {
  [ 346, 0, 7, 45, -2, -29 ]
  [ 361, 0, 36, 31, -18, -19 ]
  [ 405, 0, 62, 17, -25, -13 ]
  [ 475, 0, 36, 31, -12, -17 ]
  [ 519, 0, 7, 45, -2, -23 ]
  [ 534, 0, 36, 31, -24, -16 ]
  [ 578, 0, 62, 17, -37, -13 ]
  [ 648, 0, 36, 31, -18, -20 ]
}

template template_auto_rear_9_1x() {
  [ 692, 0, 7, 45, -2, -39 ]
  [ 707, 0, 36, 31, -8, -24 ]
  [ 751, 0, 62, 17, -5, -13 ]
  [ 821, 0, 36, 31, -2, -12 ]
  [ 865, 0, 7, 45, -2, -13 ]
  [ 880, 0, 36, 31, -34, -11 ]
  [ 924, 0, 62, 17, -57, -13 ]
  [ 994, 0, 36, 31, -28, -25 ]
}

template template_auto_front_10_1x() {
  [ 0, 0, 7, 45, -2, -24 ]
  [ 15, 0, 36, 31, -23, -17 ]
  [ 59, 0, 62, 17, -35, -13 ]
  [ 129, 0, 36, 31, -17, -20 ]
  [ 173, 0, 7, 45, -2, -28 ]
  [ 188, 0, 36, 31, -19, -19 ]
  [ 232, 0, 62, 17, -27, -13 ]
  [ 302, 0, 36, 31, -13, -18 ]
}

template template_auto_mid_10_1x() {
  [ 346, 0, 7, 45, -2, -32 ]
  [ 361, 0, 36, 31, -15, -21 ]
  [ 405, 0, 62, 17, -19, -13 ]
  [ 475, 0, 36, 31, -9, -16 ]
  [ 519, 0, 7, 45, -2, -20 ]
  [ 534, 0, 36, 31, -27, -15 ]
  [ 578, 0, 62, 17, -43, -13 ]
  [ 648, 0, 36, 31, -21, -22 ]
}

template template_auto_rear_10_1x() {
  [ 692, 0, 7, 45, -2, -36 ]
  [ 707, 0, 36, 31, -11, -23 ]
  [ 751, 0, 62, 17, -11, -13 ]
  [ 821, 0, 36, 31, -5, -14 ]
  [ 865, 0, 7, 45, -2, -16 ]
  [ 880, 0, 36, 31, -31, -13 ]
  [ 924, 0, 62, 17, -51, -13 ]
  [ 994, 0, 36, 31, -25, -24 ]
}

template template_auto_front_11_1x() {
  [ 0, 0, 7, 45, -2, -23 ]
  [ 15, 0, 36, 31, -24, -16 ]
  [ 59, 0, 62, 17, -37, -13 ]
  [ 129, 0, 36, 31, -18, -20 ]
  [ 173, 0, 7, 45, -2, -29 ]
  [ 188, 0, 36, 31, -18, -19 ]
  [ 232, 0, 62, 17, -25, -13 ]
  [ 302, 0, 36, 31, -12, -17 ]
}

template template_auto_mid_11_1x() {
  [ 346, 0, 7, 45, -2, -31 ]
  [ 361, 0, 36, 31, -16, -20 ]
  [ 405, 0, 62, 17, -21, -13 ]
  [ 475, 0, 36, 31, -10, -16 ]
  [ 519, 0, 7, 45, -2, -21 ]
  [ 534, 0, 36, 31, -26, -15 ]
  [ 578, 0, 62, 17, -41, -13 ]
  [ 648, 0, 36, 31, -20, -21 ]
}

template template_auto_rear_11_1x() {
  [ 692, 0, 7, 45, -2, -37 ]
  [ 707, 0, 36, 31, -10, -23 ]
  [ 751, 0, 62, 17, -9, -13 ]
  [ 821, 0, 36, 31, -4, -13 ]
  [ 865, 0, 7, 45, -2, -15 ]
  [ 880, 0, 36, 31, -32, -12 ]
  [ 924, 0, 62, 17, -53, -13 ]
  [ 994, 0, 36, 31, -26, -24 ]
}

template template_auto_front_12_1x() {
  [ 0, 0, 7, 45, -2, -22 ]
  [ 15, 0, 36, 31, -25, -16 ]
  [ 59, 0, 62, 17, -39, -13 ]
  [ 129, 0, 36, 31, -19, -21 ]
  [ 173, 0, 7, 45, -2, -30 ]
  [ 188, 0, 36, 31, -17, -20 ]
  [ 232, 0, 62, 17, -23, -13 ]
  [ 302, 0, 36, 31, -11, -17 ]
}

template template_auto_mid_12_1x() {
  [ 346, 0, 7, 45, -2, -30 ]
  [ 361, 0, 36, 31, -17, -20 ]
  [ 405, 0, 62, 17, -23, -13 ]
  [ 475, 0, 36, 31, -11, -17 ]
  [ 519, 0, 7, 45, -2, -22 ]
  [ 534, 0, 36, 31, -25, -16 ]
  [ 578, 0, 62, 17, -39, -13 ]
  [ 648, 0, 36, 31, -19, -21 ]
}

template template_auto_rear_12_1x() {
  [ 692, 0, 7, 45, -2, -38 ]
  [ 707, 0, 36, 31, -9, -24 ]
  [ 751, 0, 62, 17, -7, -13 ]
  [ 821, 0, 36, 31, -3, -13 ]
  [ 865, 0, 7, 45, -2, -14 ]
  [ 880, 0, 36, 31, -33, -12 ]
  [ 924, 0, 62, 17, -55, -13 ]
  [ 994, 0, 36, 31, -27, -25 ]
}

template template_auto_front_13_1x() {
  [ 0, 0, 7, 45, -2, -21 ]
  [ 15, 0, 36, 31, -26, -15 ]
  [ 59, 0, 62, 17, -41, -13 ]
  [ 129, 0, 36, 31, -20, -21 ]
  [ 173, 0, 7, 45, -2, -31 ]
  [ 188, 0, 36, 31, -16, -20 ]
  [ 232, 0, 62, 17, -21, -13 ]
  [ 302, 0, 36, 31, -10, -16 ]
}

template template_auto_mid_13_1x() {
  [ 346, 0, 7, 45, -2, -29 ]
  [ 361, 0, 36, 31, -18, -19 ]
  [ 405, 0, 62, 17, -25, -13 ]
  [ 475, 0, 36, 31, -12, -17 ]
  [ 519, 0, 7, 45, -2, -23 ]
  [ 534, 0, 36, 31, -24, -16 ]
  [ 578, 0, 62, 17, -37, -13 ]
  [ 648, 0, 36, 31, -18, -20 ]
}

template template_auto_rear_13_1x() {
  [ 692, 0, 7, 45, -2, -39 ]
  [ 707, 0, 36, 31, -8, -24 ]
  [ 751, 0, 62, 17, -5, -13 ]
  [ 821, 0, 36, 31, -2, -12 ]
  [ 865, 0, 7, 45, -2, -13 ]
  [ 880, 0, 36, 31, -34, -11 ]
  [ 924, 0, 62, 17, -57, -13 ]
  [ 994, 0, 36, 31, -28, -25 ]
}

template template_auto_front_14_1x() {
  [ 0, 0, 7, 45, -2, -20 ]
  [ 15, 0, 36, 31, -27, -15 ]
  [ 59, 0, 62, 17, -43, -13 ]
  [ 129, 0, 36, 31, -21, -22 ]
  [ 173, 0, 7, 45, -2, -32 ]
  [ 188, 0, 36, 31, -15, -21 ]
  [ 232, 0, 62, 17, -19, -13 ]
  [ 302, 0, 36, 31, -9, -16 ]
}

template template_auto_mid_14_1x() {
  [ 346, 0, 7, 45, -2, -28 ]
  [ 361, 0, 36, 31, -19, -19 ]
  [ 405, 0, 62, 17, -27, -13 ]
  [ 475, 0, 36, 31, -13, -18 ]
  [ 519, 0, 7, 45, -2, -24 ]
  [ 534, 0, 36, 31, -23, -17 ]
  [ 578, 0, 62, 17, -35, -13 ]
  [ 648, 0, 36, 31, -17, -20 ]
}

template template_auto_rear_14_1x() {
  [ 692, 0, 7, 45, -2, -40 ]
  [ 707, 0, 36, 31, -7, -25 ]
  [ 751, 0, 62, 17, -3, -13 ]
  [ 821, 0, 36, 31, -1, -12 ]
  [ 865, 0, 7, 45, -2, -12 ]
  [ 880, 0, 36, 31, -35, -11 ]
  [ 924, 0, 62, 17, -59, -13 ]
  [ 994, 0, 36, 31, -29, -26 ]
}

template template_auto_front_15_1x() {
  [ 0, 0, 7, 45, -2, -19 ]
  [ 15, 0, 36, 31, -28, -14 ]
  [ 59, 0, 62, 17, -45, -13 ]
  [ 129, 0, 36, 31, -22, -22 ]
  [ 173, 0, 7, 45, -2, -33 ]
  [ 188, 0, 36, 31, -14, -21 ]
  [ 232, 0, 62, 17, -17, -13 ]
  [ 302, 0, 36, 31, -8, -15 ]
}

template template_auto_mid_15_1x() {
  [ 346, 0, 7, 45, -2, -27 ]
  [ 361, 0, 36, 31, -20, -18 ]
  [ 405, 0, 62, 17, -29, -13 ]
  [ 475, 0, 36, 31, -14, -18 ]
  [ 519, 0, 7, 45, -2, -25 ]
  [ 534, 0, 36, 31, -22, -17 ]
  [ 578, 0, 62, 17, -33, -13 ]
  [ 648, 0, 36, 31, -16, -19 ]
}

template template_auto_rear_15_1x() {
  [ 692, 0, 7, 45, -2, -41 ]
  [ 707, 0, 36, 31, -6, -25 ]
  [ 751, 0, 62, 17, -1, -13 ]
  [ 821, 0, 36, 31, 0, -11 ]
  [ 865, 0, 7, 45, -2, -11 ]
  [ 880, 0, 36, 31, -36, -10 ]
  [ 924, 0, 62, 17, -61, -13 ]
  [ 994, 0, 36, 31, -30, -26 ]
}

template template_auto_front_16_1x() {
  [ 0, 0, 7, 45, -2, -18 ]
  [ 15, 0, 36, 31, -29, -14 ]
  [ 59, 0, 62, 17, -47, -13 ]
  [ 129, 0, 36, 31, -23, -23 ]
  [ 173, 0, 7, 45, -2, -34 ]
  [ 188, 0, 36, 31, -13, -22 ]
  [ 232, 0, 62, 17, -15, -13 ]
  [ 302, 0, 36, 31, -7, -15 ]
}

template template_auto_mid_16_1x() {
  [ 346, 0, 7, 45, -2, -26 ]
  [ 361, 0, 36, 31, -21, -18 ]
  [ 405, 0, 62, 17, -31, -13 ]
  [ 475, 0, 36, 31, -15, -19 ]
  [ 519, 0, 7, 45, -2, -26 ]
  [ 534, 0, 36, 31, -21, -18 ]
  [ 578, 0, 62, 17, -31, -13 ]
  [ 648, 0, 36, 31, -15, -19 ]
}

template template_auto_rear_16_1x() {
  [ 692, 0, 7, 45, -2, -42 ]
  [ 707, 0, 36, 31, -5, -26 ]
  [ 751, 0, 62, 17, 1, -13 ]
  [ 821, 0, 36, 31, 1, -11 ]
  [ 865, 0, 7, 45, -2, -10 ]
  [ 880, 0, 36, 31, -37, -10 ]
  [ 924, 0, 62, 17, -63, -13 ]
  [ 994, 0, 36, 31, -31, -27 ]
}

template template_auto_front_9_2x() {
  [ 0, 0, 14, 90, -5, -51 ]
  [ 30, 0, 72, 62, -44, -35 ]
  [ 118, 0, 124, 34, -66, -26 ]
  [ 258, 0, 72, 62, -32, -39 ]
  [ 346, 0, 14, 90, -5, -55 ]
  [ 376, 0, 72, 62, -40, -37 ]
  [ 464, 0, 124, 34, -58, -26 ]
  [ 604, 0, 72, 62, -28, -37 ]
}

template template_auto_mid_9_2x() {
  [ 692, 0, 14, 90, -5, -59 ]
  [ 722, 0, 72, 62, -36, -39 ]
  [ 810, 0, 124, 34, -50, -26 ]
  [ 950, 0, 72, 62, -24, -35 ]
  [ 1038, 0, 14, 90, -5, -47 ]
  [ 1068, 0, 72, 62, -48, -33 ]
  [ 1156, 0, 124, 34, -74, -26 ]
  [ 1296, 0, 72, 62, -36, -41 ]
}

template template_auto_rear_9_2x() {
  [ 1384, 0, 14, 90, -5, -79 ]
  [ 1414, 0, 72, 62, -16, -49 ]
  [ 1502, 0, 124, 34, -10, -26 ]
  [ 1642, 0, 72, 62, -4, -25 ]
  [ 1730, 0, 14, 90, -5, -27 ]
  [ 1760, 0, 72, 62, -68, -23 ]
  [ 1848, 0, 124, 34, -114, -26 ]
  [ 1988, 0, 72, 62, -56, -51 ]
}

template template_auto_front_10_2x() {
  [ 0, 0, 14, 90, -5, -49 ]
  [ 30, 0, 72, 62, -46, -34 ]
  [ 118, 0, 124, 34, -70, -26 ]
  [ 258, 0, 72, 62, -34, -40 ]
  [ 346, 0, 14, 90, -5, -57 ]
  [ 376, 0, 72, 62, -38, -38 ]
  [ 464, 0, 124, 34, -54, -26 ]
  [ 604, 0, 72, 62, -26, -36 ]
}

template template_auto_mid_10_2x() {
  [ 692, 0, 14, 90, -5, -65 ]
  [ 722, 0, 72, 62, -30, -42 ]
  [ 810, 0, 124, 34, -38, -26 ]
  [ 950, 0, 72, 62, -18, -32 ]
  [ 1038, 0, 14, 90, -5, -41 ]
  [ 1068, 0, 72, 62, -54, -30 ]
  [ 1156, 0, 124, 34, -86, -26 ]
  [ 1296, 0, 72, 62, -42, -44 ]
}

template template_auto_rear_10_2x() {
  [ 1384, 0, 14, 90, -5, -73 ]
  [ 1414, 0, 72, 62, -22, -46 ]
  [ 1502, 0, 124, 34, -22, -26 ]
  [ 1642, 0, 72, 62, -10, -28 ]
  [ 1730, 0, 14, 90, -5, -33 ]
  [ 1760, 0, 72, 62, -62, -26 ]
  [ 1848, 0, 124, 34, -102, -26 ]
  [ 1988, 0, 72, 62, -50, -48 ]
}

template template_auto_front_11_2x() {
  [ 0, 0, 14, 90, -5, -47 ]
  [ 30, 0, 72, 62, -48, -33 ]
  [ 118, 0, 124, 34, -74, -26 ]
  [ 258, 0, 72, 62, -36, -41 ]
  [ 346, 0, 14, 90, -5, -59 ]
  [ 376, 0, 72, 62, -36, -39 ]
  [ 464, 0, 124, 34, -50, -26 ]
  [ 604, 0, 72, 62, -24, -35 ]
}

template template_auto_mid_11_2x() {
  [ 692, 0, 14, 90, -5, -63 ]
  [ 722, 0, 72, 62, -32, -41 ]
  [ 810, 0, 124, 34, -42, -26 ]
  [ 950, 0, 72, 62, -20, -33 ]
  [ 1038, 0, 14, 90, -5, -43 ]
  [ 1068, 0, 72, 62, -52, -31 ]
  [ 1156, 0, 124, 34, -82, -26 ]
  [ 1296, 0, 72, 62, -40, -43 ]
}

template template_auto_rear_11_2x() {
  [ 1384, 0, 14, 90, -5, -75 ]
  [ 1414, 0, 72, 62, -20, -47 ]
  [ 1502, 0, 124, 34, -18, -26 ]
  [ 1642, 0, 72, 62, -8, -27 ]
  [ 1730, 0, 14, 90, -5, -31 ]
  [ 1760, 0, 72, 62, -64, -25 ]
  [ 1848, 0, 124, 34, -106, -26 ]
  [ 1988, 0, 72, 62, -52, -49 ]
}

template template_auto_front_12_2x() {
  [ 0, 0, 14, 90, -5, -45 ]
  [ 30, 0, 72, 62, -50, -32 ]
  [ 118, 0, 124, 34, -78, -26 ]
  [ 258, 0, 72, 62, -38, -42 ]
  [ 346, 0, 14, 90, -5, -61 ]
  [ 376, 0, 72, 62, -34, -40 ]
  [ 464, 0, 124, 34, -46, -26 ]
  [ 604, 0, 72, 62, -22, -34 ]
}

template template_auto_mid_12_2x() {
  [ 692, 0, 14, 90, -5, -61 ]
  [ 722, 0, 72, 62, -34, -40 ]
  [ 810, 0, 124, 34, -46, -26 ]
  [ 950, 0, 72, 62, -22, -34 ]
  [ 1038, 0, 14, 90, -5, -45 ]
  [ 1068, 0, 72, 62, -50, -32 ]
  [ 1156, 0, 124, 34, -78, -26 ]
  [ 1296, 0, 72, 62, -38, -42 ]
}

template template_auto_rear_12_2x() {
  [ 1384, 0, 14, 90, -5, -77 ]
  [ 1414, 0, 72, 62, -18, -48 ]
  [ 1502, 0, 124, 34, -14, -26 ]
  [ 1642, 0, 72, 62, -6, -26 ]
  [ 1730, 0, 14, 90, -5, -29 ]
  [ 1760, 0, 72, 62, -66, -24 ]
  [ 1848, 0, 124, 34, -110, -26 ]
  [ 1988, 0, 72, 62, -54, -50 ]
}

template template_auto_front_13_2x() {
  [ 0, 0, 14, 90, -5, -43 ]
  [ 30, 0, 72, 62, -52, -31 ]
  [ 118, 0, 124, 34, -82, -26 ]
  [ 258, 0, 72, 62, -40, -43 ]
  [ 346, 0, 14, 90, -5, -63 ]
  [ 376, 0, 72, 62, -32, -41 ]
  [ 464, 0, 124, 34, -42, -26 ]
  [ 604, 0, 72, 62, -20, -33 ]
}

template template_auto_mid_13_2x() {
  [ 692, 0, 14, 90, -5, -59 ]
  [ 722, 0, 72, 62, -36, -39 ]
  [ 810, 0, 124, 34, -50, -26 ]
  [ 950, 0, 72, 62, -24, -35 ]
  [ 1038, 0, 14, 90, -5, -47 ]
  [ 1068, 0, 72, 62, -48, -33 ]
  [ 1156, 0, 124, 34, -74, -26 ]
  [ 1296, 0, 72, 62, -36, -41 ]
}

template template_auto_rear_13_2x() {
  [ 1384, 0, 14, 90, -5, -79 ]
  [ 1414, 0, 72, 62, -16, -49 ]
  [ 1502, 0, 124, 34, -10, -26 ]
  [ 1642, 0, 72, 62, -4, -25 ]
  [ 1730, 0, 14, 90, -5, -27 ]
  [ 1760, 0, 72, 62, -68, -23 ]
  [ 1848, 0, 124, 34, -114, -26 ]
  [ 1988, 0, 72, 62, -56, -51 ]
}

template template_auto_front_14_2x() {
  [ 0, 0, 14, 90, -5, -41 ]
  [ 30, 0, 72, 62, -54, -30 ]
  [ 118, 0, 124, 34, -86, -26 ]
  [ 258, 0, 72, 62, -42, -44 ]
  [ 346, 0, 14, 90, -5, -65 ]
  [ 376, 0, 72, 62, -30, -42 ]
  [ 464, 0, 124, 34, -38, -26 ]
  [ 604, 0, 72, 62, -18, -32 ]
}

template template_auto_mid_14_2x() {
  [ 692, 0, 14, 90, -5, -57 ]
  [ 722, 0, 72, 62, -38, -38 ]
  [ 810, 0, 124, 34, -54, -26 ]
  [ 950, 0, 72, 62, -26, -36 ]
  [ 1038, 0, 14, 90, -5, -49 ]
  [ 1068, 0, 72, 62, -46, -34 ]
  [ 1156, 0, 124, 34, -70, -26 ]
  [ 1296, 0, 72, 62, -34, -40 ]
}

template template_auto_rear_14_2x() {
  [ 1384, 0, 14, 90, -5, -81 ]
  [ 1414, 0, 72, 62, -14, -50 ]
  [ 1502, 0, 124, 34, -6, -26 ]
  [ 1642, 0, 72, 62, -2, -24 ]
  [ 1730, 0, 14, 90, -5, -25 ]
  [ 1760, 0, 72, 62, -70, -22 ]
  [ 1848, 0, 124, 34, -118, -26 ]
  [ 1988, 0, 72, 62, -58, -52 ]
}

template template_auto_front_15_2x() {
  [ 0, 0, 14, 90, -5, -39 ]
  [ 30, 0, 72, 62, -56, -29 ]
  [ 118, 0, 124, 34, -90, -26 ]
  [ 258, 0, 72, 62, -44, -45 ]
  [ 346, 0, 14, 90, -5, -67 ]
  [ 376, 0, 72, 62, -28, -43 ]
  [ 464, 0, 124, 34, -34, -26 ]
  [ 604, 0, 72, 62, -16, -31 ]
}

template template_auto_mid_15_2x() {
  [ 692, 0, 14, 90, -5, -55 ]
  [ 722, 0, 72, 62, -40, -37 ]
  [ 810, 0, 124, 34, -58, -26 ]
  [ 950, 0, 72, 62, -28, -37 ]
  [ 1038, 0, 14, 90, -5, -51 ]
  [ 1068, 0, 72, 62, -44, -35 ]
  [ 1156, 0, 124, 34, -66, -26 ]
  [ 1296, 0, 72, 62, -32, -39 ]
}

template template_auto_rear_15_2x() {
  [ 1384, 0, 14, 90, -5, -83 ]
  [ 1414, 0, 72, 62, -12, -51 ]
  [ 1502, 0, 124, 34, -2, -26 ]
  [ 1642, 0, 72, 62, 0, -23 ]
  [ 1730, 0, 14, 90, -5, -23 ]
  [ 1760, 0, 72, 62, -72, -21 ]
  [ 1848, 0, 124, 34, -122, -26 ]
  [ 1988, 0, 72, 62, -60, -53 ]
}

template template_auto_front_16_2x() {
  [ 0, 0, 14, 90, -5, -37 ]
  [ 30, 0, 72, 62, -58, -28 ]
  [ 118, 0, 124, 34, -94, -26 ]
  [ 258, 0, 72, 62, -46, -46 ]
  [ 346, 0, 14, 90, -5, -69 ]
  [ 376, 0, 72, 62, -26, -44 ]
  [ 464, 0, 124, 34, -30, -26 ]
  [ 604, 0, 72, 62, -14, -30 ]
}

template template_auto_mid_16_2x() {
  [ 692, 0, 14, 90, -5, -53 ]
  [ 722, 0, 72, 62, -42, -36 ]
  [ 810, 0, 124, 34, -62, -26 ]
  [ 950, 0, 72, 62, -30, -38 ]
  [ 1038, 0, 14, 90, -5, -53 ]
  [ 1068, 0, 72, 62, -42, -36 ]
  [ 1156, 0, 124, 34, -62, -26 ]
  [ 1296, 0, 72, 62, -30, -38 ]
}

template template_auto_rear_16_2x() {
  [ 1384, 0, 14, 90, -5, -85 ]
  [ 1414, 0, 72, 62, -10, -52 ]
  [ 1502, 0, 124, 34, 2, -26 ]
  [ 1642, 0, 72, 62, 2, -22 ]
  [ 1730, 0, 14, 90, -5, -21 ]
  [ 1760, 0, 72, 62, -74, -20 ]
  [ 1848, 0, 124, 34, -126, -26 ]
  [ 1988, 0, 72, 62, -62, -54 ]
}

template template_purchase_1x() {
  [ ]
  [ ]
  [ ]
  [ ]
  [ ]
  [ ]
  [ 0, 0, 64, 17, -43, -14 ]
  [ ]
}

template template_purchase_2x() {
  [ ]
  [ ]
  [ ]
  [ ]
  [ ]
  [ ]
  [ 0, 0, 128, 34, -86, -28 ]
  [ ]
}
// Bulk cargo

// -> Aluminium Ore
recolour_bulk = reserve_sprites(44);

replace(recolour_bulk + 0) {
    recolour_sprite {
        0x01..0x06: 0x7a..0x7f;
    }
}


// -> Building materials
replace(recolour_bulk + 1) {
    recolour_sprite {
        0x01..0x06: 0x49..0x4e;
    }
}

// -> BEANS!
replace(recolour_bulk + 2) {
    recolour_sprite {
        0x01..0x06: 0xc0..0xc5;
        0x02: 0xb9;
        0x04: 0xc0;
        0x05: 0xba;
        0x06: 0xba;
    }
}

// -> Cassava
replace(recolour_bulk + 3) {
    recolour_sprite {
        0x01..0x06: 0x09..0x0e;
    }
}

// -> Carbon Black
replace(recolour_bulk + 4) {
    recolour_sprite {
        0x01: 0x01;
        0x02: 0x01;
        0x03: 0x02;
        0x04: 0x02;
        0x05: 0x03;
        0x06: 0x03;
    }
}

// -> Cement
replace(recolour_bulk + 5) {
    recolour_sprite {
        0x01..0x06: 0x11..0x16;
    }
}

// -> Cereal
replace(recolour_bulk + 6) {
    recolour_sprite {
        0x01..0x06: 0x74..0x79;
        0x01: 0x75;
    }
}


// -> Clay
replace(recolour_bulk + 7) {
    recolour_sprite {
        0x01..0x06: 0x72..0x77;
    }
}


// -> Coal
replace(recolour_bulk + 8) {
    recolour_sprite {
        0x01..0x0a: 0x01..0x0a;
    }
}

// Coke
replace(recolour_bulk + 9) {
    recolour_sprite {
        0x06: 0x08;
        0x01..0x05: 0x02..0x06;
    }
}

// -> Copper Ore
replace(recolour_bulk + 10) {
    recolour_sprite {
        0x01..0x0a: 0x46..0x4f;
    }
}

// -> Cotton Candy
replace(recolour_bulk + 11) {
    recolour_sprite {
        0x03..0x06: 0x2e..0x31;
        0x01: 0xa6;
        0x02: 0xa7;
    }
}

// -> Ferrochrome
replace(recolour_bulk + 12) {
    recolour_sprite {
        0x01..0x06: 0x12..0x17;
    }
}

// -> Fertiliser
replace(recolour_bulk + 13) {
    recolour_sprite {
        0x01..0x06: 0x69..0x6e;
    }
}

// -> Plant fibres
replace(recolour_bulk + 14) {
    recolour_sprite {
        0x01..0x06: 0x58..0x5d;
    }
}

// -> Fruit
replace(recolour_bulk + 15) {
    recolour_sprite {
        0x01: 0x58;
        0x02: 0x59;
        0x03: 0x2f;
        0x04: 0x64;
        0x05: 0xa4;
        0x06: 0x1d;
    }
}

// -> Grain
replace(recolour_bulk + 16) {
    recolour_sprite {
        0x01..0x06: 0x22..0x27;
    }
}

// -> Gravel
replace(recolour_bulk + 17) {
    recolour_sprite {
        0x01..0x06: 0x10..0x15;
        0x02: 0x37;
        0x04: 0x38;
    }
}


// -> Iron Ore
replace(recolour_bulk + 18) {
    recolour_sprite {
        0x01..0x06: 0x49..0x4e;
    }
}


// -> Lime
replace(recolour_bulk + 19) {
    recolour_sprite {
        0x01..0x06: 0x09..0x0e;
        0x05..0x06: 0x66..0x67;
    }
}

// -> Kaolin
replace(recolour_bulk + 20) {
    recolour_sprite {
        0x01: 0x77;
        0x02: 0x77;
        0x03: 0x78;
        0x03: 0x78;
        0x04: 0x79;
        0x05: 0x79;
        0x06: 0x79;
    }
}

// -> Maiz
replace(recolour_bulk + 21) {
    recolour_sprite {
        0x01..0x06: 0x74..0x79;
        0x01: 0x75;
    }
}

// -> Manganese Oxide
replace(recolour_bulk + 22) {
    recolour_sprite {
        0x01: 0x10;
        0x02: 0x10;
        0x03: 0x11;
        0x03: 0x11;
        0x04: 0x12;
        0x05: 0x13;
    }
}

// -> Nitrate
replace(recolour_bulk + 23) {
    recolour_sprite {
        0x01..0x02: 0xa6..0xa7;
        0x03..0x06: 0xa6..0xa9;
    }
}

// -> Oilseed
replace(recolour_bulk + 24) {
    recolour_sprite {
        0x01..0x06: 0x3e..0x43;
    }
}


// -> Peat
replace(recolour_bulk + 25) {
    recolour_sprite {
        0x01..0x06: 0x68..0x6d;
    }
}

// -> Phosphate
replace(recolour_bulk + 26) {
    recolour_sprite {
        0x01..0x06: 0xc0..0xc5;
    }
}

// -> Potash
replace(recolour_bulk + 27) {
    recolour_sprite {
        0x01..0x06: 0x2b..0x30;
    }
}


// -> Pyrite Ore
replace(recolour_bulk + 28) {
    recolour_sprite {
        0x02: 0x24;
        0x04: 0x35;
        0x06: 0x33;
    }
}


// -> Quicklime
replace(recolour_bulk + 29) {
    recolour_sprite {
        0x01..0x06: 0x09..0x0e;
        0x05..0x06: 0x66..0x67;
    }
}

// -> Recyclables
replace(recolour_bulk + 30) {
    recolour_sprite {
        0x01..0x06: 0x08..0x0d;
        0x02: 0x93;
        0x03: 0xb5;
    }
}

// -> Salt
replace(recolour_bulk + 31) {
    recolour_sprite {
        0x01..0x06: 0x09..0x0e;
        0x02: 0x85;
        0x03: 0x86;
    }
}

// -> Sand
replace(recolour_bulk + 32) {
    recolour_sprite {
        0x01..0x06: 0x35..0x3a;
    }
}


// -> Soda ash
replace(recolour_bulk + 33) {
    recolour_sprite {
        0x01..0x06: 0x0a..0x0f;
    }
}


// -> Scrap Metal
replace(recolour_bulk + 34) {
    recolour_sprite {
        0x01: 0x02;
        0x02: 0x01;
        0x03: 0x3c;
        0x04: 0x46;
    }
}

// -> Sugar Beet
replace(recolour_bulk + 35) {
    recolour_sprite {
        0x01..0x06: 0x29..0x2e;
    }
}

// -> Sugar Cane
replace(recolour_bulk + 36) {
    recolour_sprite {
        0x01..0x06: 0x62..0x67;
    }
}

// -> Slag
replace(recolour_bulk + 37) {
    recolour_sprite {
        0x01..0x04: 0x06..0x09;
        0x05: 0x25;
        0x06: 0x0b;
    }
}


// -> Sugar
replace(recolour_bulk + 38) {
    recolour_sprite {
        0x01..0x06: 0x09..0x0e;
        0x02: 0x85;
        0x03: 0x86;
    }
}

// -> Sulphur
replace(recolour_bulk + 39) {
    recolour_sprite {
        0x01..0x04: 0x40..0x43;
        0x05..0x06: 0xc3..0xc4;
    }
}

// -> Toffee
replace(recolour_bulk + 40) {
    recolour_sprite {
        0x01..0x06: 0x73..0x78;
    }
}

// -> Uranium
replace(recolour_bulk + 41) {
    recolour_sprite {
        0x01: 0xd0;
        0x02: 0xd0;
        0x03: 0xd0;
        0x04: 0xd1;
        0x05: 0xd1;
        0x06: 0xd1;
    }
}


// -> Wheat
replace(recolour_bulk + 42) {
    recolour_sprite {
        0x01..0x06: 0x74..0x79;
    }
}

// -> Timber
replace(recolour_bulk + 43) {
    recolour_sprite {
        0x01: 0x3d;
        0x02: 0x3e;
        0x03..0x06: 0x24..0x27;
    }
}



// Crate recolours

recolour_crate = reserve_sprites(33);

// -> Batteries (yellow)
replace(recolour_crate) {
    recolour_sprite {
        0x50..0x57: 0x3e..0x45;
    }
}

// -> Beer (brown)
replace(recolour_crate + 1) {
    recolour_sprite {
        0x50..0x57: 0x46..0x4d;
    }
}

// -> Explosives (red/orange)
replace(recolour_crate + 2) {
    recolour_sprite {
        0x50..0x57: 0xb6..0xbd;
    }
}

// -> Bubbles (ice blue)
replace(recolour_crate + 3) {
    recolour_sprite {
        0x50: 0xd6;
        0x51: 0xd6;
        0x52: 0xd5;
        0x53: 0xd5;
        0x54: 0xd4;
        0x55: 0xd3;
        0x56: 0xd3;
        0x57: 0xd2;
    }
}

// -> Ceramics (pale green)
replace(recolour_crate + 4) {
    recolour_sprite {
        0x50..0x57: 0x60..0x67;
    }
}

// -> Fizzy Drinks (red)
replace(recolour_crate + 5) {
    recolour_sprite {
        0x50..0x57: 0xb2..0xb9;
    }
}

// -> Coffee (dark brown)
replace(recolour_crate + 6) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
    }
}

// -> Nuts
replace(recolour_crate + 7) {
    recolour_sprite {
        0x50..0x56: 0x35..0x3b;
        0x57: 0x3b;
    }
}


// -> Paper (white)
replace(recolour_crate + 8) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
    }
}


// -> Electrical machines (yellow)
replace(recolour_crate + 9) {
    recolour_sprite {
        0x50: 0x40;
        0x51: 0x40;
        0x52..0x57: 0x40..0x45;
    }
}


// -> Toys (blue)
replace(recolour_crate + 10) {
    recolour_sprite {
        0x50..0x57: 0x90..0x97;
    }
}

// -> Vehicle Engines (olive green)
replace(recolour_crate + 11) {
    recolour_sprite {
        0x50..0x57: 0x18..0x1f;
    }
}

// -> Vehicle Parts (black)
replace(recolour_crate + 12) {
    recolour_sprite {
        0x50..0x57: 0x01..0x08;
    }
}


// -> Plastics (purple)
replace(recolour_crate + 13) {
    recolour_sprite {
        0x50..0x57: 0x88..0x8f;
    }
}


// -> Dyes (pinky red)
replace(recolour_crate + 14) {
    recolour_sprite {
        0x50..0x57: 0x28..0x2f;
    }
}

// -> Packaging (mauve)
replace(recolour_crate + 15) {
    recolour_sprite {
        0x50..0x57: 0x80..0x87;
    }
}

// -> Fibre crops (green)
replace(recolour_crate + 16) {
    recolour_sprite {
        0x50..0x57: 0x50..0x57;
    }
}


// -> Cleaning Agents (odd red)
replace(recolour_crate + 17) {
    recolour_sprite {
        0x50..0x57: 0xa2..0xa9;
    }
}

// -> Coatings (light purple)
replace(recolour_crate + 18) {
    recolour_sprite {
        0x50..0x57: 0xaa..0xb1;
    }
}

// -> Chemicals (light yellow)
replace(recolour_crate + 19) {
    recolour_sprite {
        0x50: 0x41;
        0x51: 0x41;
        0x52: 0x42;
        0x53: 0x42;
        0x54: 0x43;
        0x55: 0x44;
        0x56: 0x44;
        0x57: 0x45;
    }
}

// -> Fruit (blue)
replace(recolour_crate + 20) {
    recolour_sprite {
        0x50..0x57: 0xc6..0xcd;
    }
}

// -> Wool (grey/white)
replace(recolour_crate + 21) {
    recolour_sprite {
        0x50..0x57: 0x04..0x0b;
    }
}


// -> Fertiliser (brown)
replace(recolour_crate + 22) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
    }
}


// -> Glass (mauve)
replace(recolour_crate + 23) {
    recolour_sprite {
        0x50..0x57: 0x80..0x87;
    }
}

// -> Recyclables (green)
replace(recolour_crate + 24) {
    recolour_sprite {
        0x50..0x57: 0x50..0x57;
    }
}

// -> Waste (copper brown)
replace(recolour_crate + 25) {
    recolour_sprite {
        0x50: 0x7A;
        0x51: 0x7A;
        0x52: 0x7B;
        0x53: 0x7C;
        0x54: 0x7D;
        0x55: 0x7E;
        0x56: 0x7F;
        0x57: 0x7F;
    }
}

// -> Nuclear Fuels (bright orange)
replace(recolour_crate + 26) {
    recolour_sprite {
        0x50: 0xBA;
        0x51: 0xBA;
        0x52: 0xBB;
        0x53: 0xBB;
        0x54: 0xBC;
        0x55: 0xBC;
        0x56: 0xBD;
        0x57: 0xBD;
    }
}

// -> Nuclear Waste (bright green)
replace(recolour_crate + 27) {
    recolour_sprite {
        0x50: 0xCE;
        0x51: 0xCE;
        0x52: 0xCF;
        0x53: 0xCF;
        0x54: 0xD0;
        0x55: 0xD0;
        0x56: 0xD1;
        0x57: 0xD1;
    }
}


// -> Uranium (pink)
replace(recolour_crate + 28) {
    recolour_sprite {
        0x50..0x57: 0x58..0x5F;
    }
}


// -> Hardware (steel grey)
replace(recolour_crate + 29) {
    recolour_sprite {
        0x50..0x57: 0x10..0x17;
    }
}

// -> Pumps (teal)
replace(recolour_crate + 30) {
    recolour_sprite {
        0x50: 0x9A;
        0x51: 0x9A;
        0x52: 0x9B;
        0x53: 0x9C;
        0x54: 0x9D;
        0x55: 0x9E;
        0x56: 0x9E;
        0x57: 0x9F;
    }
}

// -> Hoses and Seals (dingy green)
replace(recolour_crate + 31) {
    recolour_sprite {
        0x50..0x57: 0x18..0x1F;
    }
}

// -> Rubber (black)
replace(recolour_crate + 32) {
    recolour_sprite {
        0x50..0x57: 0x01..0x08;
    }
}



//
// METAL
//


recolour_metal = reserve_sprites(11);

// Aluminium
replace(recolour_metal) {
    recolour_sprite {
        0xc6..0xcd: 0x06..0x0d;
        0x50..0x57: 0x92..0x99;
    }
}

// Copper
replace(recolour_metal + 1) {
    recolour_sprite {
        0xc6..0xcd: 0x48..0x4f;
        0x50..0x57: 0x58..0x5f;
    }
}

// Cast Iron
replace(recolour_metal + 2) {
    recolour_sprite {
        0xc6..0xcd: 0x03..0x0a;
        0x50..0x57: 0x88..0x8f;
    }
}

// Iron
replace(recolour_metal + 3) {
    recolour_sprite {
        0xc6..0xcd: 0x04..0x0b;
        0x50..0x57: 0xb2..0xb9;        
    }
}

// Generic Metal
replace(recolour_metal + 4) {
    recolour_sprite {
        0xc6..0xcd: 0x10..0x17;
        0x50..0x57: 0xb2..0xb9;
    }
}

// Steel Alloy
replace(recolour_metal + 5) {
    recolour_sprite {
        0xc6..0xcd: 0x20..0x27;
        0x50..0x57: 0x46..0x4d;        
    }
}


// Carbon Steel
replace(recolour_metal + 6) {
    recolour_sprite {
        0xc6..0xcd: 0x05..0x0c;
        0x50..0x57: 0x3e..0x45;        
    }
}


// Generic Steel
replace(recolour_metal + 7) {
    recolour_sprite {
        0xc6..0xcd: 0x10..0x17;
        0x50..0x57: 0xb2..0xb9;        
    }
}


// Steel Sections
replace(recolour_metal + 8) {
    recolour_sprite {
        0xc6..0xcc: 0x11..0x17;
        0xcd: 0x0e;
        0x50..0x57: 0x50..0x57;
    }
}

// Stainless Steel
replace(recolour_metal + 9) {
    recolour_sprite {
        0xc6..0xcd: 0x07..0x0e;
        0x50..0x57: 0x60..0x67;        
    }
}

// Zinc
replace(recolour_metal + 10) {
    recolour_sprite {
        0xc6..0xcb: 0x10..0x15;
        0xcc..0xcd: 0x76..0x77;
        0x50..0x57: 0xb7..0xbe;        
    }
}

// Horses!

recolour_horses = reserve_sprites(25);

// -> 

// Dark brown: 0x68..0x6f
// Chestnut:   0x72..0x79
// Grey:       0x02..0x09
// Light:      0x06..0x0d
// Gold:       0x20..0x27

replace(recolour_horses + 0) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_horses + 1) {
    recolour_sprite {
        0x50..0x57: 0x72..0x79;
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_horses + 2) {
    recolour_sprite {
        0x50..0x57: 0x02..0x09;
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_horses + 3) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_horses + 4) {
    recolour_sprite {
        0x50..0x57: 0x20..0x27;
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_horses + 5) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
        0xc6..0xcd: 0x72..0x79; 
    }
}

replace(recolour_horses + 6) {
    recolour_sprite {
        0x50..0x57: 0x72..0x79;
        0xc6..0xcd: 0x72..0x79; 
    }
}

replace(recolour_horses + 7) {
    recolour_sprite {
        0x50..0x57: 0x02..0x09;
        0xc6..0xcd: 0x72..0x79; 
    }
}

replace(recolour_horses + 8) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
        0xc6..0xcd: 0x72..0x79; 
    }
}

replace(recolour_horses + 9) {
    recolour_sprite {
        0x50..0x57: 0x20..0x27;
        0xc6..0xcd: 0x72..0x79; 
    }
}

replace(recolour_horses + 10) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
        0xc6..0xcd: 0x02..0x09; 
    }
}

replace(recolour_horses + 11) {
    recolour_sprite {
        0x50..0x57: 0x72..0x79;
        0xc6..0xcd: 0x02..0x09; 
    }
}

replace(recolour_horses + 12) {
    recolour_sprite {
        0x50..0x57: 0x02..0x09;
        0xc6..0xcd: 0x02..0x09; 
    }
}

replace(recolour_horses + 13) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
        0xc6..0xcd: 0x02..0x09; 
    }
}

replace(recolour_horses + 14) {
    recolour_sprite {
        0x50..0x57: 0x20..0x27;
        0xc6..0xcd: 0x02..0x09; 
    }
}

replace(recolour_horses + 15) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
        0xc6..0xcd: 0x06..0x0d; 
    }
}

replace(recolour_horses + 16) {
    recolour_sprite {
        0x50..0x57: 0x72..0x79;
        0xc6..0xcd: 0x06..0x0d; 
    }
}

replace(recolour_horses + 17) {
    recolour_sprite {
        0x50..0x57: 0x02..0x09;
        0xc6..0xcd: 0x06..0x0d; 
    }
}

replace(recolour_horses + 18) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
        0xc6..0xcd: 0x06..0x0d; 
    }
}

replace(recolour_horses + 19) {
    recolour_sprite {
        0x50..0x57: 0x20..0x27;
        0xc6..0xcd: 0x06..0x0d; 
    }
}

replace(recolour_horses + 20) {
    recolour_sprite {
        0x50..0x57: 0x68..0x6f;
        0xc6..0xcd: 0x20..0x27; 
    }
}

replace(recolour_horses + 21) {
    recolour_sprite {
        0x50..0x57: 0x72..0x79;
        0xc6..0xcd: 0x20..0x27; 
    }
}

replace(recolour_horses + 22) {
    recolour_sprite {
        0x50..0x57: 0x02..0x09;
        0xc6..0xcd: 0x20..0x27; 
    }
}

replace(recolour_horses + 23) {
    recolour_sprite {
        0x50..0x57: 0x06..0x0d;
        0xc6..0xcd: 0x20..0x27; 
    }
}

replace(recolour_horses + 24) {
    recolour_sprite {
        0x50..0x57: 0x20..0x27;
        0xc6..0xcd: 0x20..0x27; 
    }
}

// Brake van recolours
recolour_brakevan = reserve_sprites(8);

replace(recolour_brakevan + 0) {
    recolour_sprite {
        0xc6..0xcd: 0x71..0x78; 
    }
}

replace(recolour_brakevan + 1) {
    recolour_sprite {
        0xc6..0xcd: 0x20..0x27; 
    }
}

replace(recolour_brakevan + 2) {
    recolour_sprite {
        0xc6..0xcd: 0x48..0x4f; 
    }
}

replace(recolour_brakevan + 3) {
    recolour_sprite {
        0xc6..0xcd: 0x68..0x6f; 
    }
}

replace(recolour_brakevan + 4) {
    recolour_sprite {
        0xc6..0xcd: 0x46..0x4d; 
    }
}

replace(recolour_brakevan + 5) {
    recolour_sprite {
        0xc6..0xcd: 0x10..0x17; 
    }
}

replace(recolour_brakevan + 6) {
    recolour_sprite {
        0xc6..0xcd: 0x2..0x9; 
    }
}

replace(recolour_brakevan + 7) {
    recolour_sprite {
        0xc6..0xcd: 0x4..0xB; 
    }
}
switch (FEAT_TRAINS, PARENT, get_parent_random_bits, random_bits) { return; }

switch (FEAT_TRAINS, PARENT, get_parent_age_proportion, age_in_days / (max_age_in_days / 10)) { return; }

random_switch (FEAT_TRAINS, SELF, random_16) {
    1: return 0;
    1: return 1;
    1: return 2;
    1: return 3;
    1: return 4;
    1: return 5;
    1: return 6;
    1: return 7;
    1: return 8;
    1: return 9;
    1: return 10;
    1: return 15;
    1: return 23;
    1: return 31;
    1: return 63;
    1: return 127;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), random_16_forward) {
    1: return 0;
    1: return 1;
    1: return 2;
    1: return 3;
    1: return 4;
    1: return 5;
    1: return 6;
    1: return 7;
    1: return 8;
    1: return 9;
    1: return 10;
    1: return 15;
    1: return 23;
    1: return 31;
    1: return 63;
    1: return 127;
}

random_switch (FEAT_TRAINS, BACKWARD_SELF(1), random_16_backward) {
    1: return 0;
    1: return 1;
    1: return 2;
    1: return 3;
    1: return 4;
    1: return 5;
    1: return 6;
    1: return 7;
    1: return 8;
    1: return 9;
    1: return 10;
    1: return 15;
    1: return 23;
    1: return 31;
    1: return 63;
    1: return 127;
}

cargo_age_multiplier = param_slower_cargo_aging == 0 ? 2 :
    (param_slower_cargo_aging == 1 ? 1 : param_slower_cargo_aging * 2);
template template_auto_up_3_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -21 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -22 ]
}

template template_auto_down_3_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -20 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -21 ]
}

template template_auto_up_4_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -21 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -22 ]
}

template template_auto_down_4_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -20 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -21 ]
}

template template_auto_up_5_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -21 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -22 ]
}

template template_auto_down_5_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -20 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -21 ]
}

template template_auto_up_6_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -20 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -21 ]
}

template template_auto_down_6_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -19 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -20 ]
}

template template_auto_up_7_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -19 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -20 ]
}

template template_auto_down_7_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -19 ]
}

template template_auto_up_8_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -19 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -20 ]
}

template template_auto_down_8_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -19 ]
}

template template_auto_up_9_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -19 ]
}

template template_auto_down_9_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -17 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -18 ]
}

template template_auto_up_10_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -19 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -12 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -20 ]
}

template template_auto_down_10_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -19 ]
}

template template_auto_up_11_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -12 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -19 ]
}

template template_auto_down_11_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -17 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -18 ]
}

template template_auto_up_12_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -18 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -19 ]
}

template template_auto_down_12_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -17 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -18 ]
}

template template_auto_up_13_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -17 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -18 ]
}

template template_auto_down_13_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -17 ]
}

template template_auto_up_14_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -19, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -13, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -23, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -17, -17 ]
}

template template_auto_down_14_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -19, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -13, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -23, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -17, -16 ]
}

template template_auto_up_15_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -20, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -14, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -22, -13 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -16, -16 ]
}

template template_auto_down_15_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -20, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -14, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -22, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -16, -15 ]
}

template template_auto_up_16_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -21, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -15, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -21, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -15, -16 ]
}

template template_auto_down_16_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -21, -14 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -15, -16 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -21, -15 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -15, -15 ]
}

template template_auto_up_3_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -43 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -45 ]
}

template template_auto_down_3_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -41 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -43 ]
}

template template_auto_up_4_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -42 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -44 ]
}

template template_auto_down_4_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -40 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -32 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -42 ]
}

template template_auto_up_5_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -42 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -26 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -44 ]
}

template template_auto_down_5_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -40 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -42 ]
}

template template_auto_up_6_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -41 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -43 ]
}

template template_auto_down_6_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -39 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -41 ]
}

template template_auto_up_7_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -39 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -41 ]
}

template template_auto_down_7_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -37 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -39 ]
}

template template_auto_up_8_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -38 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -40 ]
}

template template_auto_down_8_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -36 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -32 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -38 ]
}

template template_auto_up_9_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -36 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -38 ]
}

template template_auto_down_9_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -34 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -32 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -36 ]
}

template template_auto_up_10_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -39 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -25 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -41 ]
}

template template_auto_down_10_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -37 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -39 ]
}

template template_auto_up_11_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -37 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -25 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -39 ]
}

template template_auto_down_11_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -35 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -37 ]
}

template template_auto_up_12_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -36 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -26 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -38 ]
}

template template_auto_down_12_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -34 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -36 ]
}

template template_auto_up_13_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -34 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -26 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -36 ]
}

template template_auto_down_13_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -32 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -34 ]
}

template template_auto_up_14_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -38, -33 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -26, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -46, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -34, -35 ]
}

template template_auto_down_14_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -38, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -26, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -46, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -34, -33 ]
}

template template_auto_up_15_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -40, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -28, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -44, -27 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -32, -33 ]
}

template template_auto_down_15_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -40, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -28, -31 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -44, -29 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -32, -31 ]
}

template template_auto_up_16_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -42, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -30, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -42, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -30, -32 ]
}

template template_auto_down_16_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -42, -28 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -30, -32 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -42, -30 ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -30, -30 ]
}

template template_auto_3_anim_1x() {
  [ 0, 0, 7, 45, -2, -33, ANIM ]
  [ 76, 0, 36, 31, -14, -21, ANIM ]
  [ 234, 0, 62, 17, -17, -13, ANIM ]
  [ 418, 0, 36, 31, -8, -15, ANIM ]
  [ 523, 0, 7, 45, -2, -19, ANIM ]
  [ 599, 0, 36, 31, -28, -14, ANIM ]
  [ 757, 0, 62, 17, -45, -13, ANIM ]
  [ 941, 0, 36, 31, -22, -22, ANIM ]
}

template template_auto_turn_1_3_anim_1x() {
  [ 15, 0, 18, 38, -8, -30, ANIM ]
  [ 120, 0, 45, 26, -18, -19, ANIM ]
  [ 304, 0, 53, 22, -12, -15, ANIM ]
  [ 462, 0, 27, 35, -3, -17, ANIM ]
  [ 538, 0, 18, 38, -8, -16, ANIM ]
  [ 643, 0, 45, 26, -32, -12, ANIM ]
  [ 827, 0, 53, 22, -40, -15, ANIM ]
  [ 985, 0, 27, 35, -17, -24, ANIM ]
}

template template_auto_turn_2_3_anim_1x() {
  [ 1020, 0, 18, 38, -8, -30, ANIM ]
  [ 41, 0, 27, 35, -9, -23, ANIM ]
  [ 173, 0, 53, 22, -12, -15, ANIM ]
  [ 365, 0, 45, 26, -12, -13, ANIM ]
  [ 497, 0, 18, 38, -8, -16, ANIM ]
  [ 564, 0, 27, 35, -23, -16, ANIM ]
  [ 696, 0, 53, 22, -40, -15, ANIM ]
  [ 888, 0, 45, 26, -26, -20, ANIM ]
}

template template_auto_4_anim_1x() {
  [ 0, 0, 7, 45, -2, -32, ANIM ]
  [ 76, 0, 36, 31, -15, -21, ANIM ]
  [ 234, 0, 62, 17, -19, -13, ANIM ]
  [ 418, 0, 36, 31, -9, -16, ANIM ]
  [ 523, 0, 7, 45, -2, -20, ANIM ]
  [ 599, 0, 36, 31, -27, -15, ANIM ]
  [ 757, 0, 62, 17, -43, -13, ANIM ]
  [ 941, 0, 36, 31, -21, -22, ANIM ]
}

template template_auto_turn_1_4_anim_1x() {
  [ 15, 0, 18, 38, -8, -29, ANIM ]
  [ 120, 0, 45, 26, -19, -18, ANIM ]
  [ 304, 0, 53, 22, -14, -15, ANIM ]
  [ 462, 0, 27, 35, -4, -18, ANIM ]
  [ 538, 0, 18, 38, -8, -17, ANIM ]
  [ 643, 0, 45, 26, -31, -12, ANIM ]
  [ 827, 0, 53, 22, -38, -15, ANIM ]
  [ 985, 0, 27, 35, -16, -24, ANIM ]
}

template template_auto_turn_2_4_anim_1x() {
  [ 1020, 0, 18, 38, -8, -29, ANIM ]
  [ 41, 0, 27, 35, -10, -23, ANIM ]
  [ 173, 0, 53, 22, -14, -15, ANIM ]
  [ 365, 0, 45, 26, -13, -13, ANIM ]
  [ 497, 0, 18, 38, -8, -17, ANIM ]
  [ 564, 0, 27, 35, -22, -17, ANIM ]
  [ 696, 0, 53, 22, -38, -15, ANIM ]
  [ 888, 0, 45, 26, -25, -19, ANIM ]
}

template template_auto_5_anim_1x() {
  [ 0, 0, 7, 45, -2, -33, ANIM ]
  [ 76, 0, 36, 31, -14, -21, ANIM ]
  [ 234, 0, 62, 17, -17, -13, ANIM ]
  [ 418, 0, 36, 31, -8, -15, ANIM ]
  [ 523, 0, 7, 45, -2, -19, ANIM ]
  [ 599, 0, 36, 31, -28, -14, ANIM ]
  [ 757, 0, 62, 17, -45, -13, ANIM ]
  [ 941, 0, 36, 31, -22, -22, ANIM ]
}

template template_auto_turn_1_5_anim_1x() {
  [ 15, 0, 18, 38, -8, -30, ANIM ]
  [ 120, 0, 45, 26, -18, -19, ANIM ]
  [ 304, 0, 53, 22, -12, -15, ANIM ]
  [ 462, 0, 27, 35, -3, -17, ANIM ]
  [ 538, 0, 18, 38, -8, -16, ANIM ]
  [ 643, 0, 45, 26, -32, -12, ANIM ]
  [ 827, 0, 53, 22, -40, -15, ANIM ]
  [ 985, 0, 27, 35, -17, -24, ANIM ]
}

template template_auto_turn_2_5_anim_1x() {
  [ 1020, 0, 18, 38, -8, -30, ANIM ]
  [ 41, 0, 27, 35, -9, -23, ANIM ]
  [ 173, 0, 53, 22, -12, -15, ANIM ]
  [ 365, 0, 45, 26, -12, -13, ANIM ]
  [ 497, 0, 18, 38, -8, -16, ANIM ]
  [ 564, 0, 27, 35, -23, -16, ANIM ]
  [ 696, 0, 53, 22, -40, -15, ANIM ]
  [ 888, 0, 45, 26, -26, -20, ANIM ]
}

template template_auto_6_anim_1x() {
  [ 0, 0, 7, 45, -2, -32, ANIM ]
  [ 76, 0, 36, 31, -15, -21, ANIM ]
  [ 234, 0, 62, 17, -19, -13, ANIM ]
  [ 418, 0, 36, 31, -9, -16, ANIM ]
  [ 523, 0, 7, 45, -2, -20, ANIM ]
  [ 599, 0, 36, 31, -27, -15, ANIM ]
  [ 757, 0, 62, 17, -43, -13, ANIM ]
  [ 941, 0, 36, 31, -21, -22, ANIM ]
}

template template_auto_turn_1_6_anim_1x() {
  [ 15, 0, 18, 38, -8, -29, ANIM ]
  [ 120, 0, 45, 26, -19, -18, ANIM ]
  [ 304, 0, 53, 22, -14, -15, ANIM ]
  [ 462, 0, 27, 35, -4, -18, ANIM ]
  [ 538, 0, 18, 38, -8, -17, ANIM ]
  [ 643, 0, 45, 26, -31, -12, ANIM ]
  [ 827, 0, 53, 22, -38, -15, ANIM ]
  [ 985, 0, 27, 35, -16, -24, ANIM ]
}

template template_auto_turn_2_6_anim_1x() {
  [ 1020, 0, 18, 38, -8, -29, ANIM ]
  [ 41, 0, 27, 35, -10, -23, ANIM ]
  [ 173, 0, 53, 22, -14, -15, ANIM ]
  [ 365, 0, 45, 26, -13, -13, ANIM ]
  [ 497, 0, 18, 38, -8, -17, ANIM ]
  [ 564, 0, 27, 35, -22, -17, ANIM ]
  [ 696, 0, 53, 22, -38, -15, ANIM ]
  [ 888, 0, 45, 26, -25, -19, ANIM ]
}

template template_auto_7_anim_1x() {
  [ 0, 0, 7, 45, -2, -31, ANIM ]
  [ 76, 0, 36, 31, -16, -20, ANIM ]
  [ 234, 0, 62, 17, -21, -13, ANIM ]
  [ 418, 0, 36, 31, -10, -16, ANIM ]
  [ 523, 0, 7, 45, -2, -21, ANIM ]
  [ 599, 0, 36, 31, -26, -15, ANIM ]
  [ 757, 0, 62, 17, -41, -13, ANIM ]
  [ 941, 0, 36, 31, -20, -21, ANIM ]
}

template template_auto_turn_1_7_anim_1x() {
  [ 15, 0, 18, 38, -8, -28, ANIM ]
  [ 120, 0, 45, 26, -20, -18, ANIM ]
  [ 304, 0, 53, 22, -16, -15, ANIM ]
  [ 462, 0, 27, 35, -5, -18, ANIM ]
  [ 538, 0, 18, 38, -8, -18, ANIM ]
  [ 643, 0, 45, 26, -30, -13, ANIM ]
  [ 827, 0, 53, 22, -36, -15, ANIM ]
  [ 985, 0, 27, 35, -15, -23, ANIM ]
}

template template_auto_turn_2_7_anim_1x() {
  [ 1020, 0, 18, 38, -8, -28, ANIM ]
  [ 41, 0, 27, 35, -11, -22, ANIM ]
  [ 173, 0, 53, 22, -16, -15, ANIM ]
  [ 365, 0, 45, 26, -14, -14, ANIM ]
  [ 497, 0, 18, 38, -8, -18, ANIM ]
  [ 564, 0, 27, 35, -21, -17, ANIM ]
  [ 696, 0, 53, 22, -36, -15, ANIM ]
  [ 888, 0, 45, 26, -24, -19, ANIM ]
}

template template_auto_8_anim_1x() {
  [ 0, 0, 7, 45, -2, -30, ANIM ]
  [ 76, 0, 36, 31, -17, -20, ANIM ]
  [ 234, 0, 62, 17, -23, -13, ANIM ]
  [ 418, 0, 36, 31, -11, -17, ANIM ]
  [ 523, 0, 7, 45, -2, -22, ANIM ]
  [ 599, 0, 36, 31, -25, -16, ANIM ]
  [ 757, 0, 62, 17, -39, -13, ANIM ]
  [ 941, 0, 36, 31, -19, -21, ANIM ]
}

template template_auto_turn_1_8_anim_1x() {
  [ 15, 0, 18, 38, -8, -27, ANIM ]
  [ 120, 0, 45, 26, -21, -17, ANIM ]
  [ 304, 0, 53, 22, -18, -15, ANIM ]
  [ 462, 0, 27, 35, -6, -19, ANIM ]
  [ 538, 0, 18, 38, -8, -19, ANIM ]
  [ 643, 0, 45, 26, -29, -13, ANIM ]
  [ 827, 0, 53, 22, -34, -15, ANIM ]
  [ 985, 0, 27, 35, -14, -23, ANIM ]
}

template template_auto_turn_2_8_anim_1x() {
  [ 1020, 0, 18, 38, -8, -27, ANIM ]
  [ 41, 0, 27, 35, -12, -22, ANIM ]
  [ 173, 0, 53, 22, -18, -15, ANIM ]
  [ 365, 0, 45, 26, -15, -14, ANIM ]
  [ 497, 0, 18, 38, -8, -19, ANIM ]
  [ 564, 0, 27, 35, -20, -18, ANIM ]
  [ 696, 0, 53, 22, -34, -15, ANIM ]
  [ 888, 0, 45, 26, -23, -18, ANIM ]
}

template template_auto_9_anim_1x() {
  [ 0, 0, 7, 45, -2, -29, ANIM ]
  [ 76, 0, 36, 31, -18, -19, ANIM ]
  [ 234, 0, 62, 17, -25, -13, ANIM ]
  [ 418, 0, 36, 31, -12, -17, ANIM ]
  [ 523, 0, 7, 45, -2, -23, ANIM ]
  [ 599, 0, 36, 31, -24, -16, ANIM ]
  [ 757, 0, 62, 17, -37, -13, ANIM ]
  [ 941, 0, 36, 31, -18, -20, ANIM ]
}

template template_auto_turn_1_9_anim_1x() {
  [ 15, 0, 18, 38, -8, -26, ANIM ]
  [ 120, 0, 45, 26, -22, -17, ANIM ]
  [ 304, 0, 53, 22, -20, -15, ANIM ]
  [ 462, 0, 27, 35, -7, -19, ANIM ]
  [ 538, 0, 18, 38, -8, -20, ANIM ]
  [ 643, 0, 45, 26, -28, -14, ANIM ]
  [ 827, 0, 53, 22, -32, -15, ANIM ]
  [ 985, 0, 27, 35, -13, -22, ANIM ]
}

template template_auto_turn_2_9_anim_1x() {
  [ 1020, 0, 18, 38, -8, -26, ANIM ]
  [ 41, 0, 27, 35, -13, -21, ANIM ]
  [ 173, 0, 53, 22, -20, -15, ANIM ]
  [ 365, 0, 45, 26, -16, -15, ANIM ]
  [ 497, 0, 18, 38, -8, -20, ANIM ]
  [ 564, 0, 27, 35, -19, -18, ANIM ]
  [ 696, 0, 53, 22, -32, -15, ANIM ]
  [ 888, 0, 45, 26, -22, -18, ANIM ]
}

template template_auto_10_anim_1x() {
  [ 0, 0, 7, 45, -2, -32, ANIM ]
  [ 76, 0, 36, 31, -15, -21, ANIM ]
  [ 234, 0, 62, 17, -19, -13, ANIM ]
  [ 418, 0, 36, 31, -9, -16, ANIM ]
  [ 523, 0, 7, 45, -2, -20, ANIM ]
  [ 599, 0, 36, 31, -27, -15, ANIM ]
  [ 757, 0, 62, 17, -43, -13, ANIM ]
  [ 941, 0, 36, 31, -21, -22, ANIM ]
}

template template_auto_turn_1_10_anim_1x() {
  [ 15, 0, 18, 38, -8, -29, ANIM ]
  [ 120, 0, 45, 26, -19, -18, ANIM ]
  [ 304, 0, 53, 22, -14, -15, ANIM ]
  [ 462, 0, 27, 35, -4, -18, ANIM ]
  [ 538, 0, 18, 38, -8, -17, ANIM ]
  [ 643, 0, 45, 26, -31, -12, ANIM ]
  [ 827, 0, 53, 22, -38, -15, ANIM ]
  [ 985, 0, 27, 35, -16, -24, ANIM ]
}

template template_auto_turn_2_10_anim_1x() {
  [ 1020, 0, 18, 38, -8, -29, ANIM ]
  [ 41, 0, 27, 35, -10, -23, ANIM ]
  [ 173, 0, 53, 22, -14, -15, ANIM ]
  [ 365, 0, 45, 26, -13, -13, ANIM ]
  [ 497, 0, 18, 38, -8, -17, ANIM ]
  [ 564, 0, 27, 35, -22, -17, ANIM ]
  [ 696, 0, 53, 22, -38, -15, ANIM ]
  [ 888, 0, 45, 26, -25, -19, ANIM ]
}

template template_auto_11_anim_1x() {
  [ 0, 0, 7, 45, -2, -31, ANIM ]
  [ 76, 0, 36, 31, -16, -20, ANIM ]
  [ 234, 0, 62, 17, -21, -13, ANIM ]
  [ 418, 0, 36, 31, -10, -16, ANIM ]
  [ 523, 0, 7, 45, -2, -21, ANIM ]
  [ 599, 0, 36, 31, -26, -15, ANIM ]
  [ 757, 0, 62, 17, -41, -13, ANIM ]
  [ 941, 0, 36, 31, -20, -21, ANIM ]
}

template template_auto_turn_1_11_anim_1x() {
  [ 15, 0, 18, 38, -8, -28, ANIM ]
  [ 120, 0, 45, 26, -20, -18, ANIM ]
  [ 304, 0, 53, 22, -16, -15, ANIM ]
  [ 462, 0, 27, 35, -5, -18, ANIM ]
  [ 538, 0, 18, 38, -8, -18, ANIM ]
  [ 643, 0, 45, 26, -30, -13, ANIM ]
  [ 827, 0, 53, 22, -36, -15, ANIM ]
  [ 985, 0, 27, 35, -15, -23, ANIM ]
}

template template_auto_turn_2_11_anim_1x() {
  [ 1020, 0, 18, 38, -8, -28, ANIM ]
  [ 41, 0, 27, 35, -11, -22, ANIM ]
  [ 173, 0, 53, 22, -16, -15, ANIM ]
  [ 365, 0, 45, 26, -14, -14, ANIM ]
  [ 497, 0, 18, 38, -8, -18, ANIM ]
  [ 564, 0, 27, 35, -21, -17, ANIM ]
  [ 696, 0, 53, 22, -36, -15, ANIM ]
  [ 888, 0, 45, 26, -24, -19, ANIM ]
}

template template_auto_12_anim_1x() {
  [ 0, 0, 7, 45, -2, -30, ANIM ]
  [ 76, 0, 36, 31, -17, -20, ANIM ]
  [ 234, 0, 62, 17, -23, -13, ANIM ]
  [ 418, 0, 36, 31, -11, -17, ANIM ]
  [ 523, 0, 7, 45, -2, -22, ANIM ]
  [ 599, 0, 36, 31, -25, -16, ANIM ]
  [ 757, 0, 62, 17, -39, -13, ANIM ]
  [ 941, 0, 36, 31, -19, -21, ANIM ]
}

template template_auto_turn_1_12_anim_1x() {
  [ 15, 0, 18, 38, -8, -27, ANIM ]
  [ 120, 0, 45, 26, -21, -17, ANIM ]
  [ 304, 0, 53, 22, -18, -15, ANIM ]
  [ 462, 0, 27, 35, -6, -19, ANIM ]
  [ 538, 0, 18, 38, -8, -19, ANIM ]
  [ 643, 0, 45, 26, -29, -13, ANIM ]
  [ 827, 0, 53, 22, -34, -15, ANIM ]
  [ 985, 0, 27, 35, -14, -23, ANIM ]
}

template template_auto_turn_2_12_anim_1x() {
  [ 1020, 0, 18, 38, -8, -27, ANIM ]
  [ 41, 0, 27, 35, -12, -22, ANIM ]
  [ 173, 0, 53, 22, -18, -15, ANIM ]
  [ 365, 0, 45, 26, -15, -14, ANIM ]
  [ 497, 0, 18, 38, -8, -19, ANIM ]
  [ 564, 0, 27, 35, -20, -18, ANIM ]
  [ 696, 0, 53, 22, -34, -15, ANIM ]
  [ 888, 0, 45, 26, -23, -18, ANIM ]
}

template template_auto_13_anim_1x() {
  [ 0, 0, 7, 45, -2, -29, ANIM ]
  [ 76, 0, 36, 31, -18, -19, ANIM ]
  [ 234, 0, 62, 17, -25, -13, ANIM ]
  [ 418, 0, 36, 31, -12, -17, ANIM ]
  [ 523, 0, 7, 45, -2, -23, ANIM ]
  [ 599, 0, 36, 31, -24, -16, ANIM ]
  [ 757, 0, 62, 17, -37, -13, ANIM ]
  [ 941, 0, 36, 31, -18, -20, ANIM ]
}

template template_auto_turn_1_13_anim_1x() {
  [ 15, 0, 18, 38, -8, -26, ANIM ]
  [ 120, 0, 45, 26, -22, -17, ANIM ]
  [ 304, 0, 53, 22, -20, -15, ANIM ]
  [ 462, 0, 27, 35, -7, -19, ANIM ]
  [ 538, 0, 18, 38, -8, -20, ANIM ]
  [ 643, 0, 45, 26, -28, -14, ANIM ]
  [ 827, 0, 53, 22, -32, -15, ANIM ]
  [ 985, 0, 27, 35, -13, -22, ANIM ]
}

template template_auto_turn_2_13_anim_1x() {
  [ 1020, 0, 18, 38, -8, -26, ANIM ]
  [ 41, 0, 27, 35, -13, -21, ANIM ]
  [ 173, 0, 53, 22, -20, -15, ANIM ]
  [ 365, 0, 45, 26, -16, -15, ANIM ]
  [ 497, 0, 18, 38, -8, -20, ANIM ]
  [ 564, 0, 27, 35, -19, -18, ANIM ]
  [ 696, 0, 53, 22, -32, -15, ANIM ]
  [ 888, 0, 45, 26, -22, -18, ANIM ]
}

template template_auto_14_anim_1x() {
  [ 0, 0, 7, 45, -2, -28, ANIM ]
  [ 76, 0, 36, 31, -19, -19, ANIM ]
  [ 234, 0, 62, 17, -27, -13, ANIM ]
  [ 418, 0, 36, 31, -13, -18, ANIM ]
  [ 523, 0, 7, 45, -2, -24, ANIM ]
  [ 599, 0, 36, 31, -23, -17, ANIM ]
  [ 757, 0, 62, 17, -35, -13, ANIM ]
  [ 941, 0, 36, 31, -17, -20, ANIM ]
}

template template_auto_turn_1_14_anim_1x() {
  [ 15, 0, 18, 38, -8, -25, ANIM ]
  [ 120, 0, 45, 26, -23, -16, ANIM ]
  [ 304, 0, 53, 22, -22, -15, ANIM ]
  [ 462, 0, 27, 35, -8, -20, ANIM ]
  [ 538, 0, 18, 38, -8, -21, ANIM ]
  [ 643, 0, 45, 26, -27, -14, ANIM ]
  [ 827, 0, 53, 22, -30, -15, ANIM ]
  [ 985, 0, 27, 35, -12, -22, ANIM ]
}

template template_auto_turn_2_14_anim_1x() {
  [ 1020, 0, 18, 38, -8, -25, ANIM ]
  [ 41, 0, 27, 35, -14, -21, ANIM ]
  [ 173, 0, 53, 22, -22, -15, ANIM ]
  [ 365, 0, 45, 26, -17, -15, ANIM ]
  [ 497, 0, 18, 38, -8, -21, ANIM ]
  [ 564, 0, 27, 35, -18, -19, ANIM ]
  [ 696, 0, 53, 22, -30, -15, ANIM ]
  [ 888, 0, 45, 26, -21, -17, ANIM ]
}

template template_auto_15_anim_1x() {
  [ 0, 0, 7, 45, -2, -27, ANIM ]
  [ 76, 0, 36, 31, -20, -18, ANIM ]
  [ 234, 0, 62, 17, -29, -13, ANIM ]
  [ 418, 0, 36, 31, -14, -18, ANIM ]
  [ 523, 0, 7, 45, -2, -25, ANIM ]
  [ 599, 0, 36, 31, -22, -17, ANIM ]
  [ 757, 0, 62, 17, -33, -13, ANIM ]
  [ 941, 0, 36, 31, -16, -19, ANIM ]
}

template template_auto_turn_1_15_anim_1x() {
  [ 15, 0, 18, 38, -8, -24, ANIM ]
  [ 120, 0, 45, 26, -24, -16, ANIM ]
  [ 304, 0, 53, 22, -24, -15, ANIM ]
  [ 462, 0, 27, 35, -9, -20, ANIM ]
  [ 538, 0, 18, 38, -8, -22, ANIM ]
  [ 643, 0, 45, 26, -26, -15, ANIM ]
  [ 827, 0, 53, 22, -28, -15, ANIM ]
  [ 985, 0, 27, 35, -11, -21, ANIM ]
}

template template_auto_turn_2_15_anim_1x() {
  [ 1020, 0, 18, 38, -8, -24, ANIM ]
  [ 41, 0, 27, 35, -15, -20, ANIM ]
  [ 173, 0, 53, 22, -24, -15, ANIM ]
  [ 365, 0, 45, 26, -18, -16, ANIM ]
  [ 497, 0, 18, 38, -8, -22, ANIM ]
  [ 564, 0, 27, 35, -17, -19, ANIM ]
  [ 696, 0, 53, 22, -28, -15, ANIM ]
  [ 888, 0, 45, 26, -20, -17, ANIM ]
}

template template_auto_16_anim_1x() {
  [ 0, 0, 7, 45, -2, -26, ANIM ]
  [ 76, 0, 36, 31, -21, -18, ANIM ]
  [ 234, 0, 62, 17, -31, -13, ANIM ]
  [ 418, 0, 36, 31, -15, -19, ANIM ]
  [ 523, 0, 7, 45, -2, -26, ANIM ]
  [ 599, 0, 36, 31, -21, -18, ANIM ]
  [ 757, 0, 62, 17, -31, -13, ANIM ]
  [ 941, 0, 36, 31, -15, -19, ANIM ]
}

template template_auto_turn_1_16_anim_1x() {
  [ 15, 0, 18, 38, -8, -23, ANIM ]
  [ 120, 0, 45, 26, -25, -15, ANIM ]
  [ 304, 0, 53, 22, -26, -15, ANIM ]
  [ 462, 0, 27, 35, -10, -21, ANIM ]
  [ 538, 0, 18, 38, -8, -23, ANIM ]
  [ 643, 0, 45, 26, -25, -15, ANIM ]
  [ 827, 0, 53, 22, -26, -15, ANIM ]
  [ 985, 0, 27, 35, -10, -21, ANIM ]
}

template template_auto_turn_2_16_anim_1x() {
  [ 1020, 0, 18, 38, -8, -23, ANIM ]
  [ 41, 0, 27, 35, -16, -20, ANIM ]
  [ 173, 0, 53, 22, -26, -15, ANIM ]
  [ 365, 0, 45, 26, -19, -16, ANIM ]
  [ 497, 0, 18, 38, -8, -23, ANIM ]
  [ 564, 0, 27, 35, -16, -20, ANIM ]
  [ 696, 0, 53, 22, -26, -15, ANIM ]
  [ 888, 0, 45, 26, -19, -16, ANIM ]
}

template template_auto_3_anim_2x() {
  [ 0, 0, 14, 90, -5, -67, ANIM ]
  [ 152, 0, 72, 62, -28, -43, ANIM ]
  [ 468, 0, 124, 34, -34, -26, ANIM ]
  [ 836, 0, 72, 62, -16, -31, ANIM ]
  [ 1046, 0, 14, 90, -5, -39, ANIM ]
  [ 1198, 0, 72, 62, -56, -29, ANIM ]
  [ 1514, 0, 124, 34, -90, -26, ANIM ]
  [ 1882, 0, 72, 62, -44, -45, ANIM ]
}

template template_auto_turn_1_3_anim_2x() {
  [ 30, 0, 36, 76, -16, -60, ANIM ]
  [ 240, 0, 90, 52, -37, -38, ANIM ]
  [ 608, 0, 106, 44, -25, -31, ANIM ]
  [ 924, 0, 54, 70, -7, -35, ANIM ]
  [ 1076, 0, 36, 76, -16, -32, ANIM ]
  [ 1286, 0, 90, 52, -65, -24, ANIM ]
  [ 1654, 0, 106, 44, -81, -31, ANIM ]
  [ 1970, 0, 54, 70, -35, -49, ANIM ]
}

template template_auto_turn_2_3_anim_2x() {
  [ 2040, 0, 36, 76, -16, -60, ANIM ]
  [ 82, 0, 54, 70, -19, -47, ANIM ]
  [ 346, 0, 106, 44, -25, -31, ANIM ]
  [ 730, 0, 90, 52, -25, -26, ANIM ]
  [ 994, 0, 36, 76, -16, -32, ANIM ]
  [ 1128, 0, 54, 70, -47, -33, ANIM ]
  [ 1392, 0, 106, 44, -81, -31, ANIM ]
  [ 1776, 0, 90, 52, -53, -40, ANIM ]
}

template template_auto_4_anim_2x() {
  [ 0, 0, 14, 90, -5, -65, ANIM ]
  [ 152, 0, 72, 62, -30, -42, ANIM ]
  [ 468, 0, 124, 34, -38, -26, ANIM ]
  [ 836, 0, 72, 62, -18, -32, ANIM ]
  [ 1046, 0, 14, 90, -5, -41, ANIM ]
  [ 1198, 0, 72, 62, -54, -30, ANIM ]
  [ 1514, 0, 124, 34, -86, -26, ANIM ]
  [ 1882, 0, 72, 62, -42, -44, ANIM ]
}

template template_auto_turn_1_4_anim_2x() {
  [ 30, 0, 36, 76, -16, -58, ANIM ]
  [ 240, 0, 90, 52, -39, -37, ANIM ]
  [ 608, 0, 106, 44, -29, -31, ANIM ]
  [ 924, 0, 54, 70, -9, -36, ANIM ]
  [ 1076, 0, 36, 76, -16, -34, ANIM ]
  [ 1286, 0, 90, 52, -63, -25, ANIM ]
  [ 1654, 0, 106, 44, -77, -31, ANIM ]
  [ 1970, 0, 54, 70, -33, -48, ANIM ]
}

template template_auto_turn_2_4_anim_2x() {
  [ 2040, 0, 36, 76, -16, -58, ANIM ]
  [ 82, 0, 54, 70, -21, -46, ANIM ]
  [ 346, 0, 106, 44, -29, -31, ANIM ]
  [ 730, 0, 90, 52, -27, -27, ANIM ]
  [ 994, 0, 36, 76, -16, -34, ANIM ]
  [ 1128, 0, 54, 70, -45, -34, ANIM ]
  [ 1392, 0, 106, 44, -77, -31, ANIM ]
  [ 1776, 0, 90, 52, -51, -39, ANIM ]
}

template template_auto_5_anim_2x() {
  [ 0, 0, 14, 90, -5, -67, ANIM ]
  [ 152, 0, 72, 62, -28, -43, ANIM ]
  [ 468, 0, 124, 34, -34, -26, ANIM ]
  [ 836, 0, 72, 62, -16, -31, ANIM ]
  [ 1046, 0, 14, 90, -5, -39, ANIM ]
  [ 1198, 0, 72, 62, -56, -29, ANIM ]
  [ 1514, 0, 124, 34, -90, -26, ANIM ]
  [ 1882, 0, 72, 62, -44, -45, ANIM ]
}

template template_auto_turn_1_5_anim_2x() {
  [ 30, 0, 36, 76, -16, -60, ANIM ]
  [ 240, 0, 90, 52, -37, -38, ANIM ]
  [ 608, 0, 106, 44, -25, -31, ANIM ]
  [ 924, 0, 54, 70, -7, -35, ANIM ]
  [ 1076, 0, 36, 76, -16, -32, ANIM ]
  [ 1286, 0, 90, 52, -65, -24, ANIM ]
  [ 1654, 0, 106, 44, -81, -31, ANIM ]
  [ 1970, 0, 54, 70, -35, -49, ANIM ]
}

template template_auto_turn_2_5_anim_2x() {
  [ 2040, 0, 36, 76, -16, -60, ANIM ]
  [ 82, 0, 54, 70, -19, -47, ANIM ]
  [ 346, 0, 106, 44, -25, -31, ANIM ]
  [ 730, 0, 90, 52, -25, -26, ANIM ]
  [ 994, 0, 36, 76, -16, -32, ANIM ]
  [ 1128, 0, 54, 70, -47, -33, ANIM ]
  [ 1392, 0, 106, 44, -81, -31, ANIM ]
  [ 1776, 0, 90, 52, -53, -40, ANIM ]
}

template template_auto_6_anim_2x() {
  [ 0, 0, 14, 90, -5, -65, ANIM ]
  [ 152, 0, 72, 62, -30, -42, ANIM ]
  [ 468, 0, 124, 34, -38, -26, ANIM ]
  [ 836, 0, 72, 62, -18, -32, ANIM ]
  [ 1046, 0, 14, 90, -5, -41, ANIM ]
  [ 1198, 0, 72, 62, -54, -30, ANIM ]
  [ 1514, 0, 124, 34, -86, -26, ANIM ]
  [ 1882, 0, 72, 62, -42, -44, ANIM ]
}

template template_auto_turn_1_6_anim_2x() {
  [ 30, 0, 36, 76, -16, -58, ANIM ]
  [ 240, 0, 90, 52, -39, -37, ANIM ]
  [ 608, 0, 106, 44, -29, -31, ANIM ]
  [ 924, 0, 54, 70, -9, -36, ANIM ]
  [ 1076, 0, 36, 76, -16, -34, ANIM ]
  [ 1286, 0, 90, 52, -63, -25, ANIM ]
  [ 1654, 0, 106, 44, -77, -31, ANIM ]
  [ 1970, 0, 54, 70, -33, -48, ANIM ]
}

template template_auto_turn_2_6_anim_2x() {
  [ 2040, 0, 36, 76, -16, -58, ANIM ]
  [ 82, 0, 54, 70, -21, -46, ANIM ]
  [ 346, 0, 106, 44, -29, -31, ANIM ]
  [ 730, 0, 90, 52, -27, -27, ANIM ]
  [ 994, 0, 36, 76, -16, -34, ANIM ]
  [ 1128, 0, 54, 70, -45, -34, ANIM ]
  [ 1392, 0, 106, 44, -77, -31, ANIM ]
  [ 1776, 0, 90, 52, -51, -39, ANIM ]
}

template template_auto_7_anim_2x() {
  [ 0, 0, 14, 90, -5, -63, ANIM ]
  [ 152, 0, 72, 62, -32, -41, ANIM ]
  [ 468, 0, 124, 34, -42, -26, ANIM ]
  [ 836, 0, 72, 62, -20, -33, ANIM ]
  [ 1046, 0, 14, 90, -5, -43, ANIM ]
  [ 1198, 0, 72, 62, -52, -31, ANIM ]
  [ 1514, 0, 124, 34, -82, -26, ANIM ]
  [ 1882, 0, 72, 62, -40, -43, ANIM ]
}

template template_auto_turn_1_7_anim_2x() {
  [ 30, 0, 36, 76, -16, -56, ANIM ]
  [ 240, 0, 90, 52, -41, -36, ANIM ]
  [ 608, 0, 106, 44, -33, -31, ANIM ]
  [ 924, 0, 54, 70, -11, -37, ANIM ]
  [ 1076, 0, 36, 76, -16, -36, ANIM ]
  [ 1286, 0, 90, 52, -61, -26, ANIM ]
  [ 1654, 0, 106, 44, -73, -31, ANIM ]
  [ 1970, 0, 54, 70, -31, -47, ANIM ]
}

template template_auto_turn_2_7_anim_2x() {
  [ 2040, 0, 36, 76, -16, -56, ANIM ]
  [ 82, 0, 54, 70, -23, -45, ANIM ]
  [ 346, 0, 106, 44, -33, -31, ANIM ]
  [ 730, 0, 90, 52, -29, -28, ANIM ]
  [ 994, 0, 36, 76, -16, -36, ANIM ]
  [ 1128, 0, 54, 70, -43, -35, ANIM ]
  [ 1392, 0, 106, 44, -73, -31, ANIM ]
  [ 1776, 0, 90, 52, -49, -38, ANIM ]
}

template template_auto_8_anim_2x() {
  [ 0, 0, 14, 90, -5, -61, ANIM ]
  [ 152, 0, 72, 62, -34, -40, ANIM ]
  [ 468, 0, 124, 34, -46, -26, ANIM ]
  [ 836, 0, 72, 62, -22, -34, ANIM ]
  [ 1046, 0, 14, 90, -5, -45, ANIM ]
  [ 1198, 0, 72, 62, -50, -32, ANIM ]
  [ 1514, 0, 124, 34, -78, -26, ANIM ]
  [ 1882, 0, 72, 62, -38, -42, ANIM ]
}

template template_auto_turn_1_8_anim_2x() {
  [ 30, 0, 36, 76, -16, -54, ANIM ]
  [ 240, 0, 90, 52, -43, -35, ANIM ]
  [ 608, 0, 106, 44, -37, -31, ANIM ]
  [ 924, 0, 54, 70, -13, -38, ANIM ]
  [ 1076, 0, 36, 76, -16, -38, ANIM ]
  [ 1286, 0, 90, 52, -59, -27, ANIM ]
  [ 1654, 0, 106, 44, -69, -31, ANIM ]
  [ 1970, 0, 54, 70, -29, -46, ANIM ]
}

template template_auto_turn_2_8_anim_2x() {
  [ 2040, 0, 36, 76, -16, -54, ANIM ]
  [ 82, 0, 54, 70, -25, -44, ANIM ]
  [ 346, 0, 106, 44, -37, -31, ANIM ]
  [ 730, 0, 90, 52, -31, -29, ANIM ]
  [ 994, 0, 36, 76, -16, -38, ANIM ]
  [ 1128, 0, 54, 70, -41, -36, ANIM ]
  [ 1392, 0, 106, 44, -69, -31, ANIM ]
  [ 1776, 0, 90, 52, -47, -37, ANIM ]
}

template template_auto_9_anim_2x() {
  [ 0, 0, 14, 90, -5, -59, ANIM ]
  [ 152, 0, 72, 62, -36, -39, ANIM ]
  [ 468, 0, 124, 34, -50, -26, ANIM ]
  [ 836, 0, 72, 62, -24, -35, ANIM ]
  [ 1046, 0, 14, 90, -5, -47, ANIM ]
  [ 1198, 0, 72, 62, -48, -33, ANIM ]
  [ 1514, 0, 124, 34, -74, -26, ANIM ]
  [ 1882, 0, 72, 62, -36, -41, ANIM ]
}

template template_auto_turn_1_9_anim_2x() {
  [ 30, 0, 36, 76, -16, -52, ANIM ]
  [ 240, 0, 90, 52, -45, -34, ANIM ]
  [ 608, 0, 106, 44, -41, -31, ANIM ]
  [ 924, 0, 54, 70, -15, -39, ANIM ]
  [ 1076, 0, 36, 76, -16, -40, ANIM ]
  [ 1286, 0, 90, 52, -57, -28, ANIM ]
  [ 1654, 0, 106, 44, -65, -31, ANIM ]
  [ 1970, 0, 54, 70, -27, -45, ANIM ]
}

template template_auto_turn_2_9_anim_2x() {
  [ 2040, 0, 36, 76, -16, -52, ANIM ]
  [ 82, 0, 54, 70, -27, -43, ANIM ]
  [ 346, 0, 106, 44, -41, -31, ANIM ]
  [ 730, 0, 90, 52, -33, -30, ANIM ]
  [ 994, 0, 36, 76, -16, -40, ANIM ]
  [ 1128, 0, 54, 70, -39, -37, ANIM ]
  [ 1392, 0, 106, 44, -65, -31, ANIM ]
  [ 1776, 0, 90, 52, -45, -36, ANIM ]
}

template template_auto_10_anim_2x() {
  [ 0, 0, 14, 90, -5, -65, ANIM ]
  [ 152, 0, 72, 62, -30, -42, ANIM ]
  [ 468, 0, 124, 34, -38, -26, ANIM ]
  [ 836, 0, 72, 62, -18, -32, ANIM ]
  [ 1046, 0, 14, 90, -5, -41, ANIM ]
  [ 1198, 0, 72, 62, -54, -30, ANIM ]
  [ 1514, 0, 124, 34, -86, -26, ANIM ]
  [ 1882, 0, 72, 62, -42, -44, ANIM ]
}

template template_auto_turn_1_10_anim_2x() {
  [ 30, 0, 36, 76, -16, -58, ANIM ]
  [ 240, 0, 90, 52, -39, -37, ANIM ]
  [ 608, 0, 106, 44, -29, -31, ANIM ]
  [ 924, 0, 54, 70, -9, -36, ANIM ]
  [ 1076, 0, 36, 76, -16, -34, ANIM ]
  [ 1286, 0, 90, 52, -63, -25, ANIM ]
  [ 1654, 0, 106, 44, -77, -31, ANIM ]
  [ 1970, 0, 54, 70, -33, -48, ANIM ]
}

template template_auto_turn_2_10_anim_2x() {
  [ 2040, 0, 36, 76, -16, -58, ANIM ]
  [ 82, 0, 54, 70, -21, -46, ANIM ]
  [ 346, 0, 106, 44, -29, -31, ANIM ]
  [ 730, 0, 90, 52, -27, -27, ANIM ]
  [ 994, 0, 36, 76, -16, -34, ANIM ]
  [ 1128, 0, 54, 70, -45, -34, ANIM ]
  [ 1392, 0, 106, 44, -77, -31, ANIM ]
  [ 1776, 0, 90, 52, -51, -39, ANIM ]
}

template template_auto_11_anim_2x() {
  [ 0, 0, 14, 90, -5, -63, ANIM ]
  [ 152, 0, 72, 62, -32, -41, ANIM ]
  [ 468, 0, 124, 34, -42, -26, ANIM ]
  [ 836, 0, 72, 62, -20, -33, ANIM ]
  [ 1046, 0, 14, 90, -5, -43, ANIM ]
  [ 1198, 0, 72, 62, -52, -31, ANIM ]
  [ 1514, 0, 124, 34, -82, -26, ANIM ]
  [ 1882, 0, 72, 62, -40, -43, ANIM ]
}

template template_auto_turn_1_11_anim_2x() {
  [ 30, 0, 36, 76, -16, -56, ANIM ]
  [ 240, 0, 90, 52, -41, -36, ANIM ]
  [ 608, 0, 106, 44, -33, -31, ANIM ]
  [ 924, 0, 54, 70, -11, -37, ANIM ]
  [ 1076, 0, 36, 76, -16, -36, ANIM ]
  [ 1286, 0, 90, 52, -61, -26, ANIM ]
  [ 1654, 0, 106, 44, -73, -31, ANIM ]
  [ 1970, 0, 54, 70, -31, -47, ANIM ]
}

template template_auto_turn_2_11_anim_2x() {
  [ 2040, 0, 36, 76, -16, -56, ANIM ]
  [ 82, 0, 54, 70, -23, -45, ANIM ]
  [ 346, 0, 106, 44, -33, -31, ANIM ]
  [ 730, 0, 90, 52, -29, -28, ANIM ]
  [ 994, 0, 36, 76, -16, -36, ANIM ]
  [ 1128, 0, 54, 70, -43, -35, ANIM ]
  [ 1392, 0, 106, 44, -73, -31, ANIM ]
  [ 1776, 0, 90, 52, -49, -38, ANIM ]
}

template template_auto_12_anim_2x() {
  [ 0, 0, 14, 90, -5, -61, ANIM ]
  [ 152, 0, 72, 62, -34, -40, ANIM ]
  [ 468, 0, 124, 34, -46, -26, ANIM ]
  [ 836, 0, 72, 62, -22, -34, ANIM ]
  [ 1046, 0, 14, 90, -5, -45, ANIM ]
  [ 1198, 0, 72, 62, -50, -32, ANIM ]
  [ 1514, 0, 124, 34, -78, -26, ANIM ]
  [ 1882, 0, 72, 62, -38, -42, ANIM ]
}

template template_auto_turn_1_12_anim_2x() {
  [ 30, 0, 36, 76, -16, -54, ANIM ]
  [ 240, 0, 90, 52, -43, -35, ANIM ]
  [ 608, 0, 106, 44, -37, -31, ANIM ]
  [ 924, 0, 54, 70, -13, -38, ANIM ]
  [ 1076, 0, 36, 76, -16, -38, ANIM ]
  [ 1286, 0, 90, 52, -59, -27, ANIM ]
  [ 1654, 0, 106, 44, -69, -31, ANIM ]
  [ 1970, 0, 54, 70, -29, -46, ANIM ]
}

template template_auto_turn_2_12_anim_2x() {
  [ 2040, 0, 36, 76, -16, -54, ANIM ]
  [ 82, 0, 54, 70, -25, -44, ANIM ]
  [ 346, 0, 106, 44, -37, -31, ANIM ]
  [ 730, 0, 90, 52, -31, -29, ANIM ]
  [ 994, 0, 36, 76, -16, -38, ANIM ]
  [ 1128, 0, 54, 70, -41, -36, ANIM ]
  [ 1392, 0, 106, 44, -69, -31, ANIM ]
  [ 1776, 0, 90, 52, -47, -37, ANIM ]
}

template template_auto_13_anim_2x() {
  [ 0, 0, 14, 90, -5, -59, ANIM ]
  [ 152, 0, 72, 62, -36, -39, ANIM ]
  [ 468, 0, 124, 34, -50, -26, ANIM ]
  [ 836, 0, 72, 62, -24, -35, ANIM ]
  [ 1046, 0, 14, 90, -5, -47, ANIM ]
  [ 1198, 0, 72, 62, -48, -33, ANIM ]
  [ 1514, 0, 124, 34, -74, -26, ANIM ]
  [ 1882, 0, 72, 62, -36, -41, ANIM ]
}

template template_auto_turn_1_13_anim_2x() {
  [ 30, 0, 36, 76, -16, -52, ANIM ]
  [ 240, 0, 90, 52, -45, -34, ANIM ]
  [ 608, 0, 106, 44, -41, -31, ANIM ]
  [ 924, 0, 54, 70, -15, -39, ANIM ]
  [ 1076, 0, 36, 76, -16, -40, ANIM ]
  [ 1286, 0, 90, 52, -57, -28, ANIM ]
  [ 1654, 0, 106, 44, -65, -31, ANIM ]
  [ 1970, 0, 54, 70, -27, -45, ANIM ]
}

template template_auto_turn_2_13_anim_2x() {
  [ 2040, 0, 36, 76, -16, -52, ANIM ]
  [ 82, 0, 54, 70, -27, -43, ANIM ]
  [ 346, 0, 106, 44, -41, -31, ANIM ]
  [ 730, 0, 90, 52, -33, -30, ANIM ]
  [ 994, 0, 36, 76, -16, -40, ANIM ]
  [ 1128, 0, 54, 70, -39, -37, ANIM ]
  [ 1392, 0, 106, 44, -65, -31, ANIM ]
  [ 1776, 0, 90, 52, -45, -36, ANIM ]
}

template template_auto_14_anim_2x() {
  [ 0, 0, 14, 90, -5, -57, ANIM ]
  [ 152, 0, 72, 62, -38, -38, ANIM ]
  [ 468, 0, 124, 34, -54, -26, ANIM ]
  [ 836, 0, 72, 62, -26, -36, ANIM ]
  [ 1046, 0, 14, 90, -5, -49, ANIM ]
  [ 1198, 0, 72, 62, -46, -34, ANIM ]
  [ 1514, 0, 124, 34, -70, -26, ANIM ]
  [ 1882, 0, 72, 62, -34, -40, ANIM ]
}

template template_auto_turn_1_14_anim_2x() {
  [ 30, 0, 36, 76, -16, -50, ANIM ]
  [ 240, 0, 90, 52, -47, -33, ANIM ]
  [ 608, 0, 106, 44, -45, -31, ANIM ]
  [ 924, 0, 54, 70, -17, -40, ANIM ]
  [ 1076, 0, 36, 76, -16, -42, ANIM ]
  [ 1286, 0, 90, 52, -55, -29, ANIM ]
  [ 1654, 0, 106, 44, -61, -31, ANIM ]
  [ 1970, 0, 54, 70, -25, -44, ANIM ]
}

template template_auto_turn_2_14_anim_2x() {
  [ 2040, 0, 36, 76, -16, -50, ANIM ]
  [ 82, 0, 54, 70, -29, -42, ANIM ]
  [ 346, 0, 106, 44, -45, -31, ANIM ]
  [ 730, 0, 90, 52, -35, -31, ANIM ]
  [ 994, 0, 36, 76, -16, -42, ANIM ]
  [ 1128, 0, 54, 70, -37, -38, ANIM ]
  [ 1392, 0, 106, 44, -61, -31, ANIM ]
  [ 1776, 0, 90, 52, -43, -35, ANIM ]
}

template template_auto_15_anim_2x() {
  [ 0, 0, 14, 90, -5, -55, ANIM ]
  [ 152, 0, 72, 62, -40, -37, ANIM ]
  [ 468, 0, 124, 34, -58, -26, ANIM ]
  [ 836, 0, 72, 62, -28, -37, ANIM ]
  [ 1046, 0, 14, 90, -5, -51, ANIM ]
  [ 1198, 0, 72, 62, -44, -35, ANIM ]
  [ 1514, 0, 124, 34, -66, -26, ANIM ]
  [ 1882, 0, 72, 62, -32, -39, ANIM ]
}

template template_auto_turn_1_15_anim_2x() {
  [ 30, 0, 36, 76, -16, -48, ANIM ]
  [ 240, 0, 90, 52, -49, -32, ANIM ]
  [ 608, 0, 106, 44, -49, -31, ANIM ]
  [ 924, 0, 54, 70, -19, -41, ANIM ]
  [ 1076, 0, 36, 76, -16, -44, ANIM ]
  [ 1286, 0, 90, 52, -53, -30, ANIM ]
  [ 1654, 0, 106, 44, -57, -31, ANIM ]
  [ 1970, 0, 54, 70, -23, -43, ANIM ]
}

template template_auto_turn_2_15_anim_2x() {
  [ 2040, 0, 36, 76, -16, -48, ANIM ]
  [ 82, 0, 54, 70, -31, -41, ANIM ]
  [ 346, 0, 106, 44, -49, -31, ANIM ]
  [ 730, 0, 90, 52, -37, -32, ANIM ]
  [ 994, 0, 36, 76, -16, -44, ANIM ]
  [ 1128, 0, 54, 70, -35, -39, ANIM ]
  [ 1392, 0, 106, 44, -57, -31, ANIM ]
  [ 1776, 0, 90, 52, -41, -34, ANIM ]
}

template template_auto_16_anim_2x() {
  [ 0, 0, 14, 90, -5, -53, ANIM ]
  [ 152, 0, 72, 62, -42, -36, ANIM ]
  [ 468, 0, 124, 34, -62, -26, ANIM ]
  [ 836, 0, 72, 62, -30, -38, ANIM ]
  [ 1046, 0, 14, 90, -5, -53, ANIM ]
  [ 1198, 0, 72, 62, -42, -36, ANIM ]
  [ 1514, 0, 124, 34, -62, -26, ANIM ]
  [ 1882, 0, 72, 62, -30, -38, ANIM ]
}

template template_auto_turn_1_16_anim_2x() {
  [ 30, 0, 36, 76, -16, -46, ANIM ]
  [ 240, 0, 90, 52, -51, -31, ANIM ]
  [ 608, 0, 106, 44, -53, -31, ANIM ]
  [ 924, 0, 54, 70, -21, -42, ANIM ]
  [ 1076, 0, 36, 76, -16, -46, ANIM ]
  [ 1286, 0, 90, 52, -51, -31, ANIM ]
  [ 1654, 0, 106, 44, -53, -31, ANIM ]
  [ 1970, 0, 54, 70, -21, -42, ANIM ]
}

template template_auto_turn_2_16_anim_2x() {
  [ 2040, 0, 36, 76, -16, -46, ANIM ]
  [ 82, 0, 54, 70, -33, -40, ANIM ]
  [ 346, 0, 106, 44, -53, -31, ANIM ]
  [ 730, 0, 90, 52, -39, -33, ANIM ]
  [ 994, 0, 36, 76, -16, -46, ANIM ]
  [ 1128, 0, 54, 70, -33, -40, ANIM ]
  [ 1392, 0, 106, 44, -53, -31, ANIM ]
  [ 1776, 0, 90, 52, -39, -33, ANIM ]
}

template template_auto_front_9_anim_1x() {
  [ 0, 0, 7, 45, -2, -25, ANIM ]
  [ 15, 0, 36, 31, -22, -17, ANIM ]
  [ 59, 0, 62, 17, -33, -13, ANIM ]
  [ 129, 0, 36, 31, -16, -19, ANIM ]
  [ 173, 0, 7, 45, -2, -27, ANIM ]
  [ 188, 0, 36, 31, -20, -18, ANIM ]
  [ 232, 0, 62, 17, -29, -13, ANIM ]
  [ 302, 0, 36, 31, -14, -18, ANIM ]
}

template template_auto_mid_9_anim_1x() {
  [ 346, 0, 7, 45, -2, -29, ANIM ]
  [ 361, 0, 36, 31, -18, -19, ANIM ]
  [ 405, 0, 62, 17, -25, -13, ANIM ]
  [ 475, 0, 36, 31, -12, -17, ANIM ]
  [ 519, 0, 7, 45, -2, -23, ANIM ]
  [ 534, 0, 36, 31, -24, -16, ANIM ]
  [ 578, 0, 62, 17, -37, -13, ANIM ]
  [ 648, 0, 36, 31, -18, -20, ANIM ]
}

template template_auto_rear_9_anim_1x() {
  [ 692, 0, 7, 45, -2, -39, ANIM ]
  [ 707, 0, 36, 31, -8, -24, ANIM ]
  [ 751, 0, 62, 17, -5, -13, ANIM ]
  [ 821, 0, 36, 31, -2, -12, ANIM ]
  [ 865, 0, 7, 45, -2, -13, ANIM ]
  [ 880, 0, 36, 31, -34, -11, ANIM ]
  [ 924, 0, 62, 17, -57, -13, ANIM ]
  [ 994, 0, 36, 31, -28, -25, ANIM ]
}

template template_auto_front_10_anim_1x() {
  [ 0, 0, 7, 45, -2, -24, ANIM ]
  [ 15, 0, 36, 31, -23, -17, ANIM ]
  [ 59, 0, 62, 17, -35, -13, ANIM ]
  [ 129, 0, 36, 31, -17, -20, ANIM ]
  [ 173, 0, 7, 45, -2, -28, ANIM ]
  [ 188, 0, 36, 31, -19, -19, ANIM ]
  [ 232, 0, 62, 17, -27, -13, ANIM ]
  [ 302, 0, 36, 31, -13, -18, ANIM ]
}

template template_auto_mid_10_anim_1x() {
  [ 346, 0, 7, 45, -2, -32, ANIM ]
  [ 361, 0, 36, 31, -15, -21, ANIM ]
  [ 405, 0, 62, 17, -19, -13, ANIM ]
  [ 475, 0, 36, 31, -9, -16, ANIM ]
  [ 519, 0, 7, 45, -2, -20, ANIM ]
  [ 534, 0, 36, 31, -27, -15, ANIM ]
  [ 578, 0, 62, 17, -43, -13, ANIM ]
  [ 648, 0, 36, 31, -21, -22, ANIM ]
}

template template_auto_rear_10_anim_1x() {
  [ 692, 0, 7, 45, -2, -36, ANIM ]
  [ 707, 0, 36, 31, -11, -23, ANIM ]
  [ 751, 0, 62, 17, -11, -13, ANIM ]
  [ 821, 0, 36, 31, -5, -14, ANIM ]
  [ 865, 0, 7, 45, -2, -16, ANIM ]
  [ 880, 0, 36, 31, -31, -13, ANIM ]
  [ 924, 0, 62, 17, -51, -13, ANIM ]
  [ 994, 0, 36, 31, -25, -24, ANIM ]
}

template template_auto_front_11_anim_1x() {
  [ 0, 0, 7, 45, -2, -23, ANIM ]
  [ 15, 0, 36, 31, -24, -16, ANIM ]
  [ 59, 0, 62, 17, -37, -13, ANIM ]
  [ 129, 0, 36, 31, -18, -20, ANIM ]
  [ 173, 0, 7, 45, -2, -29, ANIM ]
  [ 188, 0, 36, 31, -18, -19, ANIM ]
  [ 232, 0, 62, 17, -25, -13, ANIM ]
  [ 302, 0, 36, 31, -12, -17, ANIM ]
}

template template_auto_mid_11_anim_1x() {
  [ 346, 0, 7, 45, -2, -31, ANIM ]
  [ 361, 0, 36, 31, -16, -20, ANIM ]
  [ 405, 0, 62, 17, -21, -13, ANIM ]
  [ 475, 0, 36, 31, -10, -16, ANIM ]
  [ 519, 0, 7, 45, -2, -21, ANIM ]
  [ 534, 0, 36, 31, -26, -15, ANIM ]
  [ 578, 0, 62, 17, -41, -13, ANIM ]
  [ 648, 0, 36, 31, -20, -21, ANIM ]
}

template template_auto_rear_11_anim_1x() {
  [ 692, 0, 7, 45, -2, -37, ANIM ]
  [ 707, 0, 36, 31, -10, -23, ANIM ]
  [ 751, 0, 62, 17, -9, -13, ANIM ]
  [ 821, 0, 36, 31, -4, -13, ANIM ]
  [ 865, 0, 7, 45, -2, -15, ANIM ]
  [ 880, 0, 36, 31, -32, -12, ANIM ]
  [ 924, 0, 62, 17, -53, -13, ANIM ]
  [ 994, 0, 36, 31, -26, -24, ANIM ]
}

template template_auto_front_12_anim_1x() {
  [ 0, 0, 7, 45, -2, -22, ANIM ]
  [ 15, 0, 36, 31, -25, -16, ANIM ]
  [ 59, 0, 62, 17, -39, -13, ANIM ]
  [ 129, 0, 36, 31, -19, -21, ANIM ]
  [ 173, 0, 7, 45, -2, -30, ANIM ]
  [ 188, 0, 36, 31, -17, -20, ANIM ]
  [ 232, 0, 62, 17, -23, -13, ANIM ]
  [ 302, 0, 36, 31, -11, -17, ANIM ]
}

template template_auto_mid_12_anim_1x() {
  [ 346, 0, 7, 45, -2, -30, ANIM ]
  [ 361, 0, 36, 31, -17, -20, ANIM ]
  [ 405, 0, 62, 17, -23, -13, ANIM ]
  [ 475, 0, 36, 31, -11, -17, ANIM ]
  [ 519, 0, 7, 45, -2, -22, ANIM ]
  [ 534, 0, 36, 31, -25, -16, ANIM ]
  [ 578, 0, 62, 17, -39, -13, ANIM ]
  [ 648, 0, 36, 31, -19, -21, ANIM ]
}

template template_auto_rear_12_anim_1x() {
  [ 692, 0, 7, 45, -2, -38, ANIM ]
  [ 707, 0, 36, 31, -9, -24, ANIM ]
  [ 751, 0, 62, 17, -7, -13, ANIM ]
  [ 821, 0, 36, 31, -3, -13, ANIM ]
  [ 865, 0, 7, 45, -2, -14, ANIM ]
  [ 880, 0, 36, 31, -33, -12, ANIM ]
  [ 924, 0, 62, 17, -55, -13, ANIM ]
  [ 994, 0, 36, 31, -27, -25, ANIM ]
}

template template_auto_front_13_anim_1x() {
  [ 0, 0, 7, 45, -2, -21, ANIM ]
  [ 15, 0, 36, 31, -26, -15, ANIM ]
  [ 59, 0, 62, 17, -41, -13, ANIM ]
  [ 129, 0, 36, 31, -20, -21, ANIM ]
  [ 173, 0, 7, 45, -2, -31, ANIM ]
  [ 188, 0, 36, 31, -16, -20, ANIM ]
  [ 232, 0, 62, 17, -21, -13, ANIM ]
  [ 302, 0, 36, 31, -10, -16, ANIM ]
}

template template_auto_mid_13_anim_1x() {
  [ 346, 0, 7, 45, -2, -29, ANIM ]
  [ 361, 0, 36, 31, -18, -19, ANIM ]
  [ 405, 0, 62, 17, -25, -13, ANIM ]
  [ 475, 0, 36, 31, -12, -17, ANIM ]
  [ 519, 0, 7, 45, -2, -23, ANIM ]
  [ 534, 0, 36, 31, -24, -16, ANIM ]
  [ 578, 0, 62, 17, -37, -13, ANIM ]
  [ 648, 0, 36, 31, -18, -20, ANIM ]
}

template template_auto_rear_13_anim_1x() {
  [ 692, 0, 7, 45, -2, -39, ANIM ]
  [ 707, 0, 36, 31, -8, -24, ANIM ]
  [ 751, 0, 62, 17, -5, -13, ANIM ]
  [ 821, 0, 36, 31, -2, -12, ANIM ]
  [ 865, 0, 7, 45, -2, -13, ANIM ]
  [ 880, 0, 36, 31, -34, -11, ANIM ]
  [ 924, 0, 62, 17, -57, -13, ANIM ]
  [ 994, 0, 36, 31, -28, -25, ANIM ]
}

template template_auto_front_14_anim_1x() {
  [ 0, 0, 7, 45, -2, -20, ANIM ]
  [ 15, 0, 36, 31, -27, -15, ANIM ]
  [ 59, 0, 62, 17, -43, -13, ANIM ]
  [ 129, 0, 36, 31, -21, -22, ANIM ]
  [ 173, 0, 7, 45, -2, -32, ANIM ]
  [ 188, 0, 36, 31, -15, -21, ANIM ]
  [ 232, 0, 62, 17, -19, -13, ANIM ]
  [ 302, 0, 36, 31, -9, -16, ANIM ]
}

template template_auto_mid_14_anim_1x() {
  [ 346, 0, 7, 45, -2, -28, ANIM ]
  [ 361, 0, 36, 31, -19, -19, ANIM ]
  [ 405, 0, 62, 17, -27, -13, ANIM ]
  [ 475, 0, 36, 31, -13, -18, ANIM ]
  [ 519, 0, 7, 45, -2, -24, ANIM ]
  [ 534, 0, 36, 31, -23, -17, ANIM ]
  [ 578, 0, 62, 17, -35, -13, ANIM ]
  [ 648, 0, 36, 31, -17, -20, ANIM ]
}

template template_auto_rear_14_anim_1x() {
  [ 692, 0, 7, 45, -2, -40, ANIM ]
  [ 707, 0, 36, 31, -7, -25, ANIM ]
  [ 751, 0, 62, 17, -3, -13, ANIM ]
  [ 821, 0, 36, 31, -1, -12, ANIM ]
  [ 865, 0, 7, 45, -2, -12, ANIM ]
  [ 880, 0, 36, 31, -35, -11, ANIM ]
  [ 924, 0, 62, 17, -59, -13, ANIM ]
  [ 994, 0, 36, 31, -29, -26, ANIM ]
}

template template_auto_front_15_anim_1x() {
  [ 0, 0, 7, 45, -2, -19, ANIM ]
  [ 15, 0, 36, 31, -28, -14, ANIM ]
  [ 59, 0, 62, 17, -45, -13, ANIM ]
  [ 129, 0, 36, 31, -22, -22, ANIM ]
  [ 173, 0, 7, 45, -2, -33, ANIM ]
  [ 188, 0, 36, 31, -14, -21, ANIM ]
  [ 232, 0, 62, 17, -17, -13, ANIM ]
  [ 302, 0, 36, 31, -8, -15, ANIM ]
}

template template_auto_mid_15_anim_1x() {
  [ 346, 0, 7, 45, -2, -27, ANIM ]
  [ 361, 0, 36, 31, -20, -18, ANIM ]
  [ 405, 0, 62, 17, -29, -13, ANIM ]
  [ 475, 0, 36, 31, -14, -18, ANIM ]
  [ 519, 0, 7, 45, -2, -25, ANIM ]
  [ 534, 0, 36, 31, -22, -17, ANIM ]
  [ 578, 0, 62, 17, -33, -13, ANIM ]
  [ 648, 0, 36, 31, -16, -19, ANIM ]
}

template template_auto_rear_15_anim_1x() {
  [ 692, 0, 7, 45, -2, -41, ANIM ]
  [ 707, 0, 36, 31, -6, -25, ANIM ]
  [ 751, 0, 62, 17, -1, -13, ANIM ]
  [ 821, 0, 36, 31, 0, -11, ANIM ]
  [ 865, 0, 7, 45, -2, -11, ANIM ]
  [ 880, 0, 36, 31, -36, -10, ANIM ]
  [ 924, 0, 62, 17, -61, -13, ANIM ]
  [ 994, 0, 36, 31, -30, -26, ANIM ]
}

template template_auto_front_16_anim_1x() {
  [ 0, 0, 7, 45, -2, -18, ANIM ]
  [ 15, 0, 36, 31, -29, -14, ANIM ]
  [ 59, 0, 62, 17, -47, -13, ANIM ]
  [ 129, 0, 36, 31, -23, -23, ANIM ]
  [ 173, 0, 7, 45, -2, -34, ANIM ]
  [ 188, 0, 36, 31, -13, -22, ANIM ]
  [ 232, 0, 62, 17, -15, -13, ANIM ]
  [ 302, 0, 36, 31, -7, -15, ANIM ]
}

template template_auto_mid_16_anim_1x() {
  [ 346, 0, 7, 45, -2, -26, ANIM ]
  [ 361, 0, 36, 31, -21, -18, ANIM ]
  [ 405, 0, 62, 17, -31, -13, ANIM ]
  [ 475, 0, 36, 31, -15, -19, ANIM ]
  [ 519, 0, 7, 45, -2, -26, ANIM ]
  [ 534, 0, 36, 31, -21, -18, ANIM ]
  [ 578, 0, 62, 17, -31, -13, ANIM ]
  [ 648, 0, 36, 31, -15, -19, ANIM ]
}

template template_auto_rear_16_anim_1x() {
  [ 692, 0, 7, 45, -2, -42, ANIM ]
  [ 707, 0, 36, 31, -5, -26, ANIM ]
  [ 751, 0, 62, 17, 1, -13, ANIM ]
  [ 821, 0, 36, 31, 1, -11, ANIM ]
  [ 865, 0, 7, 45, -2, -10, ANIM ]
  [ 880, 0, 36, 31, -37, -10, ANIM ]
  [ 924, 0, 62, 17, -63, -13, ANIM ]
  [ 994, 0, 36, 31, -31, -27, ANIM ]
}

template template_auto_front_9_anim_2x() {
  [ 0, 0, 14, 90, -5, -51, ANIM ]
  [ 30, 0, 72, 62, -44, -35, ANIM ]
  [ 118, 0, 124, 34, -66, -26, ANIM ]
  [ 258, 0, 72, 62, -32, -39, ANIM ]
  [ 346, 0, 14, 90, -5, -55, ANIM ]
  [ 376, 0, 72, 62, -40, -37, ANIM ]
  [ 464, 0, 124, 34, -58, -26, ANIM ]
  [ 604, 0, 72, 62, -28, -37, ANIM ]
}

template template_auto_mid_9_anim_2x() {
  [ 692, 0, 14, 90, -5, -59, ANIM ]
  [ 722, 0, 72, 62, -36, -39, ANIM ]
  [ 810, 0, 124, 34, -50, -26, ANIM ]
  [ 950, 0, 72, 62, -24, -35, ANIM ]
  [ 1038, 0, 14, 90, -5, -47, ANIM ]
  [ 1068, 0, 72, 62, -48, -33, ANIM ]
  [ 1156, 0, 124, 34, -74, -26, ANIM ]
  [ 1296, 0, 72, 62, -36, -41, ANIM ]
}

template template_auto_rear_9_anim_2x() {
  [ 1384, 0, 14, 90, -5, -79, ANIM ]
  [ 1414, 0, 72, 62, -16, -49, ANIM ]
  [ 1502, 0, 124, 34, -10, -26, ANIM ]
  [ 1642, 0, 72, 62, -4, -25, ANIM ]
  [ 1730, 0, 14, 90, -5, -27, ANIM ]
  [ 1760, 0, 72, 62, -68, -23, ANIM ]
  [ 1848, 0, 124, 34, -114, -26, ANIM ]
  [ 1988, 0, 72, 62, -56, -51, ANIM ]
}

template template_auto_front_10_anim_2x() {
  [ 0, 0, 14, 90, -5, -49, ANIM ]
  [ 30, 0, 72, 62, -46, -34, ANIM ]
  [ 118, 0, 124, 34, -70, -26, ANIM ]
  [ 258, 0, 72, 62, -34, -40, ANIM ]
  [ 346, 0, 14, 90, -5, -57, ANIM ]
  [ 376, 0, 72, 62, -38, -38, ANIM ]
  [ 464, 0, 124, 34, -54, -26, ANIM ]
  [ 604, 0, 72, 62, -26, -36, ANIM ]
}

template template_auto_mid_10_anim_2x() {
  [ 692, 0, 14, 90, -5, -65, ANIM ]
  [ 722, 0, 72, 62, -30, -42, ANIM ]
  [ 810, 0, 124, 34, -38, -26, ANIM ]
  [ 950, 0, 72, 62, -18, -32, ANIM ]
  [ 1038, 0, 14, 90, -5, -41, ANIM ]
  [ 1068, 0, 72, 62, -54, -30, ANIM ]
  [ 1156, 0, 124, 34, -86, -26, ANIM ]
  [ 1296, 0, 72, 62, -42, -44, ANIM ]
}

template template_auto_rear_10_anim_2x() {
  [ 1384, 0, 14, 90, -5, -73, ANIM ]
  [ 1414, 0, 72, 62, -22, -46, ANIM ]
  [ 1502, 0, 124, 34, -22, -26, ANIM ]
  [ 1642, 0, 72, 62, -10, -28, ANIM ]
  [ 1730, 0, 14, 90, -5, -33, ANIM ]
  [ 1760, 0, 72, 62, -62, -26, ANIM ]
  [ 1848, 0, 124, 34, -102, -26, ANIM ]
  [ 1988, 0, 72, 62, -50, -48, ANIM ]
}

template template_auto_front_11_anim_2x() {
  [ 0, 0, 14, 90, -5, -47, ANIM ]
  [ 30, 0, 72, 62, -48, -33, ANIM ]
  [ 118, 0, 124, 34, -74, -26, ANIM ]
  [ 258, 0, 72, 62, -36, -41, ANIM ]
  [ 346, 0, 14, 90, -5, -59, ANIM ]
  [ 376, 0, 72, 62, -36, -39, ANIM ]
  [ 464, 0, 124, 34, -50, -26, ANIM ]
  [ 604, 0, 72, 62, -24, -35, ANIM ]
}

template template_auto_mid_11_anim_2x() {
  [ 692, 0, 14, 90, -5, -63, ANIM ]
  [ 722, 0, 72, 62, -32, -41, ANIM ]
  [ 810, 0, 124, 34, -42, -26, ANIM ]
  [ 950, 0, 72, 62, -20, -33, ANIM ]
  [ 1038, 0, 14, 90, -5, -43, ANIM ]
  [ 1068, 0, 72, 62, -52, -31, ANIM ]
  [ 1156, 0, 124, 34, -82, -26, ANIM ]
  [ 1296, 0, 72, 62, -40, -43, ANIM ]
}

template template_auto_rear_11_anim_2x() {
  [ 1384, 0, 14, 90, -5, -75, ANIM ]
  [ 1414, 0, 72, 62, -20, -47, ANIM ]
  [ 1502, 0, 124, 34, -18, -26, ANIM ]
  [ 1642, 0, 72, 62, -8, -27, ANIM ]
  [ 1730, 0, 14, 90, -5, -31, ANIM ]
  [ 1760, 0, 72, 62, -64, -25, ANIM ]
  [ 1848, 0, 124, 34, -106, -26, ANIM ]
  [ 1988, 0, 72, 62, -52, -49, ANIM ]
}

template template_auto_front_12_anim_2x() {
  [ 0, 0, 14, 90, -5, -45, ANIM ]
  [ 30, 0, 72, 62, -50, -32, ANIM ]
  [ 118, 0, 124, 34, -78, -26, ANIM ]
  [ 258, 0, 72, 62, -38, -42, ANIM ]
  [ 346, 0, 14, 90, -5, -61, ANIM ]
  [ 376, 0, 72, 62, -34, -40, ANIM ]
  [ 464, 0, 124, 34, -46, -26, ANIM ]
  [ 604, 0, 72, 62, -22, -34, ANIM ]
}

template template_auto_mid_12_anim_2x() {
  [ 692, 0, 14, 90, -5, -61, ANIM ]
  [ 722, 0, 72, 62, -34, -40, ANIM ]
  [ 810, 0, 124, 34, -46, -26, ANIM ]
  [ 950, 0, 72, 62, -22, -34, ANIM ]
  [ 1038, 0, 14, 90, -5, -45, ANIM ]
  [ 1068, 0, 72, 62, -50, -32, ANIM ]
  [ 1156, 0, 124, 34, -78, -26, ANIM ]
  [ 1296, 0, 72, 62, -38, -42, ANIM ]
}

template template_auto_rear_12_anim_2x() {
  [ 1384, 0, 14, 90, -5, -77, ANIM ]
  [ 1414, 0, 72, 62, -18, -48, ANIM ]
  [ 1502, 0, 124, 34, -14, -26, ANIM ]
  [ 1642, 0, 72, 62, -6, -26, ANIM ]
  [ 1730, 0, 14, 90, -5, -29, ANIM ]
  [ 1760, 0, 72, 62, -66, -24, ANIM ]
  [ 1848, 0, 124, 34, -110, -26, ANIM ]
  [ 1988, 0, 72, 62, -54, -50, ANIM ]
}

template template_auto_front_13_anim_2x() {
  [ 0, 0, 14, 90, -5, -43, ANIM ]
  [ 30, 0, 72, 62, -52, -31, ANIM ]
  [ 118, 0, 124, 34, -82, -26, ANIM ]
  [ 258, 0, 72, 62, -40, -43, ANIM ]
  [ 346, 0, 14, 90, -5, -63, ANIM ]
  [ 376, 0, 72, 62, -32, -41, ANIM ]
  [ 464, 0, 124, 34, -42, -26, ANIM ]
  [ 604, 0, 72, 62, -20, -33, ANIM ]
}

template template_auto_mid_13_anim_2x() {
  [ 692, 0, 14, 90, -5, -59, ANIM ]
  [ 722, 0, 72, 62, -36, -39, ANIM ]
  [ 810, 0, 124, 34, -50, -26, ANIM ]
  [ 950, 0, 72, 62, -24, -35, ANIM ]
  [ 1038, 0, 14, 90, -5, -47, ANIM ]
  [ 1068, 0, 72, 62, -48, -33, ANIM ]
  [ 1156, 0, 124, 34, -74, -26, ANIM ]
  [ 1296, 0, 72, 62, -36, -41, ANIM ]
}

template template_auto_rear_13_anim_2x() {
  [ 1384, 0, 14, 90, -5, -79, ANIM ]
  [ 1414, 0, 72, 62, -16, -49, ANIM ]
  [ 1502, 0, 124, 34, -10, -26, ANIM ]
  [ 1642, 0, 72, 62, -4, -25, ANIM ]
  [ 1730, 0, 14, 90, -5, -27, ANIM ]
  [ 1760, 0, 72, 62, -68, -23, ANIM ]
  [ 1848, 0, 124, 34, -114, -26, ANIM ]
  [ 1988, 0, 72, 62, -56, -51, ANIM ]
}

template template_auto_front_14_anim_2x() {
  [ 0, 0, 14, 90, -5, -41, ANIM ]
  [ 30, 0, 72, 62, -54, -30, ANIM ]
  [ 118, 0, 124, 34, -86, -26, ANIM ]
  [ 258, 0, 72, 62, -42, -44, ANIM ]
  [ 346, 0, 14, 90, -5, -65, ANIM ]
  [ 376, 0, 72, 62, -30, -42, ANIM ]
  [ 464, 0, 124, 34, -38, -26, ANIM ]
  [ 604, 0, 72, 62, -18, -32, ANIM ]
}

template template_auto_mid_14_anim_2x() {
  [ 692, 0, 14, 90, -5, -57, ANIM ]
  [ 722, 0, 72, 62, -38, -38, ANIM ]
  [ 810, 0, 124, 34, -54, -26, ANIM ]
  [ 950, 0, 72, 62, -26, -36, ANIM ]
  [ 1038, 0, 14, 90, -5, -49, ANIM ]
  [ 1068, 0, 72, 62, -46, -34, ANIM ]
  [ 1156, 0, 124, 34, -70, -26, ANIM ]
  [ 1296, 0, 72, 62, -34, -40, ANIM ]
}

template template_auto_rear_14_anim_2x() {
  [ 1384, 0, 14, 90, -5, -81, ANIM ]
  [ 1414, 0, 72, 62, -14, -50, ANIM ]
  [ 1502, 0, 124, 34, -6, -26, ANIM ]
  [ 1642, 0, 72, 62, -2, -24, ANIM ]
  [ 1730, 0, 14, 90, -5, -25, ANIM ]
  [ 1760, 0, 72, 62, -70, -22, ANIM ]
  [ 1848, 0, 124, 34, -118, -26, ANIM ]
  [ 1988, 0, 72, 62, -58, -52, ANIM ]
}

template template_auto_front_15_anim_2x() {
  [ 0, 0, 14, 90, -5, -39, ANIM ]
  [ 30, 0, 72, 62, -56, -29, ANIM ]
  [ 118, 0, 124, 34, -90, -26, ANIM ]
  [ 258, 0, 72, 62, -44, -45, ANIM ]
  [ 346, 0, 14, 90, -5, -67, ANIM ]
  [ 376, 0, 72, 62, -28, -43, ANIM ]
  [ 464, 0, 124, 34, -34, -26, ANIM ]
  [ 604, 0, 72, 62, -16, -31, ANIM ]
}

template template_auto_mid_15_anim_2x() {
  [ 692, 0, 14, 90, -5, -55, ANIM ]
  [ 722, 0, 72, 62, -40, -37, ANIM ]
  [ 810, 0, 124, 34, -58, -26, ANIM ]
  [ 950, 0, 72, 62, -28, -37, ANIM ]
  [ 1038, 0, 14, 90, -5, -51, ANIM ]
  [ 1068, 0, 72, 62, -44, -35, ANIM ]
  [ 1156, 0, 124, 34, -66, -26, ANIM ]
  [ 1296, 0, 72, 62, -32, -39, ANIM ]
}

template template_auto_rear_15_anim_2x() {
  [ 1384, 0, 14, 90, -5, -83, ANIM ]
  [ 1414, 0, 72, 62, -12, -51, ANIM ]
  [ 1502, 0, 124, 34, -2, -26, ANIM ]
  [ 1642, 0, 72, 62, 0, -23, ANIM ]
  [ 1730, 0, 14, 90, -5, -23, ANIM ]
  [ 1760, 0, 72, 62, -72, -21, ANIM ]
  [ 1848, 0, 124, 34, -122, -26, ANIM ]
  [ 1988, 0, 72, 62, -60, -53, ANIM ]
}

template template_auto_front_16_anim_2x() {
  [ 0, 0, 14, 90, -5, -37, ANIM ]
  [ 30, 0, 72, 62, -58, -28, ANIM ]
  [ 118, 0, 124, 34, -94, -26, ANIM ]
  [ 258, 0, 72, 62, -46, -46, ANIM ]
  [ 346, 0, 14, 90, -5, -69, ANIM ]
  [ 376, 0, 72, 62, -26, -44, ANIM ]
  [ 464, 0, 124, 34, -30, -26, ANIM ]
  [ 604, 0, 72, 62, -14, -30, ANIM ]
}

template template_auto_mid_16_anim_2x() {
  [ 692, 0, 14, 90, -5, -53, ANIM ]
  [ 722, 0, 72, 62, -42, -36, ANIM ]
  [ 810, 0, 124, 34, -62, -26, ANIM ]
  [ 950, 0, 72, 62, -30, -38, ANIM ]
  [ 1038, 0, 14, 90, -5, -53, ANIM ]
  [ 1068, 0, 72, 62, -42, -36, ANIM ]
  [ 1156, 0, 124, 34, -62, -26, ANIM ]
  [ 1296, 0, 72, 62, -30, -38, ANIM ]
}

template template_auto_rear_16_anim_2x() {
  [ 1384, 0, 14, 90, -5, -85, ANIM ]
  [ 1414, 0, 72, 62, -10, -52, ANIM ]
  [ 1502, 0, 124, 34, 2, -26, ANIM ]
  [ 1642, 0, 72, 62, 2, -22, ANIM ]
  [ 1730, 0, 14, 90, -5, -21, ANIM ]
  [ 1760, 0, 72, 62, -74, -20, ANIM ]
  [ 1848, 0, 124, 34, -126, -26, ANIM ]
  [ 1988, 0, 72, 62, -62, -54, ANIM ]
}

template template_auto_up_3_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -21, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -22, ANIM ]
}

template template_auto_down_3_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -20, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -21, ANIM ]
}

template template_auto_up_4_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -21, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -22, ANIM ]
}

template template_auto_down_4_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -20, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -21, ANIM ]
}

template template_auto_up_5_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -21, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -22, ANIM ]
}

template template_auto_down_5_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -14, -20, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -8, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -28, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -22, -21, ANIM ]
}

template template_auto_up_6_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -20, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -21, ANIM ]
}

template template_auto_down_6_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -19, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -20, ANIM ]
}

template template_auto_up_7_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -19, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -20, ANIM ]
}

template template_auto_down_7_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -19, ANIM ]
}

template template_auto_up_8_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -19, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -20, ANIM ]
}

template template_auto_down_8_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -19, ANIM ]
}

template template_auto_up_9_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -19, ANIM ]
}

template template_auto_down_9_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -17, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -18, ANIM ]
}

template template_auto_up_10_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -19, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -12, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -20, ANIM ]
}

template template_auto_down_10_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -15, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -9, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -27, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -21, -19, ANIM ]
}

template template_auto_up_11_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -12, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -19, ANIM ]
}

template template_auto_down_11_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -16, -17, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -10, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -26, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -20, -18, ANIM ]
}

template template_auto_up_12_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -18, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -19, ANIM ]
}

template template_auto_down_12_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -17, -17, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -11, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -25, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -19, -18, ANIM ]
}

template template_auto_up_13_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -17, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -18, ANIM ]
}

template template_auto_down_13_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -18, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -12, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -24, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -18, -17, ANIM ]
}

template template_auto_up_14_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -19, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -13, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -23, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -17, -17, ANIM ]
}

template template_auto_down_14_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -19, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -13, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -23, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -17, -16, ANIM ]
}

template template_auto_up_15_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -20, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -14, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -22, -13, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -16, -16, ANIM ]
}

template template_auto_down_15_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -20, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -14, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -22, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -16, -15, ANIM ]
}

template template_auto_up_16_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -21, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -15, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -21, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -15, -16, ANIM ]
}

template template_auto_down_16_anim_1x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 36, 31, -21, -14, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 44, 0, 36, 31, -15, -16, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 36, 31, -21, -15, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 132, 0, 36, 31, -15, -15, ANIM ]
}

template template_auto_up_3_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -43, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -45, ANIM ]
}

template template_auto_down_3_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -41, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -43, ANIM ]
}

template template_auto_up_4_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -42, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -44, ANIM ]
}

template template_auto_down_4_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -40, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -32, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -42, ANIM ]
}

template template_auto_up_5_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -42, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -26, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -44, ANIM ]
}

template template_auto_down_5_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -28, -40, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -16, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -56, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -44, -42, ANIM ]
}

template template_auto_up_6_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -41, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -43, ANIM ]
}

template template_auto_down_6_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -39, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -41, ANIM ]
}

template template_auto_up_7_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -39, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -41, ANIM ]
}

template template_auto_down_7_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -37, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -39, ANIM ]
}

template template_auto_up_8_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -38, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -40, ANIM ]
}

template template_auto_down_8_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -36, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -32, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -38, ANIM ]
}

template template_auto_up_9_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -36, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -38, ANIM ]
}

template template_auto_down_9_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -34, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -32, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -36, ANIM ]
}

template template_auto_up_10_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -39, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -25, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -41, ANIM ]
}

template template_auto_down_10_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -30, -37, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -18, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -54, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -42, -39, ANIM ]
}

template template_auto_up_11_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -37, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -25, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -39, ANIM ]
}

template template_auto_down_11_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -32, -35, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -20, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -52, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -40, -37, ANIM ]
}

template template_auto_up_12_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -36, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -26, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -38, ANIM ]
}

template template_auto_down_12_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -34, -34, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -22, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -50, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -38, -36, ANIM ]
}

template template_auto_up_13_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -34, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -26, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -36, ANIM ]
}

template template_auto_down_13_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -36, -32, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -24, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -48, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -36, -34, ANIM ]
}

template template_auto_up_14_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -38, -33, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -26, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -46, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -34, -35, ANIM ]
}

template template_auto_down_14_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -38, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -26, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -46, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -34, -33, ANIM ]
}

template template_auto_up_15_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -40, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -28, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -44, -27, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -32, -33, ANIM ]
}

template template_auto_down_15_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -40, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -28, -31, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -44, -29, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -32, -31, ANIM ]
}

template template_auto_up_16_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -42, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -30, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -42, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -30, -32, ANIM ]
}

template template_auto_down_16_anim_2x() {
  [ 0, 0, 1, 1, 0, 0 ]
  [ 0, 0, 72, 62, -42, -28, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 88, 0, 72, 62, -30, -32, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 176, 0, 72, 62, -42, -30, ANIM ]
  [ 0, 0, 1, 1, 0, 0 ]
  [ 264, 0, 72, 62, -30, -30, ANIM ]
}

spriteset(spriteset_class_201_4car_purchase, "1x/class_201_4car_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_class_201_4car_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_201_4car_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_br_class_201, "1x/br_class_201_8bpp.png" )
{ template_auto_11_1x() }

alternative_sprites(spriteset_br_class_201, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_8bpp.png")
{ template_auto_11_2x() }




spriteset (spriteset_br_class_201_turn_1, "1x/br_class_201_8bpp.png" )
{ template_auto_turn_1_11_1x() }

alternative_sprites(spriteset_br_class_201_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_8bpp.png")
{ template_auto_turn_1_11_2x() }




spriteset (spriteset_br_class_201_turn_2, "1x/br_class_201_8bpp.png" )
{ template_auto_turn_2_11_1x() }

alternative_sprites(spriteset_br_class_201_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_8bpp.png")
{ template_auto_turn_2_11_2x() }





spriteset (spriteset_br_class_201_up, "1x/br_class_201_up_8bpp.png" )
{ template_auto_up_11_1x() }

alternative_sprites(spriteset_br_class_201_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_up_8bpp.png")
{ template_auto_up_11_2x() }





spriteset (spriteset_br_class_201_down, "1x/br_class_201_down_8bpp.png" )
{ template_auto_down_11_1x() }

alternative_sprites(spriteset_br_class_201_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_down_8bpp.png")
{ template_auto_down_11_2x() }






spriteset (spriteset_br_class_201_sections_front, "1x/br_class_201_sections_8bpp.png" )
{ template_auto_front_11_1x() }

alternative_sprites(spriteset_br_class_201_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_sections_8bpp.png")
{ template_auto_front_11_2x() }



spriteset (spriteset_br_class_201_sections_mid, "1x/br_class_201_sections_8bpp.png" )
{ template_auto_mid_11_1x() }

alternative_sprites(spriteset_br_class_201_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_sections_8bpp.png")
{ template_auto_mid_11_2x() }



spriteset (spriteset_br_class_201_sections_rear, "1x/br_class_201_sections_8bpp.png" )
{ template_auto_rear_11_1x() }

alternative_sprites(spriteset_br_class_201_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_sections_8bpp.png")
{ template_auto_rear_11_2x() }





spriteset (spriteset_br_class_201_mid1, "1x/br_class_201_mid1_8bpp.png" )
{ template_auto_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_8bpp.png")
{ template_auto_11_2x() }




spriteset (spriteset_br_class_201_mid1_turn_1, "1x/br_class_201_mid1_8bpp.png" )
{ template_auto_turn_1_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_8bpp.png")
{ template_auto_turn_1_11_2x() }




spriteset (spriteset_br_class_201_mid1_turn_2, "1x/br_class_201_mid1_8bpp.png" )
{ template_auto_turn_2_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_8bpp.png")
{ template_auto_turn_2_11_2x() }





spriteset (spriteset_br_class_201_mid1_up, "1x/br_class_201_mid1_up_8bpp.png" )
{ template_auto_up_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_up_8bpp.png")
{ template_auto_up_11_2x() }





spriteset (spriteset_br_class_201_mid1_down, "1x/br_class_201_mid1_down_8bpp.png" )
{ template_auto_down_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_down_8bpp.png")
{ template_auto_down_11_2x() }






spriteset (spriteset_br_class_201_mid1_sections_front, "1x/br_class_201_mid1_sections_8bpp.png" )
{ template_auto_front_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_sections_8bpp.png")
{ template_auto_front_11_2x() }



spriteset (spriteset_br_class_201_mid1_sections_mid, "1x/br_class_201_mid1_sections_8bpp.png" )
{ template_auto_mid_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_sections_8bpp.png")
{ template_auto_mid_11_2x() }



spriteset (spriteset_br_class_201_mid1_sections_rear, "1x/br_class_201_mid1_sections_8bpp.png" )
{ template_auto_rear_11_1x() }

alternative_sprites(spriteset_br_class_201_mid1_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_mid1_sections_8bpp.png")
{ template_auto_rear_11_2x() }





spriteset (spriteset_br_class_201_rear, "1x/br_class_201_rear_8bpp.png" )
{ template_auto_11_1x() }

alternative_sprites(spriteset_br_class_201_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_8bpp.png")
{ template_auto_11_2x() }




spriteset (spriteset_br_class_201_rear_turn_1, "1x/br_class_201_rear_8bpp.png" )
{ template_auto_turn_1_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_8bpp.png")
{ template_auto_turn_1_11_2x() }




spriteset (spriteset_br_class_201_rear_turn_2, "1x/br_class_201_rear_8bpp.png" )
{ template_auto_turn_2_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_8bpp.png")
{ template_auto_turn_2_11_2x() }





spriteset (spriteset_br_class_201_rear_up, "1x/br_class_201_rear_up_8bpp.png" )
{ template_auto_up_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_up_8bpp.png")
{ template_auto_up_11_2x() }





spriteset (spriteset_br_class_201_rear_down, "1x/br_class_201_rear_down_8bpp.png" )
{ template_auto_down_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_down_8bpp.png")
{ template_auto_down_11_2x() }






spriteset (spriteset_br_class_201_rear_sections_front, "1x/br_class_201_rear_sections_8bpp.png" )
{ template_auto_front_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_sections_8bpp.png")
{ template_auto_front_11_2x() }



spriteset (spriteset_br_class_201_rear_sections_mid, "1x/br_class_201_rear_sections_8bpp.png" )
{ template_auto_mid_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_sections_8bpp.png")
{ template_auto_mid_11_2x() }



spriteset (spriteset_br_class_201_rear_sections_rear, "1x/br_class_201_rear_sections_8bpp.png" )
{ template_auto_rear_11_1x() }

alternative_sprites(spriteset_br_class_201_rear_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_201_rear_sections_8bpp.png")
{ template_auto_rear_11_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_class_201_4car_articulation, extra_callback_info1) {
    0 .. (4 * 3) - 1: class_201_4car;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_class_201_4car_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 3;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_201_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_201_sections_mid;
    return spriteset_br_class_201;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_201_down;
    1..127: return spriteset_br_class_201_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_201_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_201_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_201_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_201_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_201_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_201_height;
    return spriteset_br_class_201;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_201_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_201_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_201_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_201_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_201_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_201_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_201_mid1_sections_mid;
    return spriteset_br_class_201_mid1;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_201_mid1_down;
    1..127: return spriteset_br_class_201_mid1_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_201_mid1_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_201_mid1_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_201_mid1_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_201_mid1_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_201_mid1_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_201_mid1_height;
    return spriteset_br_class_201_mid1;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_201_mid1_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_201_mid1_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_201_mid1_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_mid1_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_201_mid1_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_201_rear_sections_mid;
    return spriteset_br_class_201_rear;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_201_rear_down;
    1..127: return spriteset_br_class_201_rear_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_201_rear_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_201_rear_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_201_rear_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_201_rear_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_201_rear_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_201_rear_height;
    return spriteset_br_class_201_rear;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_201_rear_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_201_rear_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_201_rear_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_201_rear_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_201_rear_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_class_201_4car_running_cost, current_speed) {
     0: return min(
         (75 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (75 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(75 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        75 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_class_201_4car_graphics, position_in_articulated_veh % (4 * 3)) 
{
    (0 * 3) + 1: switch_br_class_201_curve;
    (0 * 3) + 0: switch_br_class_201_curve_front;
    (0 * 3) + 2: switch_br_class_201_curve_rear;
    
    (1 * 3) + 1: switch_br_class_201_mid1_curve;
    (1 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (1 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (2 * 3) + 1: switch_br_class_201_mid1_curve;
    (2 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (2 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (3 * 3) + 1: switch_br_class_201_rear_curve;
    (3 * 3) + 0: switch_br_class_201_rear_curve_front;
    (3 * 3) + 2: switch_br_class_201_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_class_201_4car_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DIESEL, 0);
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_class_201_4car_attach_wagons, vehicle_type_id) {
    class_201_4car:  return CB_RESULT_ATTACH_ALLOW;
    
    class_201_6car: return CB_RESULT_ATTACH_ALLOW;
    
    class_205_3car: return CB_RESULT_ATTACH_ALLOW;
    
    class_205_2car: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, class_201_4car, 201) {
    property {
        name:                         string(STR_NAME_CLASS_201_4CAR);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1956, 2, 5);
        model_life:                   56;
        retire_early:                 -4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.05;

        power:                        1000 hp;
        speed:                        75 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  42;
        running_cost_factor:          75;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (75 * 1.6);

        
        cargo_capacity:               37 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       180 ton;
    }

    graphics {
        default:  switch_class_201_4car_graphics;
        purchase:  spriteset_class_201_4car_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_CLASS_201_4CAR);
        articulated_part: switch_class_201_4car_articulation;
        length: switch_class_201_4car_length;
        running_cost_factor: switch_class_201_4car_running_cost;
        purchase_running_cost_factor: return 75;
        visual_effect_and_powered: switch_class_201_4car_visual_effect;
        purchase_cargo_capacity:  spriteset_br_class_201;
        can_attach_wagon: switch_class_201_4car_attach_wagons;
        
    }
}
spriteset(spriteset_class_201_6car_purchase, "1x/class_201_6car_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_class_201_6car_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_201_6car_purchase.png")
{ template_purchase_2x() }


// Articulation
switch(FEAT_TRAINS, SELF, switch_class_201_6car_articulation, extra_callback_info1) {
    0 .. (6 * 3) - 1: class_201_6car;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_class_201_6car_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 3;
    2: return 4;
        
}






 switch(FEAT_TRAINS, PARENT, switch_class_201_6car_running_cost, current_speed) {
     0: return min(
         (84 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (84 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(84 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        84 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_class_201_6car_graphics, position_in_articulated_veh % (6 * 3)) 
{
    (0 * 3) + 1: switch_br_class_201_curve;
    (0 * 3) + 0: switch_br_class_201_curve_front;
    (0 * 3) + 2: switch_br_class_201_curve_rear;
    
    (1 * 3) + 1: switch_br_class_201_mid1_curve;
    (1 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (1 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (2 * 3) + 1: switch_br_class_201_mid1_curve;
    (2 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (2 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (3 * 3) + 1: switch_br_class_201_mid1_curve;
    (3 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (3 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (4 * 3) + 1: switch_br_class_201_mid1_curve;
    (4 * 3) + 0: switch_br_class_201_mid1_curve_front;
    (4 * 3) + 2: switch_br_class_201_mid1_curve_rear;
    
    (5 * 3) + 1: switch_br_class_201_rear_curve;
    (5 * 3) + 0: switch_br_class_201_rear_curve_front;
    (5 * 3) + 2: switch_br_class_201_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_class_201_6car_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DIESEL, 0);
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_class_201_6car_attach_wagons, vehicle_type_id) {
    class_201_6car:  return CB_RESULT_ATTACH_ALLOW;
    
    class_201_4car: return CB_RESULT_ATTACH_ALLOW;
    
    class_205_3car: return CB_RESULT_ATTACH_ALLOW;
    
    class_205_2car: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, class_201_6car, 202) {
    property {
        name:                         string(STR_NAME_CLASS_201_6CAR);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1956, 2, 5);
        model_life:                   56;
        retire_early:                 -4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.04;

        power:                        1000 hp;
        speed:                        75 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  48;
        running_cost_factor:          84;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );
        variant_group:                  201;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (75 * 1.6);

        
        cargo_capacity:               42 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       238 ton;
        variant_group:                201;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_class_201_6car_graphics;
        purchase:  spriteset_class_201_6car_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_CLASS_201_6CAR);
        articulated_part: switch_class_201_6car_articulation;
        length: switch_class_201_6car_length;
        running_cost_factor: switch_class_201_6car_running_cost;
        purchase_running_cost_factor: return 84;
        visual_effect_and_powered: switch_class_201_6car_visual_effect;
        purchase_cargo_capacity:  spriteset_br_class_201;
        can_attach_wagon: switch_class_201_6car_attach_wagons;
        
    }
}
spriteset(spriteset_class_205_3car_purchase, "1x/class_205_3car_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_class_205_3car_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_205_3car_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_br_class_205, "1x/br_class_205_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_205, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_205_turn_1, "1x/br_class_205_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_205_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_205_turn_2, "1x/br_class_205_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_205_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_205_up, "1x/br_class_205_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_205_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_205_down, "1x/br_class_205_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_205_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_class_205_sections_front, "1x/br_class_205_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_205_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_205_sections_mid, "1x/br_class_205_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_205_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_205_sections_rear, "1x/br_class_205_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_205_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_br_class_205_mid, "1x/br_class_205_mid_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_205_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_205_mid_turn_1, "1x/br_class_205_mid_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_205_mid_turn_2, "1x/br_class_205_mid_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_205_mid_up, "1x/br_class_205_mid_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_205_mid_down, "1x/br_class_205_mid_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_class_205_mid_sections_front, "1x/br_class_205_mid_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_205_mid_sections_mid, "1x/br_class_205_mid_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_205_mid_sections_rear, "1x/br_class_205_mid_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_205_mid_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_mid_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_br_class_205_rear, "1x/br_class_205_rear_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_205_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_205_rear_turn_1, "1x/br_class_205_rear_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_205_rear_turn_2, "1x/br_class_205_rear_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_205_rear_up, "1x/br_class_205_rear_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_205_rear_down, "1x/br_class_205_rear_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_class_205_rear_sections_front, "1x/br_class_205_rear_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_205_rear_sections_mid, "1x/br_class_205_rear_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_205_rear_sections_rear, "1x/br_class_205_rear_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_205_rear_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_205_rear_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_class_205_3car_articulation, extra_callback_info1) {
    0 .. (3 * 3) - 1: class_205_3car;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_class_205_3car_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_205_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_205_sections_mid;
    return spriteset_br_class_205;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_205_down;
    1..127: return spriteset_br_class_205_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_205_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_205_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_205_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_205_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_205_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_205_height;
    return spriteset_br_class_205;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_205_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_205_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_205_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_205_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_205_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_205_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_205_mid_sections_mid;
    return spriteset_br_class_205_mid;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_205_mid_down;
    1..127: return spriteset_br_class_205_mid_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_205_mid_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_205_mid_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_205_mid_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_205_mid_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_205_mid_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_205_mid_height;
    return spriteset_br_class_205_mid;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_205_mid_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_205_mid_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_205_mid_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_mid_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_205_mid_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_205_rear_sections_mid;
    return spriteset_br_class_205_rear;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_205_rear_down;
    1..127: return spriteset_br_class_205_rear_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_205_rear_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_205_rear_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_205_rear_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_205_rear_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_205_rear_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_205_rear_height;
    return spriteset_br_class_205_rear;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_205_rear_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_205_rear_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_205_rear_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_205_rear_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_205_rear_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_class_205_3car_running_cost, current_speed) {
     0: return min(
         (71 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (71 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(71 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        71 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_class_205_3car_graphics, position_in_articulated_veh % (3 * 3)) 
{
    (0 * 3) + 1: switch_br_class_205_curve;
    (0 * 3) + 0: switch_br_class_205_curve_front;
    (0 * 3) + 2: switch_br_class_205_curve_rear;
    
    (1 * 3) + 1: switch_br_class_205_mid_curve;
    (1 * 3) + 0: switch_br_class_205_mid_curve_front;
    (1 * 3) + 2: switch_br_class_205_mid_curve_rear;
    
    (2 * 3) + 1: switch_br_class_205_rear_curve;
    (2 * 3) + 0: switch_br_class_205_rear_curve_front;
    (2 * 3) + 2: switch_br_class_205_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_class_205_3car_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DIESEL, 0);
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_class_205_3car_attach_wagons, vehicle_type_id) {
    class_205_3car:  return CB_RESULT_ATTACH_ALLOW;
    
    class_205_2car: return CB_RESULT_ATTACH_ALLOW;
    
    class_201_6car: return CB_RESULT_ATTACH_ALLOW;
    
    class_201_4car: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, class_205_3car, 205) {
    property {
        name:                         string(STR_NAME_CLASS_205_3CAR);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1957, 2, 5);
        model_life:                   55;
        retire_early:                 -4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.15;

        power:                        600 hp;
        speed:                        75 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  39;
        running_cost_factor:          71;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (75 * 1.6);

        
        cargo_capacity:               51 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       57.5 ton;
    }

    graphics {
        default:  switch_class_205_3car_graphics;
        purchase:  spriteset_class_205_3car_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_CLASS_205_3CAR);
        articulated_part: switch_class_205_3car_articulation;
        length: switch_class_205_3car_length;
        running_cost_factor: switch_class_205_3car_running_cost;
        purchase_running_cost_factor: return 71;
        visual_effect_and_powered: switch_class_205_3car_visual_effect;
        purchase_cargo_capacity:  spriteset_br_class_205;
        can_attach_wagon: switch_class_205_3car_attach_wagons;
        
    }
}
spriteset(spriteset_class_205_2car_purchase, "1x/class_205_2car_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_class_205_2car_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_205_2car_purchase.png")
{ template_purchase_2x() }


// Articulation
switch(FEAT_TRAINS, SELF, switch_class_205_2car_articulation, extra_callback_info1) {
    0 .. (2 * 3) - 1: class_205_2car;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_class_205_2car_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}






 switch(FEAT_TRAINS, PARENT, switch_class_205_2car_running_cost, current_speed) {
     0: return min(
         (67 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (67 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(67 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        67 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_class_205_2car_graphics, position_in_articulated_veh % (2 * 3)) 
{
    (0 * 3) + 1: switch_br_class_205_curve;
    (0 * 3) + 0: switch_br_class_205_curve_front;
    (0 * 3) + 2: switch_br_class_205_curve_rear;
    
    (1 * 3) + 1: switch_br_class_205_rear_curve;
    (1 * 3) + 0: switch_br_class_205_rear_curve_front;
    (1 * 3) + 2: switch_br_class_205_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_class_205_2car_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DIESEL, 0);
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_class_205_2car_attach_wagons, vehicle_type_id) {
    class_205_2car:  return CB_RESULT_ATTACH_ALLOW;
    
    class_205_3car: return CB_RESULT_ATTACH_ALLOW;
    
    class_201_6car: return CB_RESULT_ATTACH_ALLOW;
    
    class_201_4car: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, class_205_2car, 206) {
    property {
        name:                         string(STR_NAME_CLASS_205_2CAR);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1957, 2, 5);
        model_life:                   55;
        retire_early:                 -4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.15;

        power:                        600 hp;
        speed:                        75 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  36;
        running_cost_factor:          67;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );
        variant_group:                  205;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (75 * 1.6);

        
        cargo_capacity:               51 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       57.5 ton;
        variant_group:                205;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_class_205_2car_graphics;
        purchase:  spriteset_class_205_2car_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_CLASS_205_2CAR);
        articulated_part: switch_class_205_2car_articulation;
        length: switch_class_205_2car_length;
        running_cost_factor: switch_class_205_2car_running_cost;
        purchase_running_cost_factor: return 67;
        visual_effect_and_powered: switch_class_205_2car_visual_effect;
        purchase_cargo_capacity:  spriteset_br_class_205;
        can_attach_wagon: switch_class_205_2car_attach_wagons;
        
    }
}
spriteset(spriteset_br_class_411_purchase, "1x/br_class_411_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_br_class_411_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_411_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_br_4cep, "1x/br_4cep_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_4cep, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_4cep_turn_1, "1x/br_4cep_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_4cep_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_4cep_turn_2, "1x/br_4cep_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_4cep_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_4cep_up, "1x/br_4cep_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_4cep_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_4cep_down, "1x/br_4cep_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_4cep_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_4cep_sections_front, "1x/br_4cep_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_4cep_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_4cep_sections_mid, "1x/br_4cep_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_4cep_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_4cep_sections_rear, "1x/br_4cep_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_4cep_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_br_4cep_mid1, "1x/br_4cep_mid1_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_4cep_mid1_turn_1, "1x/br_4cep_mid1_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_4cep_mid1_turn_2, "1x/br_4cep_mid1_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_4cep_mid1_up, "1x/br_4cep_mid1_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_4cep_mid1_down, "1x/br_4cep_mid1_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_4cep_mid1_sections_front, "1x/br_4cep_mid1_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_4cep_mid1_sections_mid, "1x/br_4cep_mid1_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_4cep_mid1_sections_rear, "1x/br_4cep_mid1_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_4cep_mid1_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid1_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_br_4cep_mid2, "1x/br_4cep_mid2_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_4cep_mid2_turn_1, "1x/br_4cep_mid2_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_4cep_mid2_turn_2, "1x/br_4cep_mid2_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_4cep_mid2_up, "1x/br_4cep_mid2_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_4cep_mid2_down, "1x/br_4cep_mid2_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_4cep_mid2_sections_front, "1x/br_4cep_mid2_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_4cep_mid2_sections_mid, "1x/br_4cep_mid2_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_4cep_mid2_sections_rear, "1x/br_4cep_mid2_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_4cep_mid2_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_mid2_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_br_4cep_rear, "1x/br_4cep_rear_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_4cep_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_4cep_rear_turn_1, "1x/br_4cep_rear_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_4cep_rear_turn_2, "1x/br_4cep_rear_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_4cep_rear_up, "1x/br_4cep_rear_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_4cep_rear_down, "1x/br_4cep_rear_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_4cep_rear_sections_front, "1x/br_4cep_rear_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_4cep_rear_sections_mid, "1x/br_4cep_rear_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_4cep_rear_sections_rear, "1x/br_4cep_rear_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_4cep_rear_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_4cep_rear_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_br_class_411_articulation, extra_callback_info1) {
    0 .. (4 * 3) - 1: br_class_411;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_br_class_411_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_4cep_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_4cep_sections_mid;
    return spriteset_br_4cep;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_4cep_down;
    1..127: return spriteset_br_4cep_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_4cep_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_4cep_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_4cep_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_4cep_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_4cep_turn_1;

    vehicle_curv_info(0, 0): switch_br_4cep_height;
    return spriteset_br_4cep;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_4cep_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_4cep_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_4cep_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_4cep_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_4cep_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_4cep_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_4cep_mid1_sections_mid;
    return spriteset_br_4cep_mid1;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_4cep_mid1_down;
    1..127: return spriteset_br_4cep_mid1_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_4cep_mid1_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_4cep_mid1_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_4cep_mid1_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_4cep_mid1_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_4cep_mid1_turn_1;

    vehicle_curv_info(0, 0): switch_br_4cep_mid1_height;
    return spriteset_br_4cep_mid1;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_4cep_mid1_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_4cep_mid1_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_4cep_mid1_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid1_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_4cep_mid1_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_4cep_mid2_sections_mid;
    return spriteset_br_4cep_mid2;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_4cep_mid2_down;
    1..127: return spriteset_br_4cep_mid2_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_4cep_mid2_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_4cep_mid2_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_4cep_mid2_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_4cep_mid2_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_4cep_mid2_turn_1;

    vehicle_curv_info(0, 0): switch_br_4cep_mid2_height;
    return spriteset_br_4cep_mid2;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_4cep_mid2_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_4cep_mid2_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_4cep_mid2_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_mid2_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_4cep_mid2_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_4cep_rear_sections_mid;
    return spriteset_br_4cep_rear;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_4cep_rear_down;
    1..127: return spriteset_br_4cep_rear_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_4cep_rear_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_4cep_rear_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_4cep_rear_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_4cep_rear_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_4cep_rear_turn_1;

    vehicle_curv_info(0, 0): switch_br_4cep_rear_height;
    return spriteset_br_4cep_rear;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_4cep_rear_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_4cep_rear_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_4cep_rear_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_4cep_rear_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_4cep_rear_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_br_class_411_running_cost, current_speed) {
     0: return min(
         (77 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (77 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(77 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        77 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_br_class_411_graphics, position_in_articulated_veh % (4 * 3)) 
{
    (0 * 3) + 1: switch_br_4cep_curve;
    (0 * 3) + 0: switch_br_4cep_curve_front;
    (0 * 3) + 2: switch_br_4cep_curve_rear;
    
    (1 * 3) + 1: switch_br_4cep_mid1_curve;
    (1 * 3) + 0: switch_br_4cep_mid1_curve_front;
    (1 * 3) + 2: switch_br_4cep_mid1_curve_rear;
    
    (2 * 3) + 1: switch_br_4cep_mid2_curve;
    (2 * 3) + 0: switch_br_4cep_mid2_curve_front;
    (2 * 3) + 2: switch_br_4cep_mid2_curve_rear;
    
    (3 * 3) + 1: switch_br_4cep_rear_curve;
    (3 * 3) + 0: switch_br_4cep_rear_curve_front;
    (3 * 3) + 2: switch_br_4cep_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_br_class_411_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_br_class_411_attach_wagons, vehicle_type_id) {
    br_class_411:  return CB_RESULT_ATTACH_ALLOW;
    
    br_class_419: return CB_RESULT_ATTACH_ALLOW;
    
    br_class_489: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, br_class_411, 411) {
    property {
        name:                         string(STR_NAME_BR_CLASS_411);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1956, 2, 5);
        model_life:                   56;
        retire_early:                 -4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_ELECTRIC;
        

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.21;

        power:                        500 hp;
        speed:                        90 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  28;
        running_cost_factor:          77;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );

        refit_cost:                   0;
        track_type:                   THIRD_RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (90 * 1.6);

        
        cargo_capacity:               56 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       46.2 ton;
    }

    graphics {
        default:  switch_br_class_411_graphics;
        purchase:  spriteset_br_class_411_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_BR_CLASS_411);
        articulated_part: switch_br_class_411_articulation;
        length: switch_br_class_411_length;
        running_cost_factor: switch_br_class_411_running_cost;
        purchase_running_cost_factor: return 77;
        visual_effect_and_powered: switch_br_class_411_visual_effect;
        purchase_cargo_capacity:  spriteset_br_4cep;
        can_attach_wagon: switch_br_class_411_attach_wagons;
        
    }
}

spriteset(spriteset_br_class_419_purchase, "1x/br_class_419_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_br_class_419_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_br_class_419, "1x/br_class_419_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_419, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_419_turn_1, "1x/br_class_419_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_419_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_419_turn_2, "1x/br_class_419_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_419_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_419_up, "1x/br_class_419_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_419_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_419_down, "1x/br_class_419_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_419_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_class_419_sections_front, "1x/br_class_419_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_419_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_419_sections_mid, "1x/br_class_419_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_419_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_419_sections_rear, "1x/br_class_419_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_419_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_419_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Graphics - animated or not





// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_419_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_419_sections_mid;
    return spriteset_br_class_419;
}

switch (FEAT_TRAINS, SELF, switch_br_class_419_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_419_down;
    1..127: return spriteset_br_class_419_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_419_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_419_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_419_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_419_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_419_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_419_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_419_height;
    return spriteset_br_class_419;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_419_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_419_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_419_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_419_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_419_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_419_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_419_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_419_height_rear;
    return spriteset_invisible;
}




// Articulation
switch(FEAT_TRAINS, SELF, switch_br_class_419_articulation, extra_callback_info1) {
    0 .. 2: br_class_419;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_br_class_419_length, position_in_articulated_veh % 3) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}



switch (FEAT_TRAINS, SELF, switch_br_class_419_graphics, position_in_articulated_veh % 3) 
{
    
    1: switch_br_class_419_curve;
    
    0: switch_br_class_419_curve_front;
    2: switch_br_class_419_curve_rear;
    
    

    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_br_class_419_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}


 switch(FEAT_TRAINS, PARENT, switch_br_class_419_running_cost, current_speed) {
     0: return min(
         (69 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (69 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(69 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        69 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }



item(FEAT_TRAINS, br_class_419, 419) {
    property {
        name:                         string(STR_NAME_BR_CLASS_419);
        climates_available:            ALL_CLIMATES ;        
        introduction_date:            date(1959, 2, 1);
        model_life:                   53;
        retire_early:                 4;
        vehicle_life:                 45;

        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.21;
        power:                        500 hp;
        speed:                        90 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  44;
        running_cost_factor:          69;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC );

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                  0;

        air_drag_coefficient:         7 / (90 * 1.6);

        cargo_capacity:               38 / 3;
        
        default_cargo_type:           MAIL;
        
        weight:                       46.2  ton;
        
    }

        graphics {    
        default:  switch_br_class_419_graphics;   
        purchase:  spriteset_br_class_419_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_BR_CLASS_419);
        articulated_part: switch_br_class_419_articulation;
        length: switch_br_class_419_length;
        running_cost_factor: switch_br_class_419_running_cost;
        purchase_running_cost_factor: return 69;
        visual_effect_and_powered: switch_br_class_419_visual_effect;
        
        purchase_cargo_capacity:  spriteset_br_class_419;
        
    }
}


spriteset(spriteset_br_class_489_purchase, "1x/br_class_489_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_br_class_489_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_br_class_489, "1x/br_class_489_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_489, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_489_turn_1, "1x/br_class_489_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_489_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_489_turn_2, "1x/br_class_489_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_489_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_489_up, "1x/br_class_489_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_489_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_489_down, "1x/br_class_489_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_489_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_br_class_489_sections_front, "1x/br_class_489_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_489_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_489_sections_mid, "1x/br_class_489_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_489_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_489_sections_rear, "1x/br_class_489_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_489_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Graphics - animated or not

spriteset (spriteset_br_class_489_rev, "1x/br_class_489_rev_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_br_class_489_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_br_class_489_rev_turn_1, "1x/br_class_489_rev_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_br_class_489_rev_turn_2, "1x/br_class_489_rev_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_br_class_489_rev_up, "1x/br_class_489_rev_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_br_class_489_rev_down, "1x/br_class_489_rev_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_down_8bpp.png")
{ template_auto_down_12_2x() }





spriteset (spriteset_br_class_489_rev_sections_front, "1x/br_class_489_rev_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_br_class_489_rev_sections_mid, "1x/br_class_489_rev_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_br_class_489_rev_sections_rear, "1x/br_class_489_rev_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_br_class_489_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/br_class_489_rev_sections_8bpp.png")
{ template_auto_rear_12_2x() }








// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_489_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_489_sections_mid;
    return spriteset_br_class_489;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_489_down;
    1..127: return spriteset_br_class_489_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_489_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_489_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_489_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_489_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_489_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_489_height;
    return spriteset_br_class_489;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_489_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_489_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_489_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_489_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_489_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_489_height_rear;
    return spriteset_invisible;
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_br_class_489_rev_sections_mid;
    return spriteset_br_class_489_rev;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_br_class_489_rev_down;
    1..127: return spriteset_br_class_489_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_br_class_489_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_br_class_489_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_br_class_489_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_br_class_489_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_br_class_489_rev_turn_1;

    vehicle_curv_info(0, 0): switch_br_class_489_rev_height;
    return spriteset_br_class_489_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_br_class_489_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_br_class_489_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_br_class_489_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_br_class_489_rev_height_rear;
    return spriteset_invisible;
}



// Articulation
switch(FEAT_TRAINS, SELF, switch_br_class_489_articulation, extra_callback_info1) {
    0 .. 2: br_class_489;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_length, position_in_articulated_veh % 3) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}



switch (FEAT_TRAINS, SELF, switch_br_class_489_fwd_graphics, position_in_articulated_veh % 3) 
{
    1: switch_br_class_489_curve;
    
    0: switch_br_class_489_curve_front;
    2: switch_br_class_489_curve_rear;
    
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_br_class_489_rev_graphics, position_in_articulated_veh % 3) 
{
    1: switch_br_class_489_rev_curve;
    
    0: switch_br_class_489_rev_curve_front;
    2: switch_br_class_489_rev_curve_rear;
    
    return spriteset_invisible;
}


switch (FEAT_TRAINS, SELF, switch_br_class_489_graphics,  num_vehs_in_consist > 3 ? position_in_consist_from_end : -1) {
    0..2: switch_br_class_489_rev_graphics;
    switch_br_class_489_fwd_graphics;
}










// Visual effect
switch (FEAT_TRAINS, SELF, switch_br_class_489_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}


 switch(FEAT_TRAINS, PARENT, switch_br_class_489_running_cost, current_speed) {
     0: return min(
         (65 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (65 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(65 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        65 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }



item(FEAT_TRAINS, br_class_489, 489) {
    property {
        name:                         string(STR_NAME_BR_CLASS_489);
        climates_available:            ALL_CLIMATES ;        
        introduction_date:            date(1959, 2, 1);
        model_life:                   54;
        retire_early:                 4;
        vehicle_life:                 45;

        
        refittable_cargo_classes: bitmask(CC_MAIL);
        

        engine_class:                 ENGINE_CLASS_ELECTRIC;
        

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.23;
        power:                        500 hp;
        speed:                        90 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  37;
        running_cost_factor:          65;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC );

        refit_cost:                   0;
        track_type:                   THIRD_RAIL;
        dual_headed:                  0;

        air_drag_coefficient:         7 / (90 * 1.6);

        cargo_capacity:               38 / 3;
        
        default_cargo_type:           MAIL;
        
        weight:                       40.5  ton;
        
    }

        graphics {    
        default:  switch_br_class_489_graphics;   
        purchase:  spriteset_br_class_489_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_BR_CLASS_489);
        articulated_part: switch_br_class_489_articulation;
        length: switch_br_class_489_length;
        running_cost_factor: switch_br_class_489_running_cost;
        purchase_running_cost_factor: return 65;
        visual_effect_and_powered: switch_br_class_489_visual_effect;
        
        purchase_cargo_capacity:  spriteset_br_class_489;
        
    }
}

spriteset(spriteset_class_153_purchase, "1x/class_153_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_class_153_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_class_153, "1x/class_153_8bpp.png" )
{ template_auto_14_1x() }

alternative_sprites(spriteset_class_153, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_8bpp.png")
{ template_auto_14_2x() }




spriteset (spriteset_class_153_turn_1, "1x/class_153_8bpp.png" )
{ template_auto_turn_1_14_1x() }

alternative_sprites(spriteset_class_153_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_8bpp.png")
{ template_auto_turn_1_14_2x() }




spriteset (spriteset_class_153_turn_2, "1x/class_153_8bpp.png" )
{ template_auto_turn_2_14_1x() }

alternative_sprites(spriteset_class_153_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_8bpp.png")
{ template_auto_turn_2_14_2x() }





spriteset (spriteset_class_153_up, "1x/class_153_up_8bpp.png" )
{ template_auto_up_14_1x() }

alternative_sprites(spriteset_class_153_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_up_8bpp.png")
{ template_auto_up_14_2x() }





spriteset (spriteset_class_153_down, "1x/class_153_down_8bpp.png" )
{ template_auto_down_14_1x() }

alternative_sprites(spriteset_class_153_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_down_8bpp.png")
{ template_auto_down_14_2x() }






spriteset (spriteset_class_153_sections_front, "1x/class_153_sections_8bpp.png" )
{ template_auto_front_14_1x() }

alternative_sprites(spriteset_class_153_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_sections_8bpp.png")
{ template_auto_front_14_2x() }



spriteset (spriteset_class_153_sections_mid, "1x/class_153_sections_8bpp.png" )
{ template_auto_mid_14_1x() }

alternative_sprites(spriteset_class_153_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_sections_8bpp.png")
{ template_auto_mid_14_2x() }



spriteset (spriteset_class_153_sections_rear, "1x/class_153_sections_8bpp.png" )
{ template_auto_rear_14_1x() }

alternative_sprites(spriteset_class_153_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/class_153_sections_8bpp.png")
{ template_auto_rear_14_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_class_153_articulation, extra_callback_info1) {
    0 .. (1 * 3) - 1: class_153;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_class_153_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 6;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_class_153_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_class_153_sections_mid;
    return spriteset_class_153;
}

switch (FEAT_TRAINS, SELF, switch_class_153_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_class_153_down;
    1..127: return spriteset_class_153_up;    

    // Long vehicle, use the 3-sprite layout
    switch_class_153_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_class_153_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_class_153_turn_1;
    vehicle_curv_info(0, 1): return spriteset_class_153_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_class_153_turn_2;
    vehicle_curv_info(0, -1): return spriteset_class_153_turn_1;

    vehicle_curv_info(0, 0): switch_class_153_height;
    return spriteset_class_153;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_class_153_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_class_153_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_class_153_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_class_153_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_class_153_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_class_153_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_class_153_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_class_153_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_class_153_running_cost, current_speed) {
     0: return min(
         (68 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (68 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(68 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        68 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_class_153_graphics, position_in_articulated_veh % (1 * 3)) 
{
    (0 * 3) + 1: switch_class_153_curve;
    (0 * 3) + 0: switch_class_153_curve_front;
    (0 * 3) + 2: switch_class_153_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_class_153_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DIESEL, 0);
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_class_153_attach_wagons, vehicle_type_id) {
    class_153:  return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, class_153, 153) {
    property {
        name:                         string(STR_NAME_CLASS_153);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1991, 4, 5);
        model_life:                   VEHICLE_NEVER_EXPIRES;
        retire_early:                 -4;
        vehicle_life:                 33;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.15;

        power:                        213 hp;
        speed:                        75 mph;
        reliability_decay:            20;
        loading_speed:                5;
        cost_factor:                  37;
        running_cost_factor:          68;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK );

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (75 * 1.6);

        
        cargo_capacity:               72 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       41.2 ton;
    }

    graphics {
        default:  switch_class_153_graphics;
        purchase:  spriteset_class_153_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_CLASS_153);
        articulated_part: switch_class_153_articulation;
        length: switch_class_153_length;
        running_cost_factor: switch_class_153_running_cost;
        purchase_running_cost_factor: return 68;
        visual_effect_and_powered: switch_class_153_visual_effect;
        purchase_cargo_capacity:  spriteset_class_153;
        can_attach_wagon: switch_class_153_attach_wagons;
        
    }
}
spriteset(spriteset_apt_half_6_purchase, "1x/apt_half_6_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_half_6_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_half_6_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt, "1x/apt_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_turn_1, "1x/apt_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_turn_2, "1x/apt_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_up, "1x/apt_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_down, "1x/apt_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_sections_front, "1x/apt_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_sections_mid, "1x/apt_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_sections_rear, "1x/apt_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_apt_mid, "1x/apt_mid_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_mid_turn_1, "1x/apt_mid_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_mid_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_mid_turn_2, "1x/apt_mid_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_mid_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_mid_up, "1x/apt_mid_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_mid_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_mid_down, "1x/apt_mid_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_mid_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_mid_sections_front, "1x/apt_mid_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_mid_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_mid_sections_mid, "1x/apt_mid_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_mid_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_mid_sections_rear, "1x/apt_mid_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_mid_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_mid_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_apt_tbf2, "1x/apt_tbf2_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_tbf2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_tbf2_turn_1, "1x/apt_tbf2_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_tbf2_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_tbf2_turn_2, "1x/apt_tbf2_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_tbf2_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_tbf2_up, "1x/apt_tbf2_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_tbf2_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_tbf2_down, "1x/apt_tbf2_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_tbf2_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_tbf2_sections_front, "1x/apt_tbf2_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_tbf2_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_tbf2_sections_mid, "1x/apt_tbf2_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_tbf2_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_tbf2_sections_rear, "1x/apt_tbf2_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_tbf2_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_half_6_articulation, extra_callback_info1) {
    0 .. (6 * 3) - 1: apt_half_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_half_6_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_sections_mid;
    return spriteset_apt;
}

switch (FEAT_TRAINS, SELF, switch_apt_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_down;
    1..127: return spriteset_apt_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_turn_1;

    vehicle_curv_info(0, 0): switch_apt_height;
    return spriteset_apt;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_mid_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_mid_sections_mid;
    return spriteset_apt_mid;
}

switch (FEAT_TRAINS, SELF, switch_apt_mid_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_mid_down;
    1..127: return spriteset_apt_mid_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_mid_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_mid_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_mid_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_mid_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_mid_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_mid_turn_1;

    vehicle_curv_info(0, 0): switch_apt_mid_height;
    return spriteset_apt_mid;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_mid_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_mid_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_mid_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_mid_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_mid_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_mid_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_mid_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_mid_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_tbf2_sections_mid;
    return spriteset_apt_tbf2;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_tbf2_down;
    1..127: return spriteset_apt_tbf2_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_tbf2_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_tbf2_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_tbf2_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_tbf2_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_tbf2_turn_1;

    vehicle_curv_info(0, 0): switch_apt_tbf2_height;
    return spriteset_apt_tbf2;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_tbf2_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_tbf2_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_tbf2_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_tbf2_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_apt_half_6_running_cost, current_speed) {
     0: return min(
         (86 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (86 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(86 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        86 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_half_6_graphics, position_in_articulated_veh % (6 * 3)) 
{
    (0 * 3) + 1: switch_apt_curve;
    (0 * 3) + 0: switch_apt_curve_front;
    (0 * 3) + 2: switch_apt_curve_rear;
    
    (1 * 3) + 1: switch_apt_mid_curve;
    (1 * 3) + 0: switch_apt_mid_curve_front;
    (1 * 3) + 2: switch_apt_mid_curve_rear;
    
    (2 * 3) + 1: switch_apt_mid_curve;
    (2 * 3) + 0: switch_apt_mid_curve_front;
    (2 * 3) + 2: switch_apt_mid_curve_rear;
    
    (3 * 3) + 1: switch_apt_mid_curve;
    (3 * 3) + 0: switch_apt_mid_curve_front;
    (3 * 3) + 2: switch_apt_mid_curve_rear;
    
    (4 * 3) + 1: switch_apt_mid_curve;
    (4 * 3) + 0: switch_apt_mid_curve_front;
    (4 * 3) + 2: switch_apt_mid_curve_rear;
    
    (5 * 3) + 1: switch_apt_tbf2_curve;
    (5 * 3) + 0: switch_apt_tbf2_curve_front;
    (5 * 3) + 2: switch_apt_tbf2_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_half_6_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_half_6_attach_wagons, vehicle_type_id) {
    apt_half_6:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, apt_half_6, 370) {
    property {
        name:                         string(STR_NAME_APT_HALF_6);
        climates_available:            param_max_mu_length == 0 ?  ALL_CLIMATES  : NO_CLIMATE ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (222 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.00;

        power:                        10 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  93;
        running_cost_factor:          86;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               44 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       164.8 ton;
    }

    graphics {
        default:  switch_apt_half_6_graphics;
        purchase:  spriteset_apt_half_6_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_HALF_6);
        articulated_part: switch_apt_half_6_articulation;
        length: switch_apt_half_6_length;
        running_cost_factor: switch_apt_half_6_running_cost;
        purchase_running_cost_factor: return 86;
        visual_effect_and_powered: switch_apt_half_6_visual_effect;
        purchase_cargo_capacity:  spriteset_apt;
        can_attach_wagon: switch_apt_half_6_attach_wagons;
        
    }
}
spriteset(spriteset_apt_half_6_rev_purchase, "1x/apt_half_6_rev_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_half_6_rev_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_half_6_rev_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_tbf2_rev, "1x/apt_tbf2_rev_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_tbf2_rev_turn_1, "1x/apt_tbf2_rev_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_tbf2_rev_turn_2, "1x/apt_tbf2_rev_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_tbf2_rev_up, "1x/apt_tbf2_rev_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_tbf2_rev_down, "1x/apt_tbf2_rev_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_tbf2_rev_sections_front, "1x/apt_tbf2_rev_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_tbf2_rev_sections_mid, "1x/apt_tbf2_rev_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_tbf2_rev_sections_rear, "1x/apt_tbf2_rev_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_tbf2_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf2_rev_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_apt_rear, "1x/apt_rear_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_rear_turn_1, "1x/apt_rear_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_rear_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_rear_turn_2, "1x/apt_rear_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_rear_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_rear_up, "1x/apt_rear_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_rear_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_rear_down, "1x/apt_rear_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_rear_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_rear_sections_front, "1x/apt_rear_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_rear_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_rear_sections_mid, "1x/apt_rear_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_rear_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_rear_sections_rear, "1x/apt_rear_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_rear_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_rear_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_half_6_rev_articulation, extra_callback_info1) {
    0 .. (6 * 3) - 1: apt_half_6_rev;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_half_6_rev_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_tbf2_rev_sections_mid;
    return spriteset_apt_tbf2_rev;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_tbf2_rev_down;
    1..127: return spriteset_apt_tbf2_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_tbf2_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_tbf2_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_tbf2_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_tbf2_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_tbf2_rev_turn_1;

    vehicle_curv_info(0, 0): switch_apt_tbf2_rev_height;
    return spriteset_apt_tbf2_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_tbf2_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_tbf2_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_tbf2_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf2_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_tbf2_rev_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_rear_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_rear_sections_mid;
    return spriteset_apt_rear;
}

switch (FEAT_TRAINS, SELF, switch_apt_rear_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_rear_down;
    1..127: return spriteset_apt_rear_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_rear_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_rear_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_rear_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_rear_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_rear_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_rear_turn_1;

    vehicle_curv_info(0, 0): switch_apt_rear_height;
    return spriteset_apt_rear;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_rear_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_rear_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_rear_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_rear_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_rear_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_rear_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_rear_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_rear_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_apt_half_6_rev_running_cost, current_speed) {
     0: return min(
         (66 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (66 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(66 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        66 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_half_6_rev_graphics, position_in_articulated_veh % (6 * 3)) 
{
    (0 * 3) + 1: switch_apt_tbf2_rev_curve;
    (0 * 3) + 0: switch_apt_tbf2_rev_curve_front;
    (0 * 3) + 2: switch_apt_tbf2_rev_curve_rear;
    
    (1 * 3) + 1: switch_apt_mid_curve;
    (1 * 3) + 0: switch_apt_mid_curve_front;
    (1 * 3) + 2: switch_apt_mid_curve_rear;
    
    (2 * 3) + 1: switch_apt_mid_curve;
    (2 * 3) + 0: switch_apt_mid_curve_front;
    (2 * 3) + 2: switch_apt_mid_curve_rear;
    
    (3 * 3) + 1: switch_apt_mid_curve;
    (3 * 3) + 0: switch_apt_mid_curve_front;
    (3 * 3) + 2: switch_apt_mid_curve_rear;
    
    (4 * 3) + 1: switch_apt_mid_curve;
    (4 * 3) + 0: switch_apt_mid_curve_front;
    (4 * 3) + 2: switch_apt_mid_curve_rear;
    
    (5 * 3) + 1: switch_apt_rear_curve;
    (5 * 3) + 0: switch_apt_rear_curve_front;
    (5 * 3) + 2: switch_apt_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_half_6_rev_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_half_6_rev_attach_wagons, vehicle_type_id) {
    apt_half_6_rev:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_half_6_rev_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_half_6_rev, 371) {
    property {
        name:                         string(STR_NAME_APT_HALF_6_REV);
        climates_available:            param_max_mu_length == 0 ?  ALL_CLIMATES  : NO_CLIMATE ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (222 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.00;

        power:                        10 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  93;
        running_cost_factor:          66;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  370;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               44 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       164.8 ton;
        variant_group:                370;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_half_6_rev_graphics;
        purchase:  spriteset_apt_half_6_rev_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_HALF_6_REV);
        articulated_part: switch_apt_half_6_rev_articulation;
        length: switch_apt_half_6_rev_length;
        running_cost_factor: switch_apt_half_6_rev_running_cost;
        purchase_running_cost_factor: return 66;
        visual_effect_and_powered: switch_apt_half_6_rev_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_tbf2_rev;
        can_attach_wagon: switch_apt_half_6_rev_attach_wagons;
         start_stop: switch_apt_half_6_rev_inhibit_lead;
    }
}
spriteset(spriteset_apt_half_2_purchase, "1x/apt_half_2_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_half_2_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_half_2_purchase.png")
{ template_purchase_2x() }


// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_half_2_articulation, extra_callback_info1) {
    0 .. (2 * 3) - 1: apt_half_2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_half_2_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}






 switch(FEAT_TRAINS, PARENT, switch_apt_half_2_running_cost, current_speed) {
     0: return min(
         (29 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (29 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(29 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        29 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_half_2_graphics, position_in_articulated_veh % (2 * 3)) 
{
    (0 * 3) + 1: switch_apt_curve;
    (0 * 3) + 0: switch_apt_curve_front;
    (0 * 3) + 2: switch_apt_curve_rear;
    
    (1 * 3) + 1: switch_apt_tbf2_curve;
    (1 * 3) + 0: switch_apt_tbf2_curve_front;
    (1 * 3) + 2: switch_apt_tbf2_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_half_2_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_half_2_attach_wagons, vehicle_type_id) {
    apt_half_2:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }



item(FEAT_TRAINS, apt_half_2, 372) {
    property {
        name:                         string(STR_NAME_APT_HALF_2);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.01;

        power:                        10 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  31;
        running_cost_factor:          29;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  370;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               39 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       65.6 ton;
        variant_group:                370;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_half_2_graphics;
        purchase:  spriteset_apt_half_2_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_HALF_2);
        articulated_part: switch_apt_half_2_articulation;
        length: switch_apt_half_2_length;
        running_cost_factor: switch_apt_half_2_running_cost;
        purchase_running_cost_factor: return 29;
        visual_effect_and_powered: switch_apt_half_2_visual_effect;
        purchase_cargo_capacity:  spriteset_apt;
        can_attach_wagon: switch_apt_half_2_attach_wagons;
        
    }
}
spriteset(spriteset_apt_half_2_rev_purchase, "1x/apt_half_2_rev_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_half_2_rev_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_half_2_rev_purchase.png")
{ template_purchase_2x() }


// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_half_2_rev_articulation, extra_callback_info1) {
    0 .. (2 * 3) - 1: apt_half_2_rev;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_half_2_rev_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}






// Lower running cost ramp up for early vehicles
 switch(FEAT_TRAINS, PARENT, switch_apt_half_2_rev_running_cost, current_speed) {
     0: return min(
         (14 + 
                max(
                    ((age_in_days - (max_age_in_days - 1025)) / 250) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (14 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(14 + 
            max(
                ((age_in_days - (max_age_in_days - 1025)) / 250) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        14 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_half_2_rev_graphics, position_in_articulated_veh % (2 * 3)) 
{
    (0 * 3) + 1: switch_apt_tbf2_rev_curve;
    (0 * 3) + 0: switch_apt_tbf2_rev_curve_front;
    (0 * 3) + 2: switch_apt_tbf2_rev_curve_rear;
    
    (1 * 3) + 1: switch_apt_rear_curve;
    (1 * 3) + 0: switch_apt_rear_curve_front;
    (1 * 3) + 2: switch_apt_rear_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_half_2_rev_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_half_2_rev_attach_wagons, vehicle_type_id) {
    apt_half_2_rev:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_half_2_rev_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_half_2_rev, 373) {
    property {
        name:                         string(STR_NAME_APT_HALF_2_REV);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.01;

        power:                        10 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  31;
        running_cost_factor:          14;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  370;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               39 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       65.6 ton;
        variant_group:                370;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_half_2_rev_graphics;
        purchase:  spriteset_apt_half_2_rev_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_HALF_2_REV);
        articulated_part: switch_apt_half_2_rev_articulation;
        length: switch_apt_half_2_rev_length;
        running_cost_factor: switch_apt_half_2_rev_running_cost;
        purchase_running_cost_factor: return 14;
        visual_effect_and_powered: switch_apt_half_2_rev_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_tbf2_rev;
        can_attach_wagon: switch_apt_half_2_rev_attach_wagons;
         start_stop: switch_apt_half_2_rev_inhibit_lead;
    }
}
spriteset(spriteset_apt_powercar_purchase, "1x/apt_powercar_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_powercar_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_powercar_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_power, "1x/apt_power_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_power, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_power_turn_1, "1x/apt_power_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_power_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_power_turn_2, "1x/apt_power_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_power_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_power_up, "1x/apt_power_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_power_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_power_down, "1x/apt_power_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_power_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_power_sections_front, "1x/apt_power_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_power_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_power_sections_mid, "1x/apt_power_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_power_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_power_sections_rear, "1x/apt_power_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_power_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_powercar_articulation, extra_callback_info1) {
    0 .. (1 * 3) - 1: apt_powercar;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_powercar_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_power_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_power_sections_mid;
    return spriteset_apt_power;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_power_down;
    1..127: return spriteset_apt_power_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_power_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_power_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_power_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_power_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_power_turn_1;

    vehicle_curv_info(0, 0): switch_apt_power_height;
    return spriteset_apt_power;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_power_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_power_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_power_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_power_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_power_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_power_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_apt_powercar_running_cost, current_speed) {
     0: return min(
         (154 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (154 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(154 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        154 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_powercar_graphics, position_in_articulated_veh % (1 * 3)) 
{
    (0 * 3) + 1: switch_apt_power_curve;
    (0 * 3) + 0: switch_apt_power_curve_front;
    (0 * 3) + 2: switch_apt_power_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_powercar_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_powercar_attach_wagons, vehicle_type_id) {
    apt_powercar:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_powercar_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_powercar, 374) {
    property {
        name:                         string(STR_NAME_APT_POWERCAR);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        

        engine_class:                 ENGINE_CLASS_ELECTRIC;
        

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.31;

        power:                        4000 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  82;
        running_cost_factor:          154;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  370;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   ELRL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               0 / 3;
        
        weight:                       67.5 ton;
        variant_group:                370;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_powercar_graphics;
        purchase:  spriteset_apt_powercar_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_POWERCAR);
        articulated_part: switch_apt_powercar_articulation;
        length: switch_apt_powercar_length;
        running_cost_factor: switch_apt_powercar_running_cost;
        purchase_running_cost_factor: return 154;
        visual_effect_and_powered: switch_apt_powercar_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_power;
        can_attach_wagon: switch_apt_powercar_attach_wagons;
         start_stop: switch_apt_powercar_inhibit_lead;
    }
}
spriteset(spriteset_apt_powercar2_purchase, "1x/apt_powercar2_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_powercar2_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_powercar2_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_power_rev, "1x/apt_power_rev_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_power_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_power_rev_turn_1, "1x/apt_power_rev_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_power_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_power_rev_turn_2, "1x/apt_power_rev_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_power_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_power_rev_up, "1x/apt_power_rev_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_power_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_power_rev_down, "1x/apt_power_rev_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_power_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_power_rev_sections_front, "1x/apt_power_rev_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_power_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_power_rev_sections_mid, "1x/apt_power_rev_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_power_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_power_rev_sections_rear, "1x/apt_power_rev_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_power_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_power_rev_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_powercar2_articulation, extra_callback_info1) {
    0 .. (1 * 3) - 1: apt_powercar2;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_powercar2_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_power_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_power_rev_sections_mid;
    return spriteset_apt_power_rev;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_power_rev_down;
    1..127: return spriteset_apt_power_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_power_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_power_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_power_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_power_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_power_rev_turn_1;

    vehicle_curv_info(0, 0): switch_apt_power_rev_height;
    return spriteset_apt_power_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_power_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_power_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_power_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_power_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_power_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_power_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_power_rev_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_apt_powercar2_running_cost, current_speed) {
     0: return min(
         (154 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (154 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(154 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        154 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_powercar2_graphics, position_in_articulated_veh % (1 * 3)) 
{
    (0 * 3) + 1: switch_apt_power_rev_curve;
    (0 * 3) + 0: switch_apt_power_rev_curve_front;
    (0 * 3) + 2: switch_apt_power_rev_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_powercar2_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_powercar2_attach_wagons, vehicle_type_id) {
    apt_powercar2:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_powercar2_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_powercar2, 375) {
    property {
        name:                         string(STR_NAME_APT_POWERCAR2);
        climates_available:            ALL_CLIMATES ;
        introduction_date:            date(1979, 8, 5);
        model_life:                   17;
        retire_early:                 -4;
        vehicle_life:                 12;

        

        engine_class:                 ENGINE_CLASS_ELECTRIC;
        

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.31;

        power:                        4000 hp;
        speed:                        155 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  82;
        running_cost_factor:          154;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  370;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   ELRL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (155 * 1.6);

        
        cargo_capacity:               0 / 3;
        
        weight:                       67.5 ton;
        variant_group:                370;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_powercar2_graphics;
        purchase:  spriteset_apt_powercar2_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_POWERCAR2);
        articulated_part: switch_apt_powercar2_articulation;
        length: switch_apt_powercar2_length;
        running_cost_factor: switch_apt_powercar2_running_cost;
        purchase_running_cost_factor: return 154;
        visual_effect_and_powered: switch_apt_powercar2_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_power_rev;
        can_attach_wagon: switch_apt_powercar2_attach_wagons;
         start_stop: switch_apt_powercar2_inhibit_lead;
    }
}

spriteset(spriteset_apt_s_dm_purchase, "1x/apt_s_dm_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_s_dm_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_s_dm, "1x/apt_s_dm_8bpp.png" )
{ template_auto_13_1x() }

alternative_sprites(spriteset_apt_s_dm, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_8bpp.png")
{ template_auto_13_2x() }




spriteset (spriteset_apt_s_dm_turn_1, "1x/apt_s_dm_8bpp.png" )
{ template_auto_turn_1_13_1x() }

alternative_sprites(spriteset_apt_s_dm_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_8bpp.png")
{ template_auto_turn_1_13_2x() }




spriteset (spriteset_apt_s_dm_turn_2, "1x/apt_s_dm_8bpp.png" )
{ template_auto_turn_2_13_1x() }

alternative_sprites(spriteset_apt_s_dm_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_8bpp.png")
{ template_auto_turn_2_13_2x() }





spriteset (spriteset_apt_s_dm_up, "1x/apt_s_dm_up_8bpp.png" )
{ template_auto_up_13_1x() }

alternative_sprites(spriteset_apt_s_dm_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_up_8bpp.png")
{ template_auto_up_13_2x() }





spriteset (spriteset_apt_s_dm_down, "1x/apt_s_dm_down_8bpp.png" )
{ template_auto_down_13_1x() }

alternative_sprites(spriteset_apt_s_dm_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_down_8bpp.png")
{ template_auto_down_13_2x() }






spriteset (spriteset_apt_s_dm_sections_front, "1x/apt_s_dm_sections_8bpp.png" )
{ template_auto_front_13_1x() }

alternative_sprites(spriteset_apt_s_dm_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_sections_8bpp.png")
{ template_auto_front_13_2x() }



spriteset (spriteset_apt_s_dm_sections_mid, "1x/apt_s_dm_sections_8bpp.png" )
{ template_auto_mid_13_1x() }

alternative_sprites(spriteset_apt_s_dm_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_sections_8bpp.png")
{ template_auto_mid_13_2x() }



spriteset (spriteset_apt_s_dm_sections_rear, "1x/apt_s_dm_sections_8bpp.png" )
{ template_auto_rear_13_1x() }

alternative_sprites(spriteset_apt_s_dm_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_sections_8bpp.png")
{ template_auto_rear_13_2x() }






// Graphics - animated or not

spriteset (spriteset_apt_s_dm_rev, "1x/apt_s_dm_rev_8bpp.png" )
{ template_auto_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_8bpp.png")
{ template_auto_13_2x() }




spriteset (spriteset_apt_s_dm_rev_turn_1, "1x/apt_s_dm_rev_8bpp.png" )
{ template_auto_turn_1_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_8bpp.png")
{ template_auto_turn_1_13_2x() }




spriteset (spriteset_apt_s_dm_rev_turn_2, "1x/apt_s_dm_rev_8bpp.png" )
{ template_auto_turn_2_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_8bpp.png")
{ template_auto_turn_2_13_2x() }





spriteset (spriteset_apt_s_dm_rev_up, "1x/apt_s_dm_rev_up_8bpp.png" )
{ template_auto_up_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_up_8bpp.png")
{ template_auto_up_13_2x() }





spriteset (spriteset_apt_s_dm_rev_down, "1x/apt_s_dm_rev_down_8bpp.png" )
{ template_auto_down_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_down_8bpp.png")
{ template_auto_down_13_2x() }





spriteset (spriteset_apt_s_dm_rev_sections_front, "1x/apt_s_dm_rev_sections_8bpp.png" )
{ template_auto_front_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_sections_8bpp.png")
{ template_auto_front_13_2x() }



spriteset (spriteset_apt_s_dm_rev_sections_mid, "1x/apt_s_dm_rev_sections_8bpp.png" )
{ template_auto_mid_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_sections_8bpp.png")
{ template_auto_mid_13_2x() }



spriteset (spriteset_apt_s_dm_rev_sections_rear, "1x/apt_s_dm_rev_sections_8bpp.png" )
{ template_auto_rear_13_1x() }

alternative_sprites(spriteset_apt_s_dm_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_dm_rev_sections_8bpp.png")
{ template_auto_rear_13_2x() }








// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_s_dm_sections_mid;
    return spriteset_apt_s_dm;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_s_dm_down;
    1..127: return spriteset_apt_s_dm_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_s_dm_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_s_dm_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_s_dm_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_s_dm_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_s_dm_turn_1;

    vehicle_curv_info(0, 0): switch_apt_s_dm_height;
    return spriteset_apt_s_dm;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_s_dm_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_s_dm_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_s_dm_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_s_dm_height_rear;
    return spriteset_invisible;
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_s_dm_rev_sections_mid;
    return spriteset_apt_s_dm_rev;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_s_dm_rev_down;
    1..127: return spriteset_apt_s_dm_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_s_dm_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_s_dm_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_s_dm_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_s_dm_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_s_dm_rev_turn_1;

    vehicle_curv_info(0, 0): switch_apt_s_dm_rev_height;
    return spriteset_apt_s_dm_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_s_dm_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_s_dm_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_s_dm_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_s_dm_rev_height_rear;
    return spriteset_invisible;
}



// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_s_dm_articulation, extra_callback_info1) {
    0 .. 2: apt_s_dm;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_length, position_in_articulated_veh % 3) 
{
    0: return 4;
    1: return 5;
    2: return 4;
        
}



switch (FEAT_TRAINS, SELF, switch_apt_s_dm_fwd_graphics, position_in_articulated_veh % 3) 
{
    1: switch_apt_s_dm_curve;
    
    0: switch_apt_s_dm_curve_front;
    2: switch_apt_s_dm_curve_rear;
    
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_s_dm_rev_graphics, position_in_articulated_veh % 3) 
{
    1: switch_apt_s_dm_rev_curve;
    
    0: switch_apt_s_dm_rev_curve_front;
    2: switch_apt_s_dm_rev_curve_rear;
    
    return spriteset_invisible;
}


switch (FEAT_TRAINS, SELF, switch_apt_s_dm_graphics,  num_vehs_in_consist > 3 ? position_in_consist_from_end : -1) {
    0..2: switch_apt_s_dm_rev_graphics;
    switch_apt_s_dm_fwd_graphics;
}










// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_s_dm_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_ELECTRIC, 0);
    
    return VISUAL_EFFECT_DISABLE;
}


 switch(FEAT_TRAINS, PARENT, switch_apt_s_dm_running_cost, current_speed) {
     0: return min(
         (88 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (88 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(88 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        88 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }



item(FEAT_TRAINS, apt_s_dm, 380) {
    property {
        name:                         string(STR_NAME_APT_S_DM);
        climates_available:            ALL_CLIMATES ;        
        introduction_date:            date(1986, 7, 1);
        model_life:                   16;
        retire_early:                 4;
        vehicle_life:                 20;

        
        refittable_cargo_classes: bitmask(CC_MAIL);
        

        engine_class:                 ENGINE_CLASS_ELECTRIC;
        

        
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.27;
        power:                        4000 hp;
        speed:                        140 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  104;
        running_cost_factor:          88;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC );

        refit_cost:                   0;
        track_type:                   ELRL;
        dual_headed:                  0;

        air_drag_coefficient:         7 / (140 * 1.6);

        cargo_capacity:               0 / 3;
        
        weight:                       76.8  ton;
        
    }

        graphics {    
        default:  switch_apt_s_dm_graphics;   
        purchase:  spriteset_apt_s_dm_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_S_DM);
        articulated_part: switch_apt_s_dm_articulation;
        length: switch_apt_s_dm_length;
        running_cost_factor: switch_apt_s_dm_running_cost;
        purchase_running_cost_factor: return 88;
        visual_effect_and_powered: switch_apt_s_dm_visual_effect;
        
        
        
    }
}


spriteset(spriteset_apt_q_dvt_purchase, "1x/apt_q_dvt_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_q_dvt_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_q_dvt, "1x/apt_q_dvt_8bpp.png" )
{ template_auto_13_1x() }

alternative_sprites(spriteset_apt_q_dvt, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_8bpp.png")
{ template_auto_13_2x() }




spriteset (spriteset_apt_q_dvt_turn_1, "1x/apt_q_dvt_8bpp.png" )
{ template_auto_turn_1_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_8bpp.png")
{ template_auto_turn_1_13_2x() }




spriteset (spriteset_apt_q_dvt_turn_2, "1x/apt_q_dvt_8bpp.png" )
{ template_auto_turn_2_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_8bpp.png")
{ template_auto_turn_2_13_2x() }





spriteset (spriteset_apt_q_dvt_up, "1x/apt_q_dvt_up_8bpp.png" )
{ template_auto_up_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_up_8bpp.png")
{ template_auto_up_13_2x() }





spriteset (spriteset_apt_q_dvt_down, "1x/apt_q_dvt_down_8bpp.png" )
{ template_auto_down_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_down_8bpp.png")
{ template_auto_down_13_2x() }






spriteset (spriteset_apt_q_dvt_sections_front, "1x/apt_q_dvt_sections_8bpp.png" )
{ template_auto_front_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_sections_8bpp.png")
{ template_auto_front_13_2x() }



spriteset (spriteset_apt_q_dvt_sections_mid, "1x/apt_q_dvt_sections_8bpp.png" )
{ template_auto_mid_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_sections_8bpp.png")
{ template_auto_mid_13_2x() }



spriteset (spriteset_apt_q_dvt_sections_rear, "1x/apt_q_dvt_sections_8bpp.png" )
{ template_auto_rear_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_sections_8bpp.png")
{ template_auto_rear_13_2x() }






// Graphics - animated or not

spriteset (spriteset_apt_q_dvt_rev, "1x/apt_q_dvt_rev_8bpp.png" )
{ template_auto_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_8bpp.png")
{ template_auto_13_2x() }




spriteset (spriteset_apt_q_dvt_rev_turn_1, "1x/apt_q_dvt_rev_8bpp.png" )
{ template_auto_turn_1_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_8bpp.png")
{ template_auto_turn_1_13_2x() }




spriteset (spriteset_apt_q_dvt_rev_turn_2, "1x/apt_q_dvt_rev_8bpp.png" )
{ template_auto_turn_2_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_8bpp.png")
{ template_auto_turn_2_13_2x() }





spriteset (spriteset_apt_q_dvt_rev_up, "1x/apt_q_dvt_rev_up_8bpp.png" )
{ template_auto_up_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_up_8bpp.png")
{ template_auto_up_13_2x() }





spriteset (spriteset_apt_q_dvt_rev_down, "1x/apt_q_dvt_rev_down_8bpp.png" )
{ template_auto_down_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_down_8bpp.png")
{ template_auto_down_13_2x() }





spriteset (spriteset_apt_q_dvt_rev_sections_front, "1x/apt_q_dvt_rev_sections_8bpp.png" )
{ template_auto_front_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_sections_8bpp.png")
{ template_auto_front_13_2x() }



spriteset (spriteset_apt_q_dvt_rev_sections_mid, "1x/apt_q_dvt_rev_sections_8bpp.png" )
{ template_auto_mid_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_sections_8bpp.png")
{ template_auto_mid_13_2x() }



spriteset (spriteset_apt_q_dvt_rev_sections_rear, "1x/apt_q_dvt_rev_sections_8bpp.png" )
{ template_auto_rear_13_1x() }

alternative_sprites(spriteset_apt_q_dvt_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_q_dvt_rev_sections_8bpp.png")
{ template_auto_rear_13_2x() }








// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_q_dvt_sections_mid;
    return spriteset_apt_q_dvt;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_q_dvt_down;
    1..127: return spriteset_apt_q_dvt_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_q_dvt_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_q_dvt_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_q_dvt_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_q_dvt_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_q_dvt_turn_1;

    vehicle_curv_info(0, 0): switch_apt_q_dvt_height;
    return spriteset_apt_q_dvt;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_q_dvt_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_q_dvt_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_q_dvt_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_q_dvt_height_rear;
    return spriteset_invisible;
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_q_dvt_rev_sections_mid;
    return spriteset_apt_q_dvt_rev;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_q_dvt_rev_down;
    1..127: return spriteset_apt_q_dvt_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_q_dvt_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_q_dvt_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_q_dvt_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_q_dvt_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_q_dvt_rev_turn_1;

    vehicle_curv_info(0, 0): switch_apt_q_dvt_rev_height;
    return spriteset_apt_q_dvt_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_q_dvt_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_q_dvt_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_q_dvt_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_q_dvt_rev_height_rear;
    return spriteset_invisible;
}



// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_q_dvt_articulation, extra_callback_info1) {
    0 .. 2: apt_q_dvt;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_length, position_in_articulated_veh % 3) 
{
    0: return 4;
    1: return 5;
    2: return 4;
        
}



switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_fwd_graphics, position_in_articulated_veh % 3) 
{
    1: switch_apt_q_dvt_curve;
    
    0: switch_apt_q_dvt_curve_front;
    2: switch_apt_q_dvt_curve_rear;
    
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_rev_graphics, position_in_articulated_veh % 3) 
{
    1: switch_apt_q_dvt_rev_curve;
    
    0: switch_apt_q_dvt_rev_curve_front;
    2: switch_apt_q_dvt_rev_curve_rear;
    
    return spriteset_invisible;
}


switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_graphics,  num_vehs_in_consist > 3 ? position_in_consist_from_end : -1) {
    0..2: switch_apt_q_dvt_rev_graphics;
    switch_apt_q_dvt_fwd_graphics;
}










// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_q_dvt_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}


 switch(FEAT_TRAINS, PARENT, switch_apt_q_dvt_running_cost, current_speed) {
     0: return min(
         (33 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (33 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(33 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        33 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }



item(FEAT_TRAINS, apt_q_dvt, 382) {
    property {
        name:                         string(STR_NAME_APT_Q_DVT);
        climates_available:            ALL_CLIMATES ;        
        introduction_date:            date(1986, 7, 1);
        model_life:                   16;
        retire_early:                 4;
        vehicle_life:                 20;

        
        refittable_cargo_classes: bitmask(CC_MAIL);
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (185 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.01;
        power:                        100 hp;
        speed:                        140 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  28;
        running_cost_factor:          33;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC );
            variant_group:                  380;
            extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                  0;

        air_drag_coefficient:         7 / (140 * 1.6);

        cargo_capacity:               36 / 3;
        
        default_cargo_type:           MAIL;
        
        weight:                       38.4  ton;
        
    }

        graphics {    
        default:  switch_apt_q_dvt_graphics;   
        purchase:  spriteset_apt_q_dvt_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_Q_DVT);
        articulated_part: switch_apt_q_dvt_articulation;
        length: switch_apt_q_dvt_length;
        running_cost_factor: switch_apt_q_dvt_running_cost;
        purchase_running_cost_factor: return 33;
        visual_effect_and_powered: switch_apt_q_dvt_visual_effect;
        
        purchase_cargo_capacity:  spriteset_apt_q_dvt;
        
    }
}

spriteset(spriteset_apt_s_10_purchase, "1x/apt_s_10_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_s_10_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_10_purchase.png")
{ template_purchase_2x() }

spriteset (spriteset_apt_tbf_rev, "1x/apt_tbf_rev_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_tbf_rev_turn_1, "1x/apt_tbf_rev_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_tbf_rev_turn_2, "1x/apt_tbf_rev_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_tbf_rev_up, "1x/apt_tbf_rev_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_tbf_rev_down, "1x/apt_tbf_rev_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_tbf_rev_sections_front, "1x/apt_tbf_rev_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_tbf_rev_sections_mid, "1x/apt_tbf_rev_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_tbf_rev_sections_rear, "1x/apt_tbf_rev_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_tbf_rev_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_rev_sections_8bpp.png")
{ template_auto_rear_12_2x() }





spriteset (spriteset_apt_tbf, "1x/apt_tbf_8bpp.png" )
{ template_auto_12_1x() }

alternative_sprites(spriteset_apt_tbf, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_8bpp.png")
{ template_auto_12_2x() }




spriteset (spriteset_apt_tbf_turn_1, "1x/apt_tbf_8bpp.png" )
{ template_auto_turn_1_12_1x() }

alternative_sprites(spriteset_apt_tbf_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_8bpp.png")
{ template_auto_turn_1_12_2x() }




spriteset (spriteset_apt_tbf_turn_2, "1x/apt_tbf_8bpp.png" )
{ template_auto_turn_2_12_1x() }

alternative_sprites(spriteset_apt_tbf_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_8bpp.png")
{ template_auto_turn_2_12_2x() }





spriteset (spriteset_apt_tbf_up, "1x/apt_tbf_up_8bpp.png" )
{ template_auto_up_12_1x() }

alternative_sprites(spriteset_apt_tbf_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_up_8bpp.png")
{ template_auto_up_12_2x() }





spriteset (spriteset_apt_tbf_down, "1x/apt_tbf_down_8bpp.png" )
{ template_auto_down_12_1x() }

alternative_sprites(spriteset_apt_tbf_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_down_8bpp.png")
{ template_auto_down_12_2x() }






spriteset (spriteset_apt_tbf_sections_front, "1x/apt_tbf_sections_8bpp.png" )
{ template_auto_front_12_1x() }

alternative_sprites(spriteset_apt_tbf_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_sections_8bpp.png")
{ template_auto_front_12_2x() }



spriteset (spriteset_apt_tbf_sections_mid, "1x/apt_tbf_sections_8bpp.png" )
{ template_auto_mid_12_1x() }

alternative_sprites(spriteset_apt_tbf_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_sections_8bpp.png")
{ template_auto_mid_12_2x() }



spriteset (spriteset_apt_tbf_sections_rear, "1x/apt_tbf_sections_8bpp.png" )
{ template_auto_rear_12_1x() }

alternative_sprites(spriteset_apt_tbf_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_tbf_sections_8bpp.png")
{ template_auto_rear_12_2x() }






// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_s_10_articulation, extra_callback_info1) {
    0 .. (10 * 3) - 1: apt_s_10;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_s_10_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}




// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_tbf_rev_sections_mid;
    return spriteset_apt_tbf_rev;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_tbf_rev_down;
    1..127: return spriteset_apt_tbf_rev_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_tbf_rev_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_tbf_rev_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_tbf_rev_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_tbf_rev_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_tbf_rev_turn_1;

    vehicle_curv_info(0, 0): switch_apt_tbf_rev_height;
    return spriteset_apt_tbf_rev;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_tbf_rev_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_tbf_rev_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_tbf_rev_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_rev_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_tbf_rev_height_rear;
    return spriteset_invisible;
}


// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_apt_tbf_crest_check, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_apt_tbf_sections_mid;
    return spriteset_apt_tbf;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_height, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_apt_tbf_down;
    1..127: return spriteset_apt_tbf_up;    

    // Long vehicle, use the 3-sprite layout
    switch_apt_tbf_crest_check;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_curve, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_apt_tbf_turn_1;
    vehicle_curv_info(0, 1): return spriteset_apt_tbf_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_apt_tbf_turn_2;
    vehicle_curv_info(0, -1): return spriteset_apt_tbf_turn_1;

    vehicle_curv_info(0, 0): switch_apt_tbf_height;
    return spriteset_apt_tbf;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_apt_tbf_height_front, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_apt_tbf_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_curve_front, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_apt_tbf_height_front;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_apt_tbf_height_rear, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_apt_tbf_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_apt_tbf_curve_rear, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_apt_tbf_height_rear;
    return spriteset_invisible;
}




 switch(FEAT_TRAINS, PARENT, switch_apt_s_10_running_cost, current_speed) {
     0: return min(
         (51 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (51 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(51 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        51 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_s_10_graphics, position_in_articulated_veh % (10 * 3)) 
{
    (0 * 3) + 1: switch_apt_tbf_rev_curve;
    (0 * 3) + 0: switch_apt_tbf_rev_curve_front;
    (0 * 3) + 2: switch_apt_tbf_rev_curve_rear;
    
    (1 * 3) + 1: switch_apt_mid_curve;
    (1 * 3) + 0: switch_apt_mid_curve_front;
    (1 * 3) + 2: switch_apt_mid_curve_rear;
    
    (2 * 3) + 1: switch_apt_mid_curve;
    (2 * 3) + 0: switch_apt_mid_curve_front;
    (2 * 3) + 2: switch_apt_mid_curve_rear;
    
    (3 * 3) + 1: switch_apt_mid_curve;
    (3 * 3) + 0: switch_apt_mid_curve_front;
    (3 * 3) + 2: switch_apt_mid_curve_rear;
    
    (4 * 3) + 1: switch_apt_mid_curve;
    (4 * 3) + 0: switch_apt_mid_curve_front;
    (4 * 3) + 2: switch_apt_mid_curve_rear;
    
    (5 * 3) + 1: switch_apt_mid_curve;
    (5 * 3) + 0: switch_apt_mid_curve_front;
    (5 * 3) + 2: switch_apt_mid_curve_rear;
    
    (6 * 3) + 1: switch_apt_mid_curve;
    (6 * 3) + 0: switch_apt_mid_curve_front;
    (6 * 3) + 2: switch_apt_mid_curve_rear;
    
    (7 * 3) + 1: switch_apt_mid_curve;
    (7 * 3) + 0: switch_apt_mid_curve_front;
    (7 * 3) + 2: switch_apt_mid_curve_rear;
    
    (8 * 3) + 1: switch_apt_mid_curve;
    (8 * 3) + 0: switch_apt_mid_curve_front;
    (8 * 3) + 2: switch_apt_mid_curve_rear;
    
    (9 * 3) + 1: switch_apt_tbf_curve;
    (9 * 3) + 0: switch_apt_tbf_curve_front;
    (9 * 3) + 2: switch_apt_tbf_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_s_10_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_s_10_attach_wagons, vehicle_type_id) {
    apt_s_10:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_s_10_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_s_10, 384) {
    property {
        name:                         string(STR_NAME_APT_S_10);
        climates_available:            param_max_mu_length == 0 ?  ALL_CLIMATES  : NO_CLIMATE ;
        introduction_date:            date(1986, 7, 5);
        model_life:                   16;
        retire_early:                 -4;
        vehicle_life:                 20;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (222 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.00;

        power:                        10 hp;
        speed:                        140 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  62;
        running_cost_factor:          51;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  380;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (140 * 1.6);

        
        cargo_capacity:               49 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       258.2 ton;
        variant_group:                380;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_s_10_graphics;
        purchase:  spriteset_apt_s_10_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_S_10);
        articulated_part: switch_apt_s_10_articulation;
        length: switch_apt_s_10_length;
        running_cost_factor: switch_apt_s_10_running_cost;
        purchase_running_cost_factor: return 51;
        visual_effect_and_powered: switch_apt_s_10_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_tbf_rev;
        can_attach_wagon: switch_apt_s_10_attach_wagons;
         start_stop: switch_apt_s_10_inhibit_lead;
    }
}
spriteset(spriteset_apt_s_6_purchase, "1x/apt_s_6_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_apt_s_6_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/apt_s_6_purchase.png")
{ template_purchase_2x() }


// Articulation
switch(FEAT_TRAINS, SELF, switch_apt_s_6_articulation, extra_callback_info1) {
    0 .. (6 * 3) - 1: apt_s_6;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


// All parts of this MU are the same length
switch (FEAT_TRAINS, SELF, switch_apt_s_6_length, position_in_articulated_veh % 3 ) 
{
    0: return 4;
    1: return 4;
    2: return 4;
        
}






 switch(FEAT_TRAINS, PARENT, switch_apt_s_6_running_cost, current_speed) {
     0: return min(
         (38 + 
                max(
                    ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                    (1 + (param_run_cost_penalty*4)), 0
                )
            ) / 3, 
         (38 * 3 * (1 + (param_run_cost_penalty*3))) / 3
        );

     return min(38 + 
            max(
                ((age_in_days - (max_age_in_days - 1825)) / 75) * 
                (1 + (param_run_cost_penalty*4)), 0
            )
            , 
        38 * 3 * (1 + (param_run_cost_penalty*3))
    );
 }


switch (FEAT_TRAINS, SELF, switch_apt_s_6_graphics, position_in_articulated_veh % (6 * 3)) 
{
    (0 * 3) + 1: switch_apt_tbf_rev_curve;
    (0 * 3) + 0: switch_apt_tbf_rev_curve_front;
    (0 * 3) + 2: switch_apt_tbf_rev_curve_rear;
    
    (1 * 3) + 1: switch_apt_mid_curve;
    (1 * 3) + 0: switch_apt_mid_curve_front;
    (1 * 3) + 2: switch_apt_mid_curve_rear;
    
    (2 * 3) + 1: switch_apt_mid_curve;
    (2 * 3) + 0: switch_apt_mid_curve_front;
    (2 * 3) + 2: switch_apt_mid_curve_rear;
    
    (3 * 3) + 1: switch_apt_mid_curve;
    (3 * 3) + 0: switch_apt_mid_curve_front;
    (3 * 3) + 2: switch_apt_mid_curve_rear;
    
    (4 * 3) + 1: switch_apt_mid_curve;
    (4 * 3) + 0: switch_apt_mid_curve_front;
    (4 * 3) + 2: switch_apt_mid_curve_rear;
    
    (5 * 3) + 1: switch_apt_tbf_curve;
    (5 * 3) + 0: switch_apt_tbf_curve_front;
    (5 * 3) + 2: switch_apt_tbf_curve_rear;
    
    return spriteset_invisible;
}





// Visual effect
switch (FEAT_TRAINS, SELF, switch_apt_s_6_visual_effect, position_in_articulated_veh ) 
{ 
    1: return visual_effect(VISUAL_EFFECT_DISABLE, 0);
    
    return VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, switch_apt_s_6_attach_wagons, vehicle_type_id) {
    apt_s_6:  return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_6_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar: return CB_RESULT_ATTACH_ALLOW;
    
    apt_powercar2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2: return CB_RESULT_ATTACH_ALLOW;
    
    apt_half_2_rev: return CB_RESULT_ATTACH_ALLOW;
    
    apt_q_dvt: return CB_RESULT_ATTACH_ALLOW;
    
    apt_s_dm: return CB_RESULT_ATTACH_ALLOW;
    
    return string(STR_MU_CANNOT_ATTACH);
 }

switch(FEAT_TRAINS, SELF, switch_apt_s_6_inhibit_lead, position_in_consist) {
    0:  return string(STR_CANNOT_LEAD);
    return CB_RESULT_NO_TEXT;
 }

item(FEAT_TRAINS, apt_s_6, 386) {
    property {
        name:                         string(STR_NAME_APT_S_6);
        climates_available:            param_max_mu_length < 2 ?  ALL_CLIMATES  : NO_CLIMATE ;
        introduction_date:            date(1986, 7, 5);
        model_life:                   16;
        retire_early:                 -4;
        vehicle_life:                 20;

        
        refittable_cargo_classes: bitmask(CC_PASSENGERS);
        cargo_allow_refit: [ YETI, YETY ]; 
        

        engine_class:                 ENGINE_CLASS_DIESEL;

        cargo_age_period:             (222 * cargo_age_multiplier) / 2;
        running_cost_base:            RUNNING_COST_DIESEL;
        tractive_effort_coefficient:  0.00;

        power:                        10 hp;
        speed:                        140 mph;
        reliability_decay:            20;
        loading_speed:                4;
        cost_factor:                  45;
        running_cost_factor:          38;
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU , TRAIN_FLAG_SPRITE_STACK , TRAIN_FLAG_TILT );
        variant_group:                  380;
        extra_flags:                    bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);

        refit_cost:                   0;
        track_type:                   RAIL;
        dual_headed:                0;

        air_drag_coefficient:         7 / (140 * 1.6);

        
        cargo_capacity:               50 / 3;
        
        default_cargo_type:           PASS;
        
        weight:                       209.6 ton;
        variant_group:                380;
        extra_flags:                  bitmask(VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }

    graphics {
        default:  switch_apt_s_6_graphics;
        purchase:  spriteset_apt_s_6_purchase;
        additional_text: return string(STR_NAME_ADDITIONAL_TEXT_APT_S_6);
        articulated_part: switch_apt_s_6_articulation;
        length: switch_apt_s_6_length;
        running_cost_factor: switch_apt_s_6_running_cost;
        purchase_running_cost_factor: return 38;
        visual_effect_and_powered: switch_apt_s_6_visual_effect;
        purchase_cargo_capacity:  spriteset_apt_tbf_rev;
        can_attach_wagon: switch_apt_s_6_attach_wagons;
         start_stop: switch_apt_s_6_inhibit_lead;
    }
}





spriteset(spriteset_presflo_purchase, "1x/presflo_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_presflo_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_purchase.png")
{ template_purchase_2x() }



spriteset (spriteset_presflo, "1x/presflo_8bpp.png" )
{ template_auto_5_1x() }

alternative_sprites(spriteset_presflo, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_8bpp.png")
{ template_auto_5_2x() }



spriteset (spriteset_presflo_turn_1, "1x/presflo_8bpp.png" )
{ template_auto_turn_1_5_1x() }

alternative_sprites(spriteset_presflo_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_8bpp.png")
{ template_auto_turn_1_5_2x() }



spriteset (spriteset_presflo_turn_2, "1x/presflo_8bpp.png" )
{ template_auto_turn_2_5_1x() }

alternative_sprites(spriteset_presflo_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_8bpp.png")
{ template_auto_turn_2_5_2x() }




spriteset (spriteset_presflo_up, "1x/presflo_up_8bpp.png" )
{ template_auto_up_5_1x() }

alternative_sprites(spriteset_presflo_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_up_8bpp.png")
{ template_auto_up_5_2x() }



spriteset (spriteset_presflo_down, "1x/presflo_down_8bpp.png" )
{ template_auto_down_5_1x() }

alternative_sprites(spriteset_presflo_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_down_8bpp.png")
{ template_auto_down_5_2x() }





    
    spriteset (spriteset_presflo_light, "1x/presflo_light_8bpp.png" )
{ template_auto_5_1x() }

alternative_sprites(spriteset_presflo_light, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_light_8bpp.png")
{ template_auto_5_2x() }



    spriteset (spriteset_presflo_light_turn_1, "1x/presflo_light_8bpp.png" )
{ template_auto_turn_1_5_1x() }

alternative_sprites(spriteset_presflo_light_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_light_8bpp.png")
{ template_auto_turn_1_5_2x() }



    spriteset (spriteset_presflo_light_turn_2, "1x/presflo_light_8bpp.png" )
{ template_auto_turn_2_5_1x() }

alternative_sprites(spriteset_presflo_light_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_light_8bpp.png")
{ template_auto_turn_2_5_2x() }




    spriteset (spriteset_presflo_light_up, "1x/presflo_light_up_8bpp.png" )
{ template_auto_up_5_1x() }

alternative_sprites(spriteset_presflo_light_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_light_up_8bpp.png")
{ template_auto_up_5_2x() }



    spriteset (spriteset_presflo_light_down, "1x/presflo_light_down_8bpp.png" )
{ template_auto_down_5_1x() }

alternative_sprites(spriteset_presflo_light_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_light_down_8bpp.png")
{ template_auto_down_5_2x() }




    
    spriteset (spriteset_presflo_dark, "1x/presflo_dark_8bpp.png" )
{ template_auto_5_1x() }

alternative_sprites(spriteset_presflo_dark, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_dark_8bpp.png")
{ template_auto_5_2x() }



    spriteset (spriteset_presflo_dark_turn_1, "1x/presflo_dark_8bpp.png" )
{ template_auto_turn_1_5_1x() }

alternative_sprites(spriteset_presflo_dark_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_dark_8bpp.png")
{ template_auto_turn_1_5_2x() }



    spriteset (spriteset_presflo_dark_turn_2, "1x/presflo_dark_8bpp.png" )
{ template_auto_turn_2_5_1x() }

alternative_sprites(spriteset_presflo_dark_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_dark_8bpp.png")
{ template_auto_turn_2_5_2x() }




    spriteset (spriteset_presflo_dark_up, "1x/presflo_dark_up_8bpp.png" )
{ template_auto_up_5_1x() }

alternative_sprites(spriteset_presflo_dark_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_dark_up_8bpp.png")
{ template_auto_up_5_2x() }



    spriteset (spriteset_presflo_dark_down, "1x/presflo_dark_down_8bpp.png" )
{ template_auto_down_5_1x() }

alternative_sprites(spriteset_presflo_dark_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/presflo_dark_down_8bpp.png")
{ template_auto_down_5_2x() }













    
switch (FEAT_TRAINS, SELF, switch_presflo_height_regular, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_presflo_down;
    1..127: return spriteset_presflo_up;
    return spriteset_presflo;
}

switch (FEAT_TRAINS, SELF, switch_presflo_curve_regular, getbits(extra_callback_info1, 0, 8) == 0 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_presflo_turn_1;
    vehicle_curv_info(0, 1): return spriteset_presflo_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_presflo_turn_2;
    vehicle_curv_info(0, -1): return spriteset_presflo_turn_1;

    switch_presflo_height_regular;
}

switch (FEAT_TRAINS, SELF, switch_presflo_height_light, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_presflo_light_down;
    1..127: return spriteset_presflo_light_up;
    return spriteset_presflo_light;
}

switch (FEAT_TRAINS, SELF, switch_presflo_curve_light, getbits(extra_callback_info1, 0, 8) == 0 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_presflo_light_turn_1;
    vehicle_curv_info(0, 1): return spriteset_presflo_light_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_presflo_light_turn_2;
    vehicle_curv_info(0, -1): return spriteset_presflo_light_turn_1;

    switch_presflo_height_light;
}

switch (FEAT_TRAINS, SELF, switch_presflo_height_dark, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_presflo_dark_down;
    1..127: return spriteset_presflo_dark_up;
    return spriteset_presflo_dark;
}

switch (FEAT_TRAINS, SELF, switch_presflo_curve_dark, getbits(extra_callback_info1, 0, 8) == 0 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_presflo_dark_turn_1;
    vehicle_curv_info(0, 1): return spriteset_presflo_dark_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_presflo_dark_turn_2;
    vehicle_curv_info(0, -1): return spriteset_presflo_dark_turn_1;

    switch_presflo_height_dark;
}

random_switch (FEAT_TRAINS, SELF, switch_presflo_curve)
{
    3: switch_presflo_curve_regular;
    2: switch_presflo_curve_light;
    2: switch_presflo_curve_dark;
}

    






// Cargo sprites






// End cargo sprites







switch(FEAT_TRAINS, SELF, switch_presflo_articulation, extra_callback_info1) {
0 .. 2: return presflo;
return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_presflo_length, position_in_articulated_veh % 3)
{
0: return 2;
1: return 1;
2: return 2;

}



    
            switch (FEAT_TRAINS, SELF, switch_presflo_graphics, position_in_articulated_veh % 3)
            {
            1: switch_presflo_curve;
            
            return spriteset_invisible;
            }
        


switch (FEAT_TRAINS, PARENT, switch_presflo_speed_brakevan, hasbit(bitmask_consist_info, HAS_BRAKE_VAN)) {

    1: return ((50+5) * 8) / 5;
    return (50 * 8) / 5;
}




item(FEAT_TRAINS, presflo, 25) {
property {
name:                         string(STR_NAME_PRESFLO);
climates_available:            ALL_CLIMATES ;
introduction_date:            date(1955, 1, 5);
model_life:                   40;
retire_early:                 -4;
vehicle_life:                 30;


    default_cargo_type:           BDMT;
    engine_class:                 ENGINE_CLASS_DIESEL; // needed for all wagons to show up in purchase menu

    refittable_cargo_classes: bitmask(CC_POWDER_BULK);
    cargo_allow_refit: [ACID,CHLO,CBLK,CMNT,POTA,NITR,QLME,SALT,SASH];


cargo_age_period:             (185 * cargo_age_multiplier) / 2;


power:                        0 hp;
speed:                        50 mph;
reliability_decay:            20;
loading_speed:                7;
cost_factor:                  8;
running_cost_factor:          31;
sprite_id:                    SPRITE_ID_NEW_TRAIN;
misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_AUTOREFIT );
refit_cost:                   0;
track_type:                   RAIL;
running_cost_base:            RUNNING_COST_STEAM;
cargo_capacity:               20 / 3;
weight:                       12.4 ton;
}

graphics {



    default:  switch_presflo_graphics;





speed: switch_presflo_speed_brakevan;
additional_text: return string(STR_NAME_ADDITIONAL_TEXT_PRESFLO);
articulated_part: switch_presflo_articulation;
length: switch_presflo_length;
purchase:  spriteset_presflo_purchase;
purchase_cargo_capacity: spriteset_presflo;
purchase_speed: return (50 * 8) / 5;




}
}
// Not implemented: pca_tank
// Not implemented: jpa_tank
// Not implemented: grain_hopper
// Not implemented: grainflow





spriteset(spriteset_polybulk_purchase, "1x/polybulk_purchase.png")
{ template_purchase_1x() }

alternative_sprites(spriteset_polybulk_purchase, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_purchase.png")
{ template_purchase_2x() }



spriteset (spriteset_polybulk, "1x/polybulk_8bpp.png" )
{ template_auto_9_1x() }

alternative_sprites(spriteset_polybulk, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_8bpp.png")
{ template_auto_9_2x() }



spriteset (spriteset_polybulk_turn_1, "1x/polybulk_8bpp.png" )
{ template_auto_turn_1_9_1x() }

alternative_sprites(spriteset_polybulk_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_8bpp.png")
{ template_auto_turn_1_9_2x() }



spriteset (spriteset_polybulk_turn_2, "1x/polybulk_8bpp.png" )
{ template_auto_turn_2_9_1x() }

alternative_sprites(spriteset_polybulk_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_8bpp.png")
{ template_auto_turn_2_9_2x() }




spriteset (spriteset_polybulk_up, "1x/polybulk_up_8bpp.png" )
{ template_auto_up_9_1x() }

alternative_sprites(spriteset_polybulk_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_up_8bpp.png")
{ template_auto_up_9_2x() }



spriteset (spriteset_polybulk_down, "1x/polybulk_down_8bpp.png" )
{ template_auto_down_9_1x() }

alternative_sprites(spriteset_polybulk_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_down_8bpp.png")
{ template_auto_down_9_2x() }





    
    spriteset (spriteset_polybulk_light, "1x/polybulk_light_8bpp.png" )
{ template_auto_9_1x() }

alternative_sprites(spriteset_polybulk_light, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_8bpp.png")
{ template_auto_9_2x() }



    spriteset (spriteset_polybulk_light_turn_1, "1x/polybulk_light_8bpp.png" )
{ template_auto_turn_1_9_1x() }

alternative_sprites(spriteset_polybulk_light_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_8bpp.png")
{ template_auto_turn_1_9_2x() }



    spriteset (spriteset_polybulk_light_turn_2, "1x/polybulk_light_8bpp.png" )
{ template_auto_turn_2_9_1x() }

alternative_sprites(spriteset_polybulk_light_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_8bpp.png")
{ template_auto_turn_2_9_2x() }




    spriteset (spriteset_polybulk_light_up, "1x/polybulk_light_up_8bpp.png" )
{ template_auto_up_9_1x() }

alternative_sprites(spriteset_polybulk_light_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_up_8bpp.png")
{ template_auto_up_9_2x() }



    spriteset (spriteset_polybulk_light_down, "1x/polybulk_light_down_8bpp.png" )
{ template_auto_down_9_1x() }

alternative_sprites(spriteset_polybulk_light_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_down_8bpp.png")
{ template_auto_down_9_2x() }




    
    spriteset (spriteset_polybulk_dark, "1x/polybulk_dark_8bpp.png" )
{ template_auto_9_1x() }

alternative_sprites(spriteset_polybulk_dark, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_8bpp.png")
{ template_auto_9_2x() }



    spriteset (spriteset_polybulk_dark_turn_1, "1x/polybulk_dark_8bpp.png" )
{ template_auto_turn_1_9_1x() }

alternative_sprites(spriteset_polybulk_dark_turn_1, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_8bpp.png")
{ template_auto_turn_1_9_2x() }



    spriteset (spriteset_polybulk_dark_turn_2, "1x/polybulk_dark_8bpp.png" )
{ template_auto_turn_2_9_1x() }

alternative_sprites(spriteset_polybulk_dark_turn_2, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_8bpp.png")
{ template_auto_turn_2_9_2x() }




    spriteset (spriteset_polybulk_dark_up, "1x/polybulk_dark_up_8bpp.png" )
{ template_auto_up_9_1x() }

alternative_sprites(spriteset_polybulk_dark_up, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_up_8bpp.png")
{ template_auto_up_9_2x() }



    spriteset (spriteset_polybulk_dark_down, "1x/polybulk_dark_down_8bpp.png" )
{ template_auto_down_9_1x() }

alternative_sprites(spriteset_polybulk_dark_down, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_down_8bpp.png")
{ template_auto_down_9_2x() }








    spriteset (spriteset_polybulk_sections_front, "1x/polybulk_sections_8bpp.png" )
{ template_auto_front_9_1x() }

alternative_sprites(spriteset_polybulk_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_sections_8bpp.png")
{ template_auto_front_9_2x() }



    spriteset (spriteset_polybulk_sections_mid, "1x/polybulk_sections_8bpp.png" )
{ template_auto_mid_9_1x() }

alternative_sprites(spriteset_polybulk_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_sections_8bpp.png")
{ template_auto_mid_9_2x() }



    spriteset (spriteset_polybulk_sections_rear, "1x/polybulk_sections_8bpp.png" )
{ template_auto_rear_9_1x() }

alternative_sprites(spriteset_polybulk_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_sections_8bpp.png")
{ template_auto_rear_9_2x() }




    
        spriteset (spriteset_polybulk_light_sections_front, "1x/polybulk_light_sections_8bpp.png" )
{ template_auto_front_9_1x() }

alternative_sprites(spriteset_polybulk_light_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_sections_8bpp.png")
{ template_auto_front_9_2x() }



        spriteset (spriteset_polybulk_light_sections_mid, "1x/polybulk_light_sections_8bpp.png" )
{ template_auto_mid_9_1x() }

alternative_sprites(spriteset_polybulk_light_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_sections_8bpp.png")
{ template_auto_mid_9_2x() }



        spriteset (spriteset_polybulk_light_sections_rear, "1x/polybulk_light_sections_8bpp.png" )
{ template_auto_rear_9_1x() }

alternative_sprites(spriteset_polybulk_light_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_light_sections_8bpp.png")
{ template_auto_rear_9_2x() }




        spriteset (spriteset_polybulk_dark_sections_front, "1x/polybulk_dark_sections_8bpp.png" )
{ template_auto_front_9_1x() }

alternative_sprites(spriteset_polybulk_dark_sections_front, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_sections_8bpp.png")
{ template_auto_front_9_2x() }



        spriteset (spriteset_polybulk_dark_sections_mid, "1x/polybulk_dark_sections_8bpp.png" )
{ template_auto_mid_9_1x() }

alternative_sprites(spriteset_polybulk_dark_sections_mid, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_sections_8bpp.png")
{ template_auto_mid_9_2x() }



        spriteset (spriteset_polybulk_dark_sections_rear, "1x/polybulk_dark_sections_8bpp.png" )
{ template_auto_rear_9_1x() }

alternative_sprites(spriteset_polybulk_dark_sections_rear, ZOOM_LEVEL_IN_2X, BIT_DEPTH_8BPP, "2x/polybulk_dark_sections_8bpp.png")
{ template_auto_rear_9_2x() }




        

    







    
// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_polybulk_crest_check_regular, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_polybulk_sections_mid;
    return spriteset_polybulk;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_height_regular, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_polybulk_down;
    1..127: return spriteset_polybulk_up;    

    // Long vehicle, use the 3-sprite layout
    switch_polybulk_crest_check_regular;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_regular, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_polybulk_turn_1;
    vehicle_curv_info(0, 1): return spriteset_polybulk_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_polybulk_turn_2;
    vehicle_curv_info(0, -1): return spriteset_polybulk_turn_1;

    vehicle_curv_info(0, 0): switch_polybulk_height_regular;
    return spriteset_polybulk;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_polybulk_height_front_regular, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_polybulk_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_front_regular, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_polybulk_height_front_regular;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_polybulk_height_rear_regular, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_polybulk_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_rear_regular, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_polybulk_height_rear_regular;
    return spriteset_invisible;
}

// Light variant
// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_polybulk_crest_check_light, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_polybulk_light_sections_mid;
    return spriteset_polybulk_light;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_height_light, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_polybulk_light_down;
    1..127: return spriteset_polybulk_light_up;    

    // Long vehicle, use the 3-sprite layout
    switch_polybulk_crest_check_light;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_light, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_polybulk_light_turn_1;
    vehicle_curv_info(0, 1): return spriteset_polybulk_light_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_polybulk_light_turn_2;
    vehicle_curv_info(0, -1): return spriteset_polybulk_light_turn_1;

    vehicle_curv_info(0, 0): switch_polybulk_height_light;
    return spriteset_polybulk_light;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_polybulk_height_front_light, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_polybulk_light_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_front_light, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_polybulk_height_front_light;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_polybulk_height_rear_light, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_polybulk_light_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_rear_light, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_polybulk_height_rear_light;
    return spriteset_invisible;
}

// Dark variant
// Cresting hills is a special case where the full flat sprite should be used, and
// not the 3-part set
switch (FEAT_TRAINS, SELF, switch_polybulk_crest_check_dark, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(1) : 0) {
    0: return spriteset_polybulk_dark_sections_mid;
    return spriteset_polybulk_dark;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_height_dark, getbits(extra_callback_info1, 0, 8) == 0 ? other_veh_z_offset(-1) : 0) {
    -128..-1: return spriteset_polybulk_dark_down;
    1..127: return spriteset_polybulk_dark_up;    

    // Long vehicle, use the 3-sprite layout
    switch_polybulk_crest_check_dark;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_dark, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-1) != 1 ? curv_info : 0)  {
    vehicle_curv_info(1, 0): return spriteset_polybulk_dark_turn_1;
    vehicle_curv_info(0, 1): return spriteset_polybulk_dark_turn_2;

    vehicle_curv_info(-1, 0): return spriteset_polybulk_dark_turn_2;
    vehicle_curv_info(0, -1): return spriteset_polybulk_dark_turn_1;

    vehicle_curv_info(0, 0): switch_polybulk_height_dark;
    return spriteset_polybulk_dark;
}

// Switches for front
switch (FEAT_TRAINS, SELF, switch_polybulk_height_front_dark, getbits(extra_callback_info1, 0, 8) == 0 ?  abs(other_veh_z_offset(1)) + abs(other_veh_z_offset(2))  : 0) {
    0: return spriteset_polybulk_dark_sections_front;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_front_dark, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_curv_info(1)) + abs(other_veh_curv_info(2)) : 0)  {
    0: switch_polybulk_height_front_dark;
    return spriteset_invisible;
}

// Switches for rear
switch (FEAT_TRAINS, SELF, switch_polybulk_height_rear_dark, getbits(extra_callback_info1, 0, 8) == 0 ? abs(other_veh_z_offset(-1)) + abs(other_veh_z_offset(-2)): 0) {
    0: return spriteset_polybulk_dark_sections_rear;
    return spriteset_invisible;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_curve_rear_dark, getbits(extra_callback_info1, 0, 8) == 0 && other_veh_is_hidden(-2) != 1 ? abs(other_veh_curv_info(-1)) + abs(other_veh_curv_info(-2)) : 0)  {
    0: switch_polybulk_height_rear_dark;
    return spriteset_invisible;
}

// Random choice of wagon type
random_switch (FEAT_TRAINS, FORWARD_SELF(1), switch_polybulk_curve)
{
    3: switch_polybulk_curve_regular;
    2: switch_polybulk_curve_light;
    2: switch_polybulk_curve_dark;
}

random_switch (FEAT_TRAINS, SELF, switch_polybulk_curve_front)
{
    3: switch_polybulk_curve_front_regular;
    2: switch_polybulk_curve_front_light;
    2: switch_polybulk_curve_front_dark;
}

random_switch (FEAT_TRAINS, FORWARD_SELF(2), switch_polybulk_curve_rear)
{
    3: switch_polybulk_curve_rear_regular;
    2: switch_polybulk_curve_rear_light;
    2: switch_polybulk_curve_rear_dark;
}

    






// Cargo sprites






// End cargo sprites







switch(FEAT_TRAINS, SELF, switch_polybulk_articulation, extra_callback_info1) {
0 .. 2: return polybulk;
return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_polybulk_length, position_in_articulated_veh % 3)
{
0: return 2;
1: return 5;
2: return 2;

}



    
            switch (FEAT_TRAINS, SELF, switch_polybulk_graphics, position_in_articulated_veh % 3)
            {
            1: switch_polybulk_curve;
            
                0: switch_polybulk_curve_front;
                2: switch_polybulk_curve_rear;
            
            return spriteset_invisible;
            }
        





item(FEAT_TRAINS, polybulk, 32) {
property {
name:                         string(STR_NAME_POLYBULK);
climates_available:            ALL_CLIMATES ;
introduction_date:            date(1973, 1, 5);
model_life:                   VEHICLE_NEVER_EXPIRES;
retire_early:                 -4;
vehicle_life:                 30;


    default_cargo_type:           GRAI;
    engine_class:                 ENGINE_CLASS_DIESEL; // needed for all wagons to show up in purchase menu

    refittable_cargo_classes: bitmask(CC_COVERED_BULK);
    cargo_allow_refit: [ GRAI, CMNT, NITR, POTA ];
    cargo_disallow_refit: [WOOL];


cargo_age_period:             (185 * cargo_age_multiplier) / 2;


power:                        0 hp;
speed:                        75 mph;
reliability_decay:            20;
loading_speed:                5;
cost_factor:                  15;
running_cost_factor:          38;
sprite_id:                    SPRITE_ID_NEW_TRAIN;
misc_flags:                   bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_AUTOREFIT );
refit_cost:                   0;
track_type:                   RAIL;
running_cost_base:            RUNNING_COST_STEAM;
cargo_capacity:               78 / 3;
weight:                       22.7 ton;
}

graphics {



    default:  switch_polybulk_graphics;






additional_text: return string(STR_NAME_ADDITIONAL_TEXT_POLYBULK);
articulated_part: switch_polybulk_articulation;
length: switch_polybulk_length;
purchase:  spriteset_polybulk_purchase;
purchase_cargo_capacity: spriteset_polybulk;
purchase_speed: return (75 * 8) / 5;




}
}
// Not implemented: lnwr_sleeper
// Not implemented: mk1_sleeper
// Not implemented: mk3_sleeper

sort(FEAT_TRAINS, [class_201_4car, class_201_6car, class_205_3car, class_205_2car, class_153, apt_half_6, apt_half_6_rev, apt_half_2, apt_half_2_rev, apt_powercar, apt_powercar2, apt_s_dm, apt_q_dvt, apt_s_10, apt_s_6, br_class_411, br_class_419, br_class_489, presflo, polybulk]);
